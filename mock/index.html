<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Mock MathSoil</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <script src='../dist/dev/mathtree.js'></script>
</head>

<body>
    <textarea id="code" rows="40" cols="100" spellcheck="false">
    </textarea>

    <button type="button" onClick="draw()">Draw!</button>
    <button type="button" onClick="run()">Run!</button>

    <div id="img"></div>

    <script>
        let template = `const pen = new Pen();

pen.range.set([-5,5],[-5,5]);
pen.size.set(1);

pen.axis.x();
pen.axis.y();
pen.grid.x();
pen.grid.y();
pen.tick.x();
pen.tick.y();`

        document.getElementById("code").value = template

        function draw() {
            let text = document.getElementById("code").value
            let q = '<img src="img" style="border:1px solid #000000" />';
            eval(text + '\n document.getElementById("img").innerHTML = pen.export(q,"img")');
        }


        function run() {
            let text = document.getElementById("code").value
            eval(text);
        }



    </script>



</body>

</html>