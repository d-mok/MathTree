var it=Object.defineProperty;var tt=Object.getOwnPropertySymbols;var nt=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable;var rt=(ee,$,_)=>$ in ee?it(ee,$,{enumerable:!0,configurable:!0,writable:!0,value:_}):ee[$]=_,Ze=(ee,$)=>{for(var _ in $||($={}))nt.call($,_)&&rt(ee,_,$[_]);if(tt)for(var _ of tt($))st.call($,_)&&rt(ee,_,$[_]);return ee};(function(){"use strict";var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getAugmentedNamespace(ee){if(ee.__esModule)return ee;var $=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(ee).forEach(function(_){var te=Object.getOwnPropertyDescriptor(ee,_);Object.defineProperty($,_,te.get?te:{enumerable:!0,get:function(){return ee[_]}})}),$}var lib={},data$1={},numbers$2={},list$2={};Object.defineProperty(list$2,"__esModule",{value:!0}),list$2.toList=list$2.list=list$2.List=void 0;class List extends Array{create($){let _=new this.constructor;return _.push(...$),_}clear(){this.splice(0,this.length)}set($){this.clear(),this.push(...$)}clone(){return this.create([...this])}indexValid($){return this.length===0?!1:$>=0&&$<=this.length-1}isEmpty(){return this.length===0}first(){return this[0]}last(){return this[this.length-1]}cyclicAt($){let _=this.length;if(_!==0){for(;$<0;)$+=_;for(;$>_-1;)$-=_;return this[$]}}pull($){let _=this.length;if(_===0)return;for(;$<0;)return;for(;$>_-1;)return;let te=this[$];return this.splice($,1),te}head($){return $<=0?this.create([]):this.slice(0,$)}tail($){return $<=0?this.create([]):this.slice(-$)}before($){return $<=0?this.create([]):$>=this.length?this.clone():this.slice(0,$)}till($){return this.before($+1)}after($){return $<0?this.clone():$>=this.length-1?this.create([]):this.slice($+1)}since($){return this.after($-1)}chunk($){if($<=0)return List.of();let _=List.of();for(let te=0;te<this.length;te+=$)_.push(this.slice(te,te+$));return _}split($){let _=List.of(),te=this.clone();for(;;){let re=te.findIndex(ie=>ie===$);if(re===-1){let ie=te.splice(0);_.push(this.create(ie));break}else{let ie=te.splice(0,re);if(_.push(this.create(ie)),te.shift(),te.length===0){_.push(this.create([]));break}}}return _}includesAll($){return $.every(_=>this.includes(_))}includesAny($){return $.some(_=>this.includes(_))}includesExact($){let _=List.of(...$);return this.includesAll(_)&&this.belongs(_)}belongs($){return this.every(_=>$.includes(_))}unique(){return this.create([...new Set(this)])}uniqueBy($){let _=this.create([]),te=[];for(let re of this){let ie=$(re);te.findIndex(ae=>ae===ie)===-1&&(_.push(re),te.push(ie))}return _}uniqueDeep(){return this.uniqueBy($=>JSON.stringify($))}freq($){return this.filter(_=>_===$).length}distincts(){return this.filter($=>this.freq($)===1)}duplicates(){let $=this.distincts();return this.except($)}duplicated(){return this.duplicates().unique()}dupless(){return[...new Set(this)].length===this.length}duplessDeep(){return this.uniqueDeep().length===this.length}duppy(){return!this.dupless()}dedup(){this.set(this.unique())}violate($){return this.filter(_=>!$(_))}inside($){return this.filter(_=>$.includes(_))}except($){return this.filter(_=>!$.includes(_))}filterIndex($){let _=this.create([]);for(let te=0;te<this.length;te++)$(te)&&_.push(this[te]);return _}countIf($){return this.filter($).length}sieve($){this.set(this.filter($))}reject($){this.set(this.violate($))}keep($){this.set(this.inside($))}drop($){this.set(this.except($))}reversed(){let $=this.clone();return $.reverse(),$}ascending(){let $=this.clone();return $.ascend(),$}descending(){let $=this.clone();return $.descend(),$}sorted(...$){let _=this.clone();return _.sorts(...$),_}sortedBy(...$){let _=this.clone();return _.sortBy(...$),_}sortedByFreq(){return this.sortedBy($=>-this.freq($))}ascend(){this.every($=>typeof $=="number")?this.sortBy($=>Number($)):this.sortBy($=>String($))}descend(){this.ascend(),this.reverse()}arrange($){let _=Array(this.length);for(let te=0;te<this.length;te++){const re=$[te];_[re]=this[te]}this.set(_)}permute($){let _=Array(this.length);for(let te=0;te<this.length;te++){const re=$[te];_[te]=this[re]}this.set(_)}sorts(...$){function _(te,re){for(let ie of $){let ne=ie(te,re);if(ne>0)return 1;if(ne<0)return-1}return 0}this.sort(_)}sortBy(...$){const _=$.map(te=>function(re,ie){const ne=te(re),ae=te(ie);return ne===ae?0:ne>ae?1:-1});this.sorts(..._)}cycle($){if(this.length!==0&&$!==0){if($>0)for(let _=1;_<=$;_++)this.push(this.shift());if($<0){$=Math.abs($);for(let _=1;_<=$;_++)this.unshift(this.pop())}}}randomIndex(){if(this.length===0)return;function $(_,te){return Math.floor(Math.random()*(te-_+1))+_}return $(0,this.length-1)}draw(){if(this.length!==0)return this[this.randomIndex()]}draws($){if(this.length===0)return;let _=this.create([]);for(let te=0;te<$;te++)_.push(this.draw());return _}sample($){if($>this.length)return;let _=this.shuffled();return _.length=$,_}shuffled(){let $=this.clone();return $.shuffle(),$}deal(){if(this.length!==0)return this.pull(this.randomIndex())}shuffle(){for(let $=this.length-1;$>0;$--){let _=Math.floor(Math.random()*($+1));[this[$],this[_]]=[this[_],this[$]]}}combinations($){if($>this.length||$<=0)return List.of();if($===this.length)return List.of(this);if($===1)return List.of(...this.map(re=>this.create([re])));const _=List.of();let te=List.of();for(let re=0;re<=this.length-$+1;re++){te=this.after(re).combinations($-1);for(let ne=0;ne<te.length;ne++)_.push(this.create([this[re],...te[ne]]))}return _}pairs(){return this.combinations(2)}permutations(){if(this.length===0)return List.of();if(this.length===1)return List.of(this);if(this.length===2){let[_,te]=this;return List.of(this.create([_,te]),this.create([te,_]))}const $=List.of();for(let _=0;_<this.length;_++){let te=this.clone(),re=te.pull(_);for(let ie of te.permutations())$.push(this.create([re,...ie]))}return $}zip($,_){let te=new List;for(let re=0;re<this.length;re++)te.push(_(this[re],$[re]));return te}meanOf($){let _=this.map($);return _.reduce((re,ie)=>re+ie,0)/_.length}maxOf($,_=1){var te;return this.length===0?NaN:_===1?this.map($).descending().first():(te=this.map($).unique().descending()[_-1])!=null?te:NaN}minOf($,_=1){var te;return this.length===0?NaN:_===1?this.map($).ascending().first():(te=this.map($).unique().ascending()[_-1])!=null?te:NaN}maxsBy($,_=1){let te=this.maxOf($,_);return this.filter(re=>$(re)===te)}minsBy($,_=1){let te=this.minOf($,_);return this.filter(re=>$(re)===te)}maxBy($,_=1){if(this.length!==0)return this.maxsBy($,_).first()}minBy($,_=1){if(this.length!==0)return this.minsBy($,_).first()}padTail($){if($<=this.length)return this.clone();if(this.length===0)return this.clone();let _=this.last(),te=this.clone();for(let re=te.length;re<$;re++)te.push(_);return te}padHead($){if($<=this.length)return this.clone();if(this.length===0)return this.clone();let _=this.first(),te=this.create([]);for(let re=0;re<$-this.length;re++)te.push(_);return te.push(...this),te}padCyclic($){if($<=this.length)return this.clone();if(this.length===0)return this.clone();let _=this.create([]);for(let te=0;te<$;te++)_.push(this.cyclicAt(te));return _}}list$2.List=List;function list$1(...ee){let $=new List;return $.push(...ee),$}list$2.list=list$1;function toList$1(ee){return list$1(...ee)}list$2.toList=toList$1;var cal$3={},EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS="0123456789abcdef",LN10="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-EXP_LIMIT,maxE:EXP_LIMIT,crypto:!1},inexact,quadrant$1,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",precisionLimitExceeded=decimalError+"Precision limit exceeded",cryptoUnavailable=decimalError+"crypto unavailable",tag="[object Decimal]",mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,LN10_PRECISION=LN10.length-1,PI_PRECISION=PI.length-1,P={toStringTag:tag};P.absoluteValue=P.abs=function(){var ee=new this.constructor(this);return ee.s<0&&(ee.s=1),finalise(ee)},P.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)},P.clampedTo=P.clamp=function(ee,$){var _,te=this,re=te.constructor;if(ee=new re(ee),$=new re($),!ee.s||!$.s)return new re(NaN);if(ee.gt($))throw Error(invalidArgument+$);return _=te.cmp(ee),_<0?ee:te.cmp($)>0?$:new re(te)},P.comparedTo=P.cmp=function(ee){var $,_,te,re,ie=this,ne=ie.d,ae=(ee=new ie.constructor(ee)).d,se=ie.s,oe=ee.s;if(!ne||!ae)return!se||!oe?NaN:se!==oe?se:ne===ae?0:!ne^se<0?1:-1;if(!ne[0]||!ae[0])return ne[0]?se:ae[0]?-oe:0;if(se!==oe)return se;if(ie.e!==ee.e)return ie.e>ee.e^se<0?1:-1;for(te=ne.length,re=ae.length,$=0,_=te<re?te:re;$<_;++$)if(ne[$]!==ae[$])return ne[$]>ae[$]^se<0?1:-1;return te===re?0:te>re^se<0?1:-1},P.cosine=P.cos=function(){var ee,$,_=this,te=_.constructor;return _.d?_.d[0]?(ee=te.precision,$=te.rounding,te.precision=ee+Math.max(_.e,_.sd())+LOG_BASE,te.rounding=1,_=cosine(te,toLessThanHalfPi(te,_)),te.precision=ee,te.rounding=$,finalise(quadrant$1==2||quadrant$1==3?_.neg():_,ee,$,!0)):new te(1):new te(NaN)},P.cubeRoot=P.cbrt=function(){var ee,$,_,te,re,ie,ne,ae,se,oe,le=this,ce=le.constructor;if(!le.isFinite()||le.isZero())return new ce(le);for(external=!1,ie=le.s*mathpow(le.s*le,1/3),!ie||Math.abs(ie)==1/0?(_=digitsToString(le.d),ee=le.e,(ie=(ee-_.length+1)%3)&&(_+=ie==1||ie==-2?"0":"00"),ie=mathpow(_,1/3),ee=mathfloor((ee+1)/3)-(ee%3==(ee<0?-1:2)),ie==1/0?_="5e"+ee:(_=ie.toExponential(),_=_.slice(0,_.indexOf("e")+1)+ee),te=new ce(_),te.s=le.s):te=new ce(ie.toString()),ne=(ee=ce.precision)+3;;)if(ae=te,se=ae.times(ae).times(ae),oe=se.plus(le),te=divide(oe.plus(le).times(ae),oe.plus(se),ne+2,1),digitsToString(ae.d).slice(0,ne)===(_=digitsToString(te.d)).slice(0,ne))if(_=_.slice(ne-3,ne+1),_=="9999"||!re&&_=="4999"){if(!re&&(finalise(ae,ee+1,0),ae.times(ae).times(ae).eq(le))){te=ae;break}ne+=4,re=1}else{(!+_||!+_.slice(1)&&_.charAt(0)=="5")&&(finalise(te,ee+1,1),$=!te.times(te).times(te).eq(le));break}return external=!0,finalise(te,ee,ce.rounding,$)},P.decimalPlaces=P.dp=function(){var ee,$=this.d,_=NaN;if($){if(ee=$.length-1,_=(ee-mathfloor(this.e/LOG_BASE))*LOG_BASE,ee=$[ee],ee)for(;ee%10==0;ee/=10)_--;_<0&&(_=0)}return _},P.dividedBy=P.div=function(ee){return divide(this,new this.constructor(ee))},P.dividedToIntegerBy=P.divToInt=function(ee){var $=this,_=$.constructor;return finalise(divide($,new _(ee),0,1,1),_.precision,_.rounding)},P.equals=P.eq=function(ee){return this.cmp(ee)===0},P.floor=function(){return finalise(new this.constructor(this),this.e+1,3)},P.greaterThan=P.gt=function(ee){return this.cmp(ee)>0},P.greaterThanOrEqualTo=P.gte=function(ee){var $=this.cmp(ee);return $==1||$===0},P.hyperbolicCosine=P.cosh=function(){var ee,$,_,te,re,ie=this,ne=ie.constructor,ae=new ne(1);if(!ie.isFinite())return new ne(ie.s?1/0:NaN);if(ie.isZero())return ae;_=ne.precision,te=ne.rounding,ne.precision=_+Math.max(ie.e,ie.sd())+4,ne.rounding=1,re=ie.d.length,re<32?(ee=Math.ceil(re/3),$=(1/tinyPow(4,ee)).toString()):(ee=16,$="2.3283064365386962890625e-10"),ie=taylorSeries(ne,1,ie.times($),new ne(1),!0);for(var se,oe=ee,le=new ne(8);oe--;)se=ie.times(ie),ie=ae.minus(se.times(le.minus(se.times(le))));return finalise(ie,ne.precision=_,ne.rounding=te,!0)},P.hyperbolicSine=P.sinh=function(){var ee,$,_,te,re=this,ie=re.constructor;if(!re.isFinite()||re.isZero())return new ie(re);if($=ie.precision,_=ie.rounding,ie.precision=$+Math.max(re.e,re.sd())+4,ie.rounding=1,te=re.d.length,te<3)re=taylorSeries(ie,2,re,re,!0);else{ee=1.4*Math.sqrt(te),ee=ee>16?16:ee|0,re=re.times(1/tinyPow(5,ee)),re=taylorSeries(ie,2,re,re,!0);for(var ne,ae=new ie(5),se=new ie(16),oe=new ie(20);ee--;)ne=re.times(re),re=re.times(ae.plus(ne.times(se.times(ne).plus(oe))))}return ie.precision=$,ie.rounding=_,finalise(re,$,_,!0)},P.hyperbolicTangent=P.tanh=function(){var ee,$,_=this,te=_.constructor;return _.isFinite()?_.isZero()?new te(_):(ee=te.precision,$=te.rounding,te.precision=ee+7,te.rounding=1,divide(_.sinh(),_.cosh(),te.precision=ee,te.rounding=$)):new te(_.s)},P.inverseCosine=P.acos=function(){var ee,$=this,_=$.constructor,te=$.abs().cmp(1),re=_.precision,ie=_.rounding;return te!==-1?te===0?$.isNeg()?getPi(_,re,ie):new _(0):new _(NaN):$.isZero()?getPi(_,re+4,ie).times(.5):(_.precision=re+6,_.rounding=1,$=$.asin(),ee=getPi(_,re+4,ie).times(.5),_.precision=re,_.rounding=ie,ee.minus($))},P.inverseHyperbolicCosine=P.acosh=function(){var ee,$,_=this,te=_.constructor;return _.lte(1)?new te(_.eq(1)?0:NaN):_.isFinite()?(ee=te.precision,$=te.rounding,te.precision=ee+Math.max(Math.abs(_.e),_.sd())+4,te.rounding=1,external=!1,_=_.times(_).minus(1).sqrt().plus(_),external=!0,te.precision=ee,te.rounding=$,_.ln()):new te(_)},P.inverseHyperbolicSine=P.asinh=function(){var ee,$,_=this,te=_.constructor;return!_.isFinite()||_.isZero()?new te(_):(ee=te.precision,$=te.rounding,te.precision=ee+2*Math.max(Math.abs(_.e),_.sd())+6,te.rounding=1,external=!1,_=_.times(_).plus(1).sqrt().plus(_),external=!0,te.precision=ee,te.rounding=$,_.ln())},P.inverseHyperbolicTangent=P.atanh=function(){var ee,$,_,te,re=this,ie=re.constructor;return re.isFinite()?re.e>=0?new ie(re.abs().eq(1)?re.s/0:re.isZero()?re:NaN):(ee=ie.precision,$=ie.rounding,te=re.sd(),Math.max(te,ee)<2*-re.e-1?finalise(new ie(re),ee,$,!0):(ie.precision=_=te-re.e,re=divide(re.plus(1),new ie(1).minus(re),_+ee,1),ie.precision=ee+4,ie.rounding=1,re=re.ln(),ie.precision=ee,ie.rounding=$,re.times(.5))):new ie(NaN)},P.inverseSine=P.asin=function(){var ee,$,_,te,re=this,ie=re.constructor;return re.isZero()?new ie(re):($=re.abs().cmp(1),_=ie.precision,te=ie.rounding,$!==-1?$===0?(ee=getPi(ie,_+4,te).times(.5),ee.s=re.s,ee):new ie(NaN):(ie.precision=_+6,ie.rounding=1,re=re.div(new ie(1).minus(re.times(re)).sqrt().plus(1)).atan(),ie.precision=_,ie.rounding=te,re.times(2)))},P.inverseTangent=P.atan=function(){var ee,$,_,te,re,ie,ne,ae,se,oe=this,le=oe.constructor,ce=le.precision,ue=le.rounding;if(oe.isFinite()){if(oe.isZero())return new le(oe);if(oe.abs().eq(1)&&ce+4<=PI_PRECISION)return ne=getPi(le,ce+4,ue).times(.25),ne.s=oe.s,ne}else{if(!oe.s)return new le(NaN);if(ce+4<=PI_PRECISION)return ne=getPi(le,ce+4,ue).times(.5),ne.s=oe.s,ne}for(le.precision=ae=ce+10,le.rounding=1,_=Math.min(28,ae/LOG_BASE+2|0),ee=_;ee;--ee)oe=oe.div(oe.times(oe).plus(1).sqrt().plus(1));for(external=!1,$=Math.ceil(ae/LOG_BASE),te=1,se=oe.times(oe),ne=new le(oe),re=oe;ee!==-1;)if(re=re.times(se),ie=ne.minus(re.div(te+=2)),re=re.times(se),ne=ie.plus(re.div(te+=2)),ne.d[$]!==void 0)for(ee=$;ne.d[ee]===ie.d[ee]&&ee--;);return _&&(ne=ne.times(2<<_-1)),external=!0,finalise(ne,le.precision=ce,le.rounding=ue,!0)},P.isFinite=function(){return!!this.d},P.isInteger=P.isInt=function(){return!!this.d&&mathfloor(this.e/LOG_BASE)>this.d.length-2},P.isNaN=function(){return!this.s},P.isNegative=P.isNeg=function(){return this.s<0},P.isPositive=P.isPos=function(){return this.s>0},P.isZero=function(){return!!this.d&&this.d[0]===0},P.lessThan=P.lt=function(ee){return this.cmp(ee)<0},P.lessThanOrEqualTo=P.lte=function(ee){return this.cmp(ee)<1},P.logarithm=P.log=function(ee){var $,_,te,re,ie,ne,ae,se,oe=this,le=oe.constructor,ce=le.precision,ue=le.rounding,me=5;if(ee==null)ee=new le(10),$=!0;else{if(ee=new le(ee),_=ee.d,ee.s<0||!_||!_[0]||ee.eq(1))return new le(NaN);$=ee.eq(10)}if(_=oe.d,oe.s<0||!_||!_[0]||oe.eq(1))return new le(_&&!_[0]?-1/0:oe.s!=1?NaN:_?0:1/0);if($)if(_.length>1)ie=!0;else{for(re=_[0];re%10==0;)re/=10;ie=re!==1}if(external=!1,ae=ce+me,ne=naturalLogarithm(oe,ae),te=$?getLn10(le,ae+10):naturalLogarithm(ee,ae),se=divide(ne,te,ae,1),checkRoundingDigits(se.d,re=ce,ue))do if(ae+=10,ne=naturalLogarithm(oe,ae),te=$?getLn10(le,ae+10):naturalLogarithm(ee,ae),se=divide(ne,te,ae,1),!ie){+digitsToString(se.d).slice(re+1,re+15)+1==1e14&&(se=finalise(se,ce+1,0));break}while(checkRoundingDigits(se.d,re+=10,ue));return external=!0,finalise(se,ce,ue)},P.minus=P.sub=function(ee){var $,_,te,re,ie,ne,ae,se,oe,le,ce,ue,me=this,fe=me.constructor;if(ee=new fe(ee),!me.d||!ee.d)return!me.s||!ee.s?ee=new fe(NaN):me.d?ee.s=-ee.s:ee=new fe(ee.d||me.s!==ee.s?me:NaN),ee;if(me.s!=ee.s)return ee.s=-ee.s,me.plus(ee);if(oe=me.d,ue=ee.d,ae=fe.precision,se=fe.rounding,!oe[0]||!ue[0]){if(ue[0])ee.s=-ee.s;else if(oe[0])ee=new fe(me);else return new fe(se===3?-0:0);return external?finalise(ee,ae,se):ee}if(_=mathfloor(ee.e/LOG_BASE),le=mathfloor(me.e/LOG_BASE),oe=oe.slice(),ie=le-_,ie){for(ce=ie<0,ce?($=oe,ie=-ie,ne=ue.length):($=ue,_=le,ne=oe.length),te=Math.max(Math.ceil(ae/LOG_BASE),ne)+2,ie>te&&(ie=te,$.length=1),$.reverse(),te=ie;te--;)$.push(0);$.reverse()}else{for(te=oe.length,ne=ue.length,ce=te<ne,ce&&(ne=te),te=0;te<ne;te++)if(oe[te]!=ue[te]){ce=oe[te]<ue[te];break}ie=0}for(ce&&($=oe,oe=ue,ue=$,ee.s=-ee.s),ne=oe.length,te=ue.length-ne;te>0;--te)oe[ne++]=0;for(te=ue.length;te>ie;){if(oe[--te]<ue[te]){for(re=te;re&&oe[--re]===0;)oe[re]=BASE-1;--oe[re],oe[te]+=BASE}oe[te]-=ue[te]}for(;oe[--ne]===0;)oe.pop();for(;oe[0]===0;oe.shift())--_;return oe[0]?(ee.d=oe,ee.e=getBase10Exponent(oe,_),external?finalise(ee,ae,se):ee):new fe(se===3?-0:0)},P.modulo=P.mod=function(ee){var $,_=this,te=_.constructor;return ee=new te(ee),!_.d||!ee.s||ee.d&&!ee.d[0]?new te(NaN):!ee.d||_.d&&!_.d[0]?finalise(new te(_),te.precision,te.rounding):(external=!1,te.modulo==9?($=divide(_,ee.abs(),0,3,1),$.s*=ee.s):$=divide(_,ee,0,te.modulo,1),$=$.times(ee),external=!0,_.minus($))},P.naturalExponential=P.exp=function(){return naturalExponential(this)},P.naturalLogarithm=P.ln=function(){return naturalLogarithm(this)},P.negated=P.neg=function(){var ee=new this.constructor(this);return ee.s=-ee.s,finalise(ee)},P.plus=P.add=function(ee){var $,_,te,re,ie,ne,ae,se,oe,le,ce=this,ue=ce.constructor;if(ee=new ue(ee),!ce.d||!ee.d)return!ce.s||!ee.s?ee=new ue(NaN):ce.d||(ee=new ue(ee.d||ce.s===ee.s?ce:NaN)),ee;if(ce.s!=ee.s)return ee.s=-ee.s,ce.minus(ee);if(oe=ce.d,le=ee.d,ae=ue.precision,se=ue.rounding,!oe[0]||!le[0])return le[0]||(ee=new ue(ce)),external?finalise(ee,ae,se):ee;if(ie=mathfloor(ce.e/LOG_BASE),te=mathfloor(ee.e/LOG_BASE),oe=oe.slice(),re=ie-te,re){for(re<0?(_=oe,re=-re,ne=le.length):(_=le,te=ie,ne=oe.length),ie=Math.ceil(ae/LOG_BASE),ne=ie>ne?ie+1:ne+1,re>ne&&(re=ne,_.length=1),_.reverse();re--;)_.push(0);_.reverse()}for(ne=oe.length,re=le.length,ne-re<0&&(re=ne,_=le,le=oe,oe=_),$=0;re;)$=(oe[--re]=oe[re]+le[re]+$)/BASE|0,oe[re]%=BASE;for($&&(oe.unshift($),++te),ne=oe.length;oe[--ne]==0;)oe.pop();return ee.d=oe,ee.e=getBase10Exponent(oe,te),external?finalise(ee,ae,se):ee},P.precision=P.sd=function(ee){var $,_=this;if(ee!==void 0&&ee!==!!ee&&ee!==1&&ee!==0)throw Error(invalidArgument+ee);return _.d?($=getPrecision(_.d),ee&&_.e+1>$&&($=_.e+1)):$=NaN,$},P.round=function(){var ee=this,$=ee.constructor;return finalise(new $(ee),ee.e+1,$.rounding)},P.sine=P.sin=function(){var ee,$,_=this,te=_.constructor;return _.isFinite()?_.isZero()?new te(_):(ee=te.precision,$=te.rounding,te.precision=ee+Math.max(_.e,_.sd())+LOG_BASE,te.rounding=1,_=sine(te,toLessThanHalfPi(te,_)),te.precision=ee,te.rounding=$,finalise(quadrant$1>2?_.neg():_,ee,$,!0)):new te(NaN)},P.squareRoot=P.sqrt=function(){var ee,$,_,te,re,ie,ne=this,ae=ne.d,se=ne.e,oe=ne.s,le=ne.constructor;if(oe!==1||!ae||!ae[0])return new le(!oe||oe<0&&(!ae||ae[0])?NaN:ae?ne:1/0);for(external=!1,oe=Math.sqrt(+ne),oe==0||oe==1/0?($=digitsToString(ae),($.length+se)%2==0&&($+="0"),oe=Math.sqrt($),se=mathfloor((se+1)/2)-(se<0||se%2),oe==1/0?$="5e"+se:($=oe.toExponential(),$=$.slice(0,$.indexOf("e")+1)+se),te=new le($)):te=new le(oe.toString()),_=(se=le.precision)+3;;)if(ie=te,te=ie.plus(divide(ne,ie,_+2,1)).times(.5),digitsToString(ie.d).slice(0,_)===($=digitsToString(te.d)).slice(0,_))if($=$.slice(_-3,_+1),$=="9999"||!re&&$=="4999"){if(!re&&(finalise(ie,se+1,0),ie.times(ie).eq(ne))){te=ie;break}_+=4,re=1}else{(!+$||!+$.slice(1)&&$.charAt(0)=="5")&&(finalise(te,se+1,1),ee=!te.times(te).eq(ne));break}return external=!0,finalise(te,se,le.rounding,ee)},P.tangent=P.tan=function(){var ee,$,_=this,te=_.constructor;return _.isFinite()?_.isZero()?new te(_):(ee=te.precision,$=te.rounding,te.precision=ee+10,te.rounding=1,_=_.sin(),_.s=1,_=divide(_,new te(1).minus(_.times(_)).sqrt(),ee+10,0),te.precision=ee,te.rounding=$,finalise(quadrant$1==2||quadrant$1==4?_.neg():_,ee,$,!0)):new te(NaN)},P.times=P.mul=function(ee){var $,_,te,re,ie,ne,ae,se,oe,le=this,ce=le.constructor,ue=le.d,me=(ee=new ce(ee)).d;if(ee.s*=le.s,!ue||!ue[0]||!me||!me[0])return new ce(!ee.s||ue&&!ue[0]&&!me||me&&!me[0]&&!ue?NaN:!ue||!me?ee.s/0:ee.s*0);for(_=mathfloor(le.e/LOG_BASE)+mathfloor(ee.e/LOG_BASE),se=ue.length,oe=me.length,se<oe&&(ie=ue,ue=me,me=ie,ne=se,se=oe,oe=ne),ie=[],ne=se+oe,te=ne;te--;)ie.push(0);for(te=oe;--te>=0;){for($=0,re=se+te;re>te;)ae=ie[re]+me[te]*ue[re-te-1]+$,ie[re--]=ae%BASE|0,$=ae/BASE|0;ie[re]=(ie[re]+$)%BASE|0}for(;!ie[--ne];)ie.pop();return $?++_:ie.shift(),ee.d=ie,ee.e=getBase10Exponent(ie,_),external?finalise(ee,ce.precision,ce.rounding):ee},P.toBinary=function(ee,$){return toStringBinary(this,2,ee,$)},P.toDecimalPlaces=P.toDP=function(ee,$){var _=this,te=_.constructor;return _=new te(_),ee===void 0?_:(checkInt32(ee,0,MAX_DIGITS),$===void 0?$=te.rounding:checkInt32($,0,8),finalise(_,ee+_.e+1,$))},P.toExponential=function(ee,$){var _,te=this,re=te.constructor;return ee===void 0?_=finiteToString(te,!0):(checkInt32(ee,0,MAX_DIGITS),$===void 0?$=re.rounding:checkInt32($,0,8),te=finalise(new re(te),ee+1,$),_=finiteToString(te,!0,ee+1)),te.isNeg()&&!te.isZero()?"-"+_:_},P.toFixed=function(ee,$){var _,te,re=this,ie=re.constructor;return ee===void 0?_=finiteToString(re):(checkInt32(ee,0,MAX_DIGITS),$===void 0?$=ie.rounding:checkInt32($,0,8),te=finalise(new ie(re),ee+re.e+1,$),_=finiteToString(te,!1,ee+te.e+1)),re.isNeg()&&!re.isZero()?"-"+_:_},P.toFraction=function(ee){var $,_,te,re,ie,ne,ae,se,oe,le,ce,ue,me=this,fe=me.d,de=me.constructor;if(!fe)return new de(me);if(oe=_=new de(1),te=se=new de(0),$=new de(te),ie=$.e=getPrecision(fe)-me.e-1,ne=ie%LOG_BASE,$.d[0]=mathpow(10,ne<0?LOG_BASE+ne:ne),ee==null)ee=ie>0?$:oe;else{if(ae=new de(ee),!ae.isInt()||ae.lt(oe))throw Error(invalidArgument+ae);ee=ae.gt($)?ie>0?$:oe:ae}for(external=!1,ae=new de(digitsToString(fe)),le=de.precision,de.precision=ie=fe.length*LOG_BASE*2;ce=divide(ae,$,0,1,1),re=_.plus(ce.times(te)),re.cmp(ee)!=1;)_=te,te=re,re=oe,oe=se.plus(ce.times(re)),se=re,re=$,$=ae.minus(ce.times(re)),ae=re;return re=divide(ee.minus(_),te,0,1,1),se=se.plus(re.times(oe)),_=_.plus(re.times(te)),se.s=oe.s=me.s,ue=divide(oe,te,ie,1).minus(me).abs().cmp(divide(se,_,ie,1).minus(me).abs())<1?[oe,te]:[se,_],de.precision=le,external=!0,ue},P.toHexadecimal=P.toHex=function(ee,$){return toStringBinary(this,16,ee,$)},P.toNearest=function(ee,$){var _=this,te=_.constructor;if(_=new te(_),ee==null){if(!_.d)return _;ee=new te(1),$=te.rounding}else{if(ee=new te(ee),$===void 0?$=te.rounding:checkInt32($,0,8),!_.d)return ee.s?_:ee;if(!ee.d)return ee.s&&(ee.s=_.s),ee}return ee.d[0]?(external=!1,_=divide(_,ee,0,$,1).times(ee),external=!0,finalise(_)):(ee.s=_.s,_=ee),_},P.toNumber=function(){return+this},P.toOctal=function(ee,$){return toStringBinary(this,8,ee,$)},P.toPower=P.pow=function(ee){var $,_,te,re,ie,ne,ae=this,se=ae.constructor,oe=+(ee=new se(ee));if(!ae.d||!ee.d||!ae.d[0]||!ee.d[0])return new se(mathpow(+ae,oe));if(ae=new se(ae),ae.eq(1))return ae;if(te=se.precision,ie=se.rounding,ee.eq(1))return finalise(ae,te,ie);if($=mathfloor(ee.e/LOG_BASE),$>=ee.d.length-1&&(_=oe<0?-oe:oe)<=MAX_SAFE_INTEGER)return re=intPow(se,ae,_,te),ee.s<0?new se(1).div(re):finalise(re,te,ie);if(ne=ae.s,ne<0){if($<ee.d.length-1)return new se(NaN);if((ee.d[$]&1)==0&&(ne=1),ae.e==0&&ae.d[0]==1&&ae.d.length==1)return ae.s=ne,ae}return _=mathpow(+ae,oe),$=_==0||!isFinite(_)?mathfloor(oe*(Math.log("0."+digitsToString(ae.d))/Math.LN10+ae.e+1)):new se(_+"").e,$>se.maxE+1||$<se.minE-1?new se($>0?ne/0:0):(external=!1,se.rounding=ae.s=1,_=Math.min(12,($+"").length),re=naturalExponential(ee.times(naturalLogarithm(ae,te+_)),te),re.d&&(re=finalise(re,te+5,1),checkRoundingDigits(re.d,te,ie)&&($=te+10,re=finalise(naturalExponential(ee.times(naturalLogarithm(ae,$+_)),$),$+5,1),+digitsToString(re.d).slice(te+1,te+15)+1==1e14&&(re=finalise(re,te+1,0)))),re.s=ne,external=!0,se.rounding=ie,finalise(re,te,ie))},P.toPrecision=function(ee,$){var _,te=this,re=te.constructor;return ee===void 0?_=finiteToString(te,te.e<=re.toExpNeg||te.e>=re.toExpPos):(checkInt32(ee,1,MAX_DIGITS),$===void 0?$=re.rounding:checkInt32($,0,8),te=finalise(new re(te),ee,$),_=finiteToString(te,ee<=te.e||te.e<=re.toExpNeg,ee)),te.isNeg()&&!te.isZero()?"-"+_:_},P.toSignificantDigits=P.toSD=function(ee,$){var _=this,te=_.constructor;return ee===void 0?(ee=te.precision,$=te.rounding):(checkInt32(ee,1,MAX_DIGITS),$===void 0?$=te.rounding:checkInt32($,0,8)),finalise(new te(_),ee,$)},P.toString=function(){var ee=this,$=ee.constructor,_=finiteToString(ee,ee.e<=$.toExpNeg||ee.e>=$.toExpPos);return ee.isNeg()&&!ee.isZero()?"-"+_:_},P.truncated=P.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)},P.valueOf=P.toJSON=function(){var ee=this,$=ee.constructor,_=finiteToString(ee,ee.e<=$.toExpNeg||ee.e>=$.toExpPos);return ee.isNeg()?"-"+_:_};function digitsToString(ee){var $,_,te,re=ee.length-1,ie="",ne=ee[0];if(re>0){for(ie+=ne,$=1;$<re;$++)te=ee[$]+"",_=LOG_BASE-te.length,_&&(ie+=getZeroString(_)),ie+=te;ne=ee[$],te=ne+"",_=LOG_BASE-te.length,_&&(ie+=getZeroString(_))}else if(ne===0)return"0";for(;ne%10==0;)ne/=10;return ie+ne}function checkInt32(ee,$,_){if(ee!==~~ee||ee<$||ee>_)throw Error(invalidArgument+ee)}function checkRoundingDigits(ee,$,_,te){var re,ie,ne,ae;for(ie=ee[0];ie>=10;ie/=10)--$;return--$<0?($+=LOG_BASE,re=0):(re=Math.ceil(($+1)/LOG_BASE),$%=LOG_BASE),ie=mathpow(10,LOG_BASE-$),ae=ee[re]%ie|0,te==null?$<3?($==0?ae=ae/100|0:$==1&&(ae=ae/10|0),ne=_<4&&ae==99999||_>3&&ae==49999||ae==5e4||ae==0):ne=(_<4&&ae+1==ie||_>3&&ae+1==ie/2)&&(ee[re+1]/ie/100|0)==mathpow(10,$-2)-1||(ae==ie/2||ae==0)&&(ee[re+1]/ie/100|0)==0:$<4?($==0?ae=ae/1e3|0:$==1?ae=ae/100|0:$==2&&(ae=ae/10|0),ne=(te||_<4)&&ae==9999||!te&&_>3&&ae==4999):ne=((te||_<4)&&ae+1==ie||!te&&_>3&&ae+1==ie/2)&&(ee[re+1]/ie/1e3|0)==mathpow(10,$-3)-1,ne}function convertBase(ee,$,_){for(var te,re=[0],ie,ne=0,ae=ee.length;ne<ae;){for(ie=re.length;ie--;)re[ie]*=$;for(re[0]+=NUMERALS.indexOf(ee.charAt(ne++)),te=0;te<re.length;te++)re[te]>_-1&&(re[te+1]===void 0&&(re[te+1]=0),re[te+1]+=re[te]/_|0,re[te]%=_)}return re.reverse()}function cosine(ee,$){var _,te,re;if($.isZero())return $;te=$.d.length,te<32?(_=Math.ceil(te/3),re=(1/tinyPow(4,_)).toString()):(_=16,re="2.3283064365386962890625e-10"),ee.precision+=_,$=taylorSeries(ee,1,$.times(re),new ee(1));for(var ie=_;ie--;){var ne=$.times($);$=ne.times(ne).minus(ne).times(8).plus(1)}return ee.precision-=_,$}var divide=function(){function ee(te,re,ie){var ne,ae=0,se=te.length;for(te=te.slice();se--;)ne=te[se]*re+ae,te[se]=ne%ie|0,ae=ne/ie|0;return ae&&te.unshift(ae),te}function $(te,re,ie,ne){var ae,se;if(ie!=ne)se=ie>ne?1:-1;else for(ae=se=0;ae<ie;ae++)if(te[ae]!=re[ae]){se=te[ae]>re[ae]?1:-1;break}return se}function _(te,re,ie,ne){for(var ae=0;ie--;)te[ie]-=ae,ae=te[ie]<re[ie]?1:0,te[ie]=ae*ne+te[ie]-re[ie];for(;!te[0]&&te.length>1;)te.shift()}return function(te,re,ie,ne,ae,se){var oe,le,ce,ue,me,fe,de,pe,ge,ye,be,xe,Se,ve,$e,_e,Me,Ce,we,Ie,ke=te.constructor,Te=te.s==re.s?1:-1,Ee=te.d,Ae=re.d;if(!Ee||!Ee[0]||!Ae||!Ae[0])return new ke(!te.s||!re.s||(Ee?Ae&&Ee[0]==Ae[0]:!Ae)?NaN:Ee&&Ee[0]==0||!Ae?Te*0:Te/0);for(se?(me=1,le=te.e-re.e):(se=BASE,me=LOG_BASE,le=mathfloor(te.e/me)-mathfloor(re.e/me)),we=Ae.length,Me=Ee.length,ge=new ke(Te),ye=ge.d=[],ce=0;Ae[ce]==(Ee[ce]||0);ce++);if(Ae[ce]>(Ee[ce]||0)&&le--,ie==null?(ve=ie=ke.precision,ne=ke.rounding):ae?ve=ie+(te.e-re.e)+1:ve=ie,ve<0)ye.push(1),fe=!0;else{if(ve=ve/me+2|0,ce=0,we==1){for(ue=0,Ae=Ae[0],ve++;(ce<Me||ue)&&ve--;ce++)$e=ue*se+(Ee[ce]||0),ye[ce]=$e/Ae|0,ue=$e%Ae|0;fe=ue||ce<Me}else{for(ue=se/(Ae[0]+1)|0,ue>1&&(Ae=ee(Ae,ue,se),Ee=ee(Ee,ue,se),we=Ae.length,Me=Ee.length),_e=we,be=Ee.slice(0,we),xe=be.length;xe<we;)be[xe++]=0;Ie=Ae.slice(),Ie.unshift(0),Ce=Ae[0],Ae[1]>=se/2&&++Ce;do ue=0,oe=$(Ae,be,we,xe),oe<0?(Se=be[0],we!=xe&&(Se=Se*se+(be[1]||0)),ue=Se/Ce|0,ue>1?(ue>=se&&(ue=se-1),de=ee(Ae,ue,se),pe=de.length,xe=be.length,oe=$(de,be,pe,xe),oe==1&&(ue--,_(de,we<pe?Ie:Ae,pe,se))):(ue==0&&(oe=ue=1),de=Ae.slice()),pe=de.length,pe<xe&&de.unshift(0),_(be,de,xe,se),oe==-1&&(xe=be.length,oe=$(Ae,be,we,xe),oe<1&&(ue++,_(be,we<xe?Ie:Ae,xe,se))),xe=be.length):oe===0&&(ue++,be=[0]),ye[ce++]=ue,oe&&be[0]?be[xe++]=Ee[_e]||0:(be=[Ee[_e]],xe=1);while((_e++<Me||be[0]!==void 0)&&ve--);fe=be[0]!==void 0}ye[0]||ye.shift()}if(me==1)ge.e=le,inexact=fe;else{for(ce=1,ue=ye[0];ue>=10;ue/=10)ce++;ge.e=ce+le*me-1,finalise(ge,ae?ie+ge.e+1:ie,ne,fe)}return ge}}();function finalise(ee,$,_,te){var re,ie,ne,ae,se,oe,le,ce,ue,me=ee.constructor;e:if($!=null){if(ce=ee.d,!ce)return ee;for(re=1,ae=ce[0];ae>=10;ae/=10)re++;if(ie=$-re,ie<0)ie+=LOG_BASE,ne=$,le=ce[ue=0],se=le/mathpow(10,re-ne-1)%10|0;else if(ue=Math.ceil((ie+1)/LOG_BASE),ae=ce.length,ue>=ae)if(te){for(;ae++<=ue;)ce.push(0);le=se=0,re=1,ie%=LOG_BASE,ne=ie-LOG_BASE+1}else break e;else{for(le=ae=ce[ue],re=1;ae>=10;ae/=10)re++;ie%=LOG_BASE,ne=ie-LOG_BASE+re,se=ne<0?0:le/mathpow(10,re-ne-1)%10|0}if(te=te||$<0||ce[ue+1]!==void 0||(ne<0?le:le%mathpow(10,re-ne-1)),oe=_<4?(se||te)&&(_==0||_==(ee.s<0?3:2)):se>5||se==5&&(_==4||te||_==6&&(ie>0?ne>0?le/mathpow(10,re-ne):0:ce[ue-1])%10&1||_==(ee.s<0?8:7)),$<1||!ce[0])return ce.length=0,oe?($-=ee.e+1,ce[0]=mathpow(10,(LOG_BASE-$%LOG_BASE)%LOG_BASE),ee.e=-$||0):ce[0]=ee.e=0,ee;if(ie==0?(ce.length=ue,ae=1,ue--):(ce.length=ue+1,ae=mathpow(10,LOG_BASE-ie),ce[ue]=ne>0?(le/mathpow(10,re-ne)%mathpow(10,ne)|0)*ae:0),oe)for(;;)if(ue==0){for(ie=1,ne=ce[0];ne>=10;ne/=10)ie++;for(ne=ce[0]+=ae,ae=1;ne>=10;ne/=10)ae++;ie!=ae&&(ee.e++,ce[0]==BASE&&(ce[0]=1));break}else{if(ce[ue]+=ae,ce[ue]!=BASE)break;ce[ue--]=0,ae=1}for(ie=ce.length;ce[--ie]===0;)ce.pop()}return external&&(ee.e>me.maxE?(ee.d=null,ee.e=NaN):ee.e<me.minE&&(ee.e=0,ee.d=[0])),ee}function finiteToString(ee,$,_){if(!ee.isFinite())return nonFiniteToString(ee);var te,re=ee.e,ie=digitsToString(ee.d),ne=ie.length;return $?(_&&(te=_-ne)>0?ie=ie.charAt(0)+"."+ie.slice(1)+getZeroString(te):ne>1&&(ie=ie.charAt(0)+"."+ie.slice(1)),ie=ie+(ee.e<0?"e":"e+")+ee.e):re<0?(ie="0."+getZeroString(-re-1)+ie,_&&(te=_-ne)>0&&(ie+=getZeroString(te))):re>=ne?(ie+=getZeroString(re+1-ne),_&&(te=_-re-1)>0&&(ie=ie+"."+getZeroString(te))):((te=re+1)<ne&&(ie=ie.slice(0,te)+"."+ie.slice(te)),_&&(te=_-ne)>0&&(re+1===ne&&(ie+="."),ie+=getZeroString(te))),ie}function getBase10Exponent(ee,$){var _=ee[0];for($*=LOG_BASE;_>=10;_/=10)$++;return $}function getLn10(ee,$,_){if($>LN10_PRECISION)throw external=!0,_&&(ee.precision=_),Error(precisionLimitExceeded);return finalise(new ee(LN10),$,1,!0)}function getPi(ee,$,_){if($>PI_PRECISION)throw Error(precisionLimitExceeded);return finalise(new ee(PI),$,_,!0)}function getPrecision(ee){var $=ee.length-1,_=$*LOG_BASE+1;if($=ee[$],$){for(;$%10==0;$/=10)_--;for($=ee[0];$>=10;$/=10)_++}return _}function getZeroString(ee){for(var $="";ee--;)$+="0";return $}function intPow(ee,$,_,te){var re,ie=new ee(1),ne=Math.ceil(te/LOG_BASE+4);for(external=!1;;){if(_%2&&(ie=ie.times($),truncate(ie.d,ne)&&(re=!0)),_=mathfloor(_/2),_===0){_=ie.d.length-1,re&&ie.d[_]===0&&++ie.d[_];break}$=$.times($),truncate($.d,ne)}return external=!0,ie}function isOdd$1(ee){return ee.d[ee.d.length-1]&1}function maxOrMin(ee,$,_){for(var te,re=new ee($[0]),ie=0;++ie<$.length;)if(te=new ee($[ie]),te.s)re[_](te)&&(re=te);else{re=te;break}return re}function naturalExponential(ee,$){var _,te,re,ie,ne,ae,se,oe=0,le=0,ce=0,ue=ee.constructor,me=ue.rounding,fe=ue.precision;if(!ee.d||!ee.d[0]||ee.e>17)return new ue(ee.d?ee.d[0]?ee.s<0?0:1/0:1:ee.s?ee.s<0?0:ee:0/0);for($==null?(external=!1,se=fe):se=$,ae=new ue(.03125);ee.e>-2;)ee=ee.times(ae),ce+=5;for(te=Math.log(mathpow(2,ce))/Math.LN10*2+5|0,se+=te,_=ie=ne=new ue(1),ue.precision=se;;){if(ie=finalise(ie.times(ee),se,1),_=_.times(++le),ae=ne.plus(divide(ie,_,se,1)),digitsToString(ae.d).slice(0,se)===digitsToString(ne.d).slice(0,se)){for(re=ce;re--;)ne=finalise(ne.times(ne),se,1);if($==null)if(oe<3&&checkRoundingDigits(ne.d,se-te,me,oe))ue.precision=se+=10,_=ie=ae=new ue(1),le=0,oe++;else return finalise(ne,ue.precision=fe,me,external=!0);else return ue.precision=fe,ne}ne=ae}}function naturalLogarithm(ee,$){var _,te,re,ie,ne,ae,se,oe,le,ce,ue,me=1,fe=10,de=ee,pe=de.d,ge=de.constructor,ye=ge.rounding,be=ge.precision;if(de.s<0||!pe||!pe[0]||!de.e&&pe[0]==1&&pe.length==1)return new ge(pe&&!pe[0]?-1/0:de.s!=1?NaN:pe?0:de);if($==null?(external=!1,le=be):le=$,ge.precision=le+=fe,_=digitsToString(pe),te=_.charAt(0),Math.abs(ie=de.e)<15e14){for(;te<7&&te!=1||te==1&&_.charAt(1)>3;)de=de.times(ee),_=digitsToString(de.d),te=_.charAt(0),me++;ie=de.e,te>1?(de=new ge("0."+_),ie++):de=new ge(te+"."+_.slice(1))}else return oe=getLn10(ge,le+2,be).times(ie+""),de=naturalLogarithm(new ge(te+"."+_.slice(1)),le-fe).plus(oe),ge.precision=be,$==null?finalise(de,be,ye,external=!0):de;for(ce=de,se=ne=de=divide(de.minus(1),de.plus(1),le,1),ue=finalise(de.times(de),le,1),re=3;;){if(ne=finalise(ne.times(ue),le,1),oe=se.plus(divide(ne,new ge(re),le,1)),digitsToString(oe.d).slice(0,le)===digitsToString(se.d).slice(0,le))if(se=se.times(2),ie!==0&&(se=se.plus(getLn10(ge,le+2,be).times(ie+""))),se=divide(se,new ge(me),le,1),$==null)if(checkRoundingDigits(se.d,le-fe,ye,ae))ge.precision=le+=fe,oe=ne=de=divide(ce.minus(1),ce.plus(1),le,1),ue=finalise(de.times(de),le,1),re=ae=1;else return finalise(se,ge.precision=be,ye,external=!0);else return ge.precision=be,se;se=oe,re+=2}}function nonFiniteToString(ee){return String(ee.s*ee.s/0)}function parseDecimal(ee,$){var _,te,re;for((_=$.indexOf("."))>-1&&($=$.replace(".","")),(te=$.search(/e/i))>0?(_<0&&(_=te),_+=+$.slice(te+1),$=$.substring(0,te)):_<0&&(_=$.length),te=0;$.charCodeAt(te)===48;te++);for(re=$.length;$.charCodeAt(re-1)===48;--re);if($=$.slice(te,re),$){if(re-=te,ee.e=_=_-te-1,ee.d=[],te=(_+1)%LOG_BASE,_<0&&(te+=LOG_BASE),te<re){for(te&&ee.d.push(+$.slice(0,te)),re-=LOG_BASE;te<re;)ee.d.push(+$.slice(te,te+=LOG_BASE));$=$.slice(te),te=LOG_BASE-$.length}else te-=re;for(;te--;)$+="0";ee.d.push(+$),external&&(ee.e>ee.constructor.maxE?(ee.d=null,ee.e=NaN):ee.e<ee.constructor.minE&&(ee.e=0,ee.d=[0]))}else ee.e=0,ee.d=[0];return ee}function parseOther(ee,$){var _,te,re,ie,ne,ae,se,oe,le;if($.indexOf("_")>-1){if($=$.replace(/(\d)_(?=\d)/g,"$1"),isDecimal.test($))return parseDecimal(ee,$)}else if($==="Infinity"||$==="NaN")return+$||(ee.s=NaN),ee.e=NaN,ee.d=null,ee;if(isHex.test($))_=16,$=$.toLowerCase();else if(isBinary.test($))_=2;else if(isOctal.test($))_=8;else throw Error(invalidArgument+$);for(ie=$.search(/p/i),ie>0?(se=+$.slice(ie+1),$=$.substring(2,ie)):$=$.slice(2),ie=$.indexOf("."),ne=ie>=0,te=ee.constructor,ne&&($=$.replace(".",""),ae=$.length,ie=ae-ie,re=intPow(te,new te(_),ie,ie*2)),oe=convertBase($,_,BASE),le=oe.length-1,ie=le;oe[ie]===0;--ie)oe.pop();return ie<0?new te(ee.s*0):(ee.e=getBase10Exponent(oe,le),ee.d=oe,external=!1,ne&&(ee=divide(ee,re,ae*4)),se&&(ee=ee.times(Math.abs(se)<54?mathpow(2,se):Decimal.pow(2,se))),external=!0,ee)}function sine(ee,$){var _,te=$.d.length;if(te<3)return $.isZero()?$:taylorSeries(ee,2,$,$);_=1.4*Math.sqrt(te),_=_>16?16:_|0,$=$.times(1/tinyPow(5,_)),$=taylorSeries(ee,2,$,$);for(var re,ie=new ee(5),ne=new ee(16),ae=new ee(20);_--;)re=$.times($),$=$.times(ie.plus(re.times(ne.times(re).minus(ae))));return $}function taylorSeries(ee,$,_,te,re){var ie,ne,ae,se,oe=ee.precision,le=Math.ceil(oe/LOG_BASE);for(external=!1,se=_.times(_),ae=new ee(te);;){if(ne=divide(ae.times(se),new ee($++*$++),oe,1),ae=re?te.plus(ne):te.minus(ne),te=divide(ne.times(se),new ee($++*$++),oe,1),ne=ae.plus(te),ne.d[le]!==void 0){for(ie=le;ne.d[ie]===ae.d[ie]&&ie--;);if(ie==-1)break}ie=ae,ae=te,te=ne,ne=ie}return external=!0,ne.d.length=le+1,ne}function tinyPow(ee,$){for(var _=ee;--$;)_*=ee;return _}function toLessThanHalfPi(ee,$){var _,te=$.s<0,re=getPi(ee,ee.precision,1),ie=re.times(.5);if($=$.abs(),$.lte(ie))return quadrant$1=te?4:1,$;if(_=$.divToInt(re),_.isZero())quadrant$1=te?3:2;else{if($=$.minus(_.times(re)),$.lte(ie))return quadrant$1=isOdd$1(_)?te?2:3:te?4:1,$;quadrant$1=isOdd$1(_)?te?1:4:te?3:2}return $.minus(re).abs()}function toStringBinary(ee,$,_,te){var re,ie,ne,ae,se,oe,le,ce,ue,me=ee.constructor,fe=_!==void 0;if(fe?(checkInt32(_,1,MAX_DIGITS),te===void 0?te=me.rounding:checkInt32(te,0,8)):(_=me.precision,te=me.rounding),!ee.isFinite())le=nonFiniteToString(ee);else{for(le=finiteToString(ee),ne=le.indexOf("."),fe?(re=2,$==16?_=_*4-3:$==8&&(_=_*3-2)):re=$,ne>=0&&(le=le.replace(".",""),ue=new me(1),ue.e=le.length-ne,ue.d=convertBase(finiteToString(ue),10,re),ue.e=ue.d.length),ce=convertBase(le,10,re),ie=se=ce.length;ce[--se]==0;)ce.pop();if(!ce[0])le=fe?"0p+0":"0";else{if(ne<0?ie--:(ee=new me(ee),ee.d=ce,ee.e=ie,ee=divide(ee,ue,_,te,0,re),ce=ee.d,ie=ee.e,oe=inexact),ne=ce[_],ae=re/2,oe=oe||ce[_+1]!==void 0,oe=te<4?(ne!==void 0||oe)&&(te===0||te===(ee.s<0?3:2)):ne>ae||ne===ae&&(te===4||oe||te===6&&ce[_-1]&1||te===(ee.s<0?8:7)),ce.length=_,oe)for(;++ce[--_]>re-1;)ce[_]=0,_||(++ie,ce.unshift(1));for(se=ce.length;!ce[se-1];--se);for(ne=0,le="";ne<se;ne++)le+=NUMERALS.charAt(ce[ne]);if(fe){if(se>1)if($==16||$==8){for(ne=$==16?4:3,--se;se%ne;se++)le+="0";for(ce=convertBase(le,re,$),se=ce.length;!ce[se-1];--se);for(ne=1,le="1.";ne<se;ne++)le+=NUMERALS.charAt(ce[ne])}else le=le.charAt(0)+"."+le.slice(1);le=le+(ie<0?"p":"p+")+ie}else if(ie<0){for(;++ie;)le="0"+le;le="0."+le}else if(++ie>se)for(ie-=se;ie--;)le+="0";else ie<se&&(le=le.slice(0,ie)+"."+le.slice(ie))}le=($==16?"0x":$==2?"0b":$==8?"0o":"")+le}return ee.s<0?"-"+le:le}function truncate(ee,$){if(ee.length>$)return ee.length=$,!0}function abs(ee){return new this(ee).abs()}function acos(ee){return new this(ee).acos()}function acosh(ee){return new this(ee).acosh()}function add(ee,$){return new this(ee).plus($)}function asin(ee){return new this(ee).asin()}function asinh(ee){return new this(ee).asinh()}function atan(ee){return new this(ee).atan()}function atanh(ee){return new this(ee).atanh()}function atan2$1(ee,$){ee=new this(ee),$=new this($);var _,te=this.precision,re=this.rounding,ie=te+4;return!ee.s||!$.s?_=new this(NaN):!ee.d&&!$.d?(_=getPi(this,ie,1).times($.s>0?.25:.75),_.s=ee.s):!$.d||ee.isZero()?(_=$.s<0?getPi(this,te,re):new this(0),_.s=ee.s):!ee.d||$.isZero()?(_=getPi(this,ie,1).times(.5),_.s=ee.s):$.s<0?(this.precision=ie,this.rounding=1,_=this.atan(divide(ee,$,ie,1)),$=getPi(this,ie,1),this.precision=te,this.rounding=re,_=ee.s<0?_.minus($):_.plus($)):_=this.atan(divide(ee,$,ie,1)),_}function cbrt(ee){return new this(ee).cbrt()}function ceil(ee){return finalise(ee=new this(ee),ee.e+1,2)}function clamp(ee,$,_){return new this(ee).clamp($,_)}function config(ee){if(!ee||typeof ee!="object")throw Error(decimalError+"Object expected");var $,_,te,re=ee.defaults===!0,ie=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-EXP_LIMIT,0,"toExpPos",0,EXP_LIMIT,"maxE",0,EXP_LIMIT,"minE",-EXP_LIMIT,0,"modulo",0,9];for($=0;$<ie.length;$+=3)if(_=ie[$],re&&(this[_]=DEFAULTS[_]),(te=ee[_])!==void 0)if(mathfloor(te)===te&&te>=ie[$+1]&&te<=ie[$+2])this[_]=te;else throw Error(invalidArgument+_+": "+te);if(_="crypto",re&&(this[_]=DEFAULTS[_]),(te=ee[_])!==void 0)if(te===!0||te===!1||te===0||te===1)if(te)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[_]=!0;else throw Error(cryptoUnavailable);else this[_]=!1;else throw Error(invalidArgument+_+": "+te);return this}function cos$3(ee){return new this(ee).cos()}function cosh(ee){return new this(ee).cosh()}function clone(ee){var $,_,te;function re(ie){var ne,ae,se,oe=this;if(!(oe instanceof re))return new re(ie);if(oe.constructor=re,isDecimalInstance(ie)){oe.s=ie.s,external?!ie.d||ie.e>re.maxE?(oe.e=NaN,oe.d=null):ie.e<re.minE?(oe.e=0,oe.d=[0]):(oe.e=ie.e,oe.d=ie.d.slice()):(oe.e=ie.e,oe.d=ie.d?ie.d.slice():ie.d);return}if(se=typeof ie,se==="number"){if(ie===0){oe.s=1/ie<0?-1:1,oe.e=0,oe.d=[0];return}if(ie<0?(ie=-ie,oe.s=-1):oe.s=1,ie===~~ie&&ie<1e7){for(ne=0,ae=ie;ae>=10;ae/=10)ne++;external?ne>re.maxE?(oe.e=NaN,oe.d=null):ne<re.minE?(oe.e=0,oe.d=[0]):(oe.e=ne,oe.d=[ie]):(oe.e=ne,oe.d=[ie]);return}else if(ie*0!=0){ie||(oe.s=NaN),oe.e=NaN,oe.d=null;return}return parseDecimal(oe,ie.toString())}else if(se!=="string")throw Error(invalidArgument+ie);return(ae=ie.charCodeAt(0))===45?(ie=ie.slice(1),oe.s=-1):(ae===43&&(ie=ie.slice(1)),oe.s=1),isDecimal.test(ie)?parseDecimal(oe,ie):parseOther(oe,ie)}if(re.prototype=P,re.ROUND_UP=0,re.ROUND_DOWN=1,re.ROUND_CEIL=2,re.ROUND_FLOOR=3,re.ROUND_HALF_UP=4,re.ROUND_HALF_DOWN=5,re.ROUND_HALF_EVEN=6,re.ROUND_HALF_CEIL=7,re.ROUND_HALF_FLOOR=8,re.EUCLID=9,re.config=re.set=config,re.clone=clone,re.isDecimal=isDecimalInstance,re.abs=abs,re.acos=acos,re.acosh=acosh,re.add=add,re.asin=asin,re.asinh=asinh,re.atan=atan,re.atanh=atanh,re.atan2=atan2$1,re.cbrt=cbrt,re.ceil=ceil,re.clamp=clamp,re.cos=cos$3,re.cosh=cosh,re.div=div,re.exp=exp,re.floor=floor,re.hypot=hypot,re.ln=ln,re.log=log,re.log10=log10,re.log2=log2,re.max=max,re.min=min,re.mod=mod,re.mul=mul,re.pow=pow,re.random=random,re.round=round$1,re.sign=sign,re.sin=sin$3,re.sinh=sinh,re.sqrt=sqrt,re.sub=sub$1,re.sum=sum,re.tan=tan$1,re.tanh=tanh,re.trunc=trunc,ee===void 0&&(ee={}),ee&&ee.defaults!==!0)for(te=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],$=0;$<te.length;)ee.hasOwnProperty(_=te[$++])||(ee[_]=this[_]);return re.config(ee),re}function div(ee,$){return new this(ee).div($)}function exp(ee){return new this(ee).exp()}function floor(ee){return finalise(ee=new this(ee),ee.e+1,3)}function hypot(){var ee,$,_=new this(0);for(external=!1,ee=0;ee<arguments.length;)if($=new this(arguments[ee++]),$.d)_.d&&(_=_.plus($.times($)));else{if($.s)return external=!0,new this(1/0);_=$}return external=!0,_.sqrt()}function isDecimalInstance(ee){return ee instanceof Decimal||ee&&ee.toStringTag===tag||!1}function ln(ee){return new this(ee).ln()}function log(ee,$){return new this(ee).log($)}function log2(ee){return new this(ee).log(2)}function log10(ee){return new this(ee).log(10)}function max(){return maxOrMin(this,arguments,"lt")}function min(){return maxOrMin(this,arguments,"gt")}function mod(ee,$){return new this(ee).mod($)}function mul(ee,$){return new this(ee).mul($)}function pow(ee,$){return new this(ee).pow($)}function random(ee){var $,_,te,re,ie=0,ne=new this(1),ae=[];if(ee===void 0?ee=this.precision:checkInt32(ee,1,MAX_DIGITS),te=Math.ceil(ee/LOG_BASE),this.crypto)if(crypto.getRandomValues)for($=crypto.getRandomValues(new Uint32Array(te));ie<te;)re=$[ie],re>=429e7?$[ie]=crypto.getRandomValues(new Uint32Array(1))[0]:ae[ie++]=re%1e7;else if(crypto.randomBytes){for($=crypto.randomBytes(te*=4);ie<te;)re=$[ie]+($[ie+1]<<8)+($[ie+2]<<16)+(($[ie+3]&127)<<24),re>=214e7?crypto.randomBytes(4).copy($,ie):(ae.push(re%1e7),ie+=4);ie=te/4}else throw Error(cryptoUnavailable);else for(;ie<te;)ae[ie++]=Math.random()*1e7|0;for(te=ae[--ie],ee%=LOG_BASE,te&&ee&&(re=mathpow(10,LOG_BASE-ee),ae[ie]=(te/re|0)*re);ae[ie]===0;ie--)ae.pop();if(ie<0)_=0,ae=[0];else{for(_=-1;ae[0]===0;_-=LOG_BASE)ae.shift();for(te=1,re=ae[0];re>=10;re/=10)te++;te<LOG_BASE&&(_-=LOG_BASE-te)}return ne.e=_,ne.d=ae,ne}function round$1(ee){return finalise(ee=new this(ee),ee.e+1,this.rounding)}function sign(ee){return ee=new this(ee),ee.d?ee.d[0]?ee.s:0*ee.s:ee.s||NaN}function sin$3(ee){return new this(ee).sin()}function sinh(ee){return new this(ee).sinh()}function sqrt(ee){return new this(ee).sqrt()}function sub$1(ee,$){return new this(ee).sub($)}function sum(){var ee=0,$=arguments,_=new this($[ee]);for(external=!1;_.s&&++ee<$.length;)_=_.plus($[ee]);return external=!0,finalise(_,this.precision,this.rounding)}function tan$1(ee){return new this(ee).tan()}function tanh(ee){return new this(ee).tanh()}function trunc(ee){return finalise(ee=new this(ee),ee.e+1,1)}P[Symbol.for("nodejs.util.inspect.custom")]=P.toString,P[Symbol.toStringTag]="Decimal";var Decimal=P.constructor=clone(DEFAULTS);LN10=new Decimal(LN10),PI=new Decimal(PI);var decimal=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Decimal,default:Decimal}),require$$0=getAugmentedNamespace(decimal);Object.defineProperty(cal$3,"__esModule",{value:!0}),cal$3.crammer=cal$3.traceCircle=cal$3.trace=cal$3.range=cal$3.nPr=cal$3.nCr=cal$3.factorial=cal$3.primeFactors=cal$3.primes=cal$3.isPrime=cal$3.toSurd=cal$3.isRational=cal$3.toFraction=cal$3.logFloor=cal$3.logCeil=cal$3.mantissa=cal$3.e=cal$3.fix=cal$3.round=cal$3.dp=cal$3.sigfig=cal$3.eq=cal$3.correct=cal$3.blur=void 0;const decimal_js_1=require$$0,STANDARD_SIGFIG=14;function blur(ee){let $=parseFloat(ee.toPrecision(STANDARD_SIGFIG));return sigfig($)<=STANDARD_SIGFIG-5?$:ee}cal$3.blur=blur;function correct(ee){return parseFloat(ee.toPrecision(STANDARD_SIGFIG-2))}cal$3.correct=correct;function eq(ee,$){return correct(ee)===correct($)}cal$3.eq=eq;function sigfig(ee){return new decimal_js_1.Decimal(ee).precision(!1)}cal$3.sigfig=sigfig;function dp(ee){return new decimal_js_1.Decimal(ee).decimalPlaces()}cal$3.dp=dp;function round(ee,$=3){function _(te){return new decimal_js_1.Decimal(ee).toSignificantDigits($,te).toNumber()}return{off:()=>_(decimal_js_1.Decimal.ROUND_HALF_UP),up:()=>_(decimal_js_1.Decimal.ROUND_UP),down:()=>_(decimal_js_1.Decimal.ROUND_DOWN)}}cal$3.round=round;function fix(ee,$=0){function _(te){return new decimal_js_1.Decimal(ee).toNearest(Number("1e"+String(-$)),te).toNumber()}return{off:()=>_(decimal_js_1.Decimal.ROUND_HALF_UP),up:()=>_(decimal_js_1.Decimal.ROUND_UP),down:()=>_(decimal_js_1.Decimal.ROUND_DOWN)}}cal$3.fix=fix;function e$3(ee){return Number(ee.toExponential().split("e")[1])}cal$3.e=e$3;function mantissa(ee){return Number(ee.toExponential().split("e")[0])}cal$3.mantissa=mantissa;function logCeil(ee){let $=e$3(ee)+1;return Number("1e"+$)}cal$3.logCeil=logCeil;function logFloor(ee){let $=e$3(ee);return Number("1e"+$)}cal$3.logFloor=logFloor;function toFraction(ee){if(ee===1/0)return[1,0];if(ee===-1/0)return[-1,0];let $=new decimal_js_1.Decimal(ee).toFraction(1e5);return[$[0].toNumber(),$[1].toNumber()]}cal$3.toFraction=toFraction;function isRational(ee){function $(re,ie){let ne=new decimal_js_1.Decimal(re).toFraction(ie);return[ne[0].toNumber(),ne[1].toNumber()]}if(ee===1/0||ee===-1/0)return!1;let _=$(ee,1e5),te=$(ee,1e7);return _[0]===te[0]&&_[1]===te[1]}cal$3.isRational=isRational;function toSurd(ee){ee=blur(ee);let $=Math.sign(ee),_=Math.abs(ee),te=blur(_**2);if(te===0)return[0,1];let re=[1],ie=2;for(;ie<=_;){let ae=ie**2;te%ae==0?(te=te/ae,re.push(ie)):ie++}let ne=re.reduce((ae,se)=>ae*se,1);return[$*ne,te]}cal$3.toSurd=toSurd;function isPrime(ee){if(!Number.isInteger(ee)||ee<=1)return!1;if(ee===2)return!0;if(ee%2==0)return!1;for(let $=3;$<=Math.sqrt(ee)+1;$=$+2)if(ee%$==0)return!1;return!0}cal$3.isPrime=isPrime;function primes(ee){let $=[];for(let _=2;_<=ee;_++)isPrime(_)&&$.push(_);return $}cal$3.primes=primes;function primeFactors(ee){let $=[],_=2;for(;ee>1;){if(!isPrime(_)){_++;continue}ee%_==0?($.push(_),ee=ee/_):_++}return $}cal$3.primeFactors=primeFactors;function factorial(ee){return ee<=1?1:factorial(ee-1)*ee}cal$3.factorial=factorial;function nCr(ee,$){return factorial(ee)/factorial($)/factorial(ee-$)}cal$3.nCr=nCr;function nPr(ee,$){return factorial(ee)/factorial(ee-$)}cal$3.nPr=nPr;function range(ee,$){let _=[];ee=Math.ceil(ee-Number.EPSILON);for(let te=ee;te<=$;te++)_.push(te);return _}cal$3.range=range;function trace$1(ee,$,_=1e3){function te(se){let oe;try{oe=ee(se)}catch{return[NaN,NaN]}return Array.isArray(oe)||(oe=[se,oe]),oe}let[re,ie]=$;const ne=(ie-re)/(_-1);let ae=[];for(let se=re;se<=ie;se+=ne)ae.push(te(se));return ae}cal$3.trace=trace$1;function traceCircle$1(ee,$,_,te=100){const[re,ie]=ee;function ne(se){return Math.sin(se/180*Math.PI)}function ae(se){return Math.cos(se/180*Math.PI)}return trace$1(se=>[re+$*ae(se),ie+$*ne(se)],_,te)}cal$3.traceCircle=traceCircle$1;function crammer(ee,$,_,te,re,ie){if(ee/$==te/re)return[NaN,NaN];const ne=ee*re-$*te,ae=(_*re-$*ie)/ne,se=(ee*ie-_*te)/ne;return[blur(ae),blur(se)]}cal$3.crammer=crammer,Object.defineProperty(numbers$2,"__esModule",{value:!0}),numbers$2.toNumbers=numbers$2.numbers=numbers$2.Numbers=void 0;const list_1$6=list$2,cal_1$1=cal$3;class Numbers extends list_1$6.List{sum(){return this.reduce(($,_)=>$+_,0)}product(){return this.length===0?NaN:this.reduce(($,_)=>$*_,1)}mean(){return this.length===0?NaN:this.sum()/this.length}max($=1){var _;return this.length===0?NaN:$===1?Math.max(...this):(_=this.unique().descending()[$-1])!=null?_:NaN}min($=1){var _;return this.length===0?NaN:$===1?Math.min(...this):(_=this.unique().ascending()[$-1])!=null?_:NaN}add($){Array.isArray($)||($=Array(this.length).fill($));let _=this.zip($,(te,re)=>te+re);return this.create(_)}minus($){Array.isArray($)||($=Array(this.length).fill($));let _=this.zip($,(te,re)=>te-re);return this.create(_)}times($){Array.isArray($)||($=Array(this.length).fill($));let _=this.zip($,(te,re)=>te*re);return this.create(_)}divide($){Array.isArray($)||($=Array(this.length).fill($));let _=this.zip($,(te,re)=>te/re);return this.create(_)}toPower($){Array.isArray($)||($=Array(this.length).fill($));let _=this.zip($,(te,re)=>te**re);return this.create(_)}rootNth($){Array.isArray($)||($=Array(this.length).fill($));let _=this.zip($,(te,re)=>te**(1/re));return this.create(_)}square(){return this.toPower(2)}squareRoot(){return this.rootNth(2)}negate(){return this.times(-1)}abs(){const $=this.map(_=>Math.abs(_));return this.create($)}blur(){let $=this.map(_=>(0,cal_1$1.blur)(_));return this.create($)}toFraction(){let $=this.map(_=>(0,cal_1$1.toFraction)(_));return(0,list_1$6.list)(...$)}gaps(){const $=this.ascending(),_=this.create([]);for(let te=0;te<this.length-1;te++){let re=$[te+1]-$[te];_.push(re)}return _}gapsMod($){function _(ne){for(;ne>=$;)ne=ne-$;for(;ne<0;)ne=ne+$;return ne}const re=this.map(_).ascending();return this.create([...re,re[0]+$]).gaps()}hcf(){if(this.some(_=>!Number.isInteger(_)))return NaN;let $=this.except([0]).abs().unique();if($.length===0)return NaN;if($.length===1)return $[0];if($.length===2){let[_,te]=$;for(;;){if(_===0)return te;if(te===0)return _;_>=te?_=_%te:te=te%_}return _}return $.reduce((_,te)=>this.create([_,te]).hcf())}lcm(){if(this.some(_=>!Number.isInteger(_)))return NaN;let $=this.except([0]).abs().unique();if($.length===0)return NaN;if($.length===1)return $[0];if($.length===2){let[_,te]=$,re=$.hcf();return _*te/re}return $.reduce((_,te)=>this.create([_,te]).lcm())}reduceRatio(){if(this.except([0]).length===0)return this.clone();if(this.some(_=>!Number.isInteger(_)))return this.clone();let $=this.hcf();return this.divide($).blur()}ratio(){if(this.except([0]).length===0)return this.clone();if(this.some(te=>!(0,cal_1$1.isRational)(te)))return this.clone();let $=this.toFraction(),_=this.create($.map(te=>te[1]));return this.times(_.lcm()).blur().reduceRatio()}ratioFactor(){if(this.except([0]).length===0)return NaN;if(this.some(te=>!(0,cal_1$1.isRational)(te)))return NaN;let $=this.except([0]),_=$.ratio();return(0,cal_1$1.blur)(_[0]/$[0])}}numbers$2.Numbers=Numbers;function numbers$1(...ee){let $=new Numbers;return $.push(...ee),$}numbers$2.numbers=numbers$1;function toNumbers$1(ee){return numbers$1(...ee)}numbers$2.toNumbers=toNumbers$1,Object.defineProperty(data$1,"__esModule",{value:!0}),data$1.toData=data$1.data=data$1.Data=void 0;const numbers_1$3=numbers$2;class Data extends numbers_1$3.Numbers{median(){if(this.length===0)return NaN;const $=this.ascending();if($.length%2==0){let _=$.length/2,te=_+1;return($[_-1]+$[te-1])/2}else{let _=$.length/2;return _=Math.ceil(_),$[_-1]}}modes($=1){return this.length===0?this.create([]):this.maxsBy(_=>this.freq(_),$).unique()}mode($=1){if(this.length===0)return NaN;const _=this.modes($);return _.length>1?NaN:_.first()}isSingleMode($=1){return this.modes($).length===1}lowerQuartile(){if(this.length===0)return NaN;const $=this.ascending();let _=$.length,te=_/2;return _%2!=0&&(te=Math.floor(te)),$.head(te).median()}upperQuartile(){if(this.length===0)return NaN;const $=this.ascending();let _=$.length,te=_/2;return _%2!=0&&(te=Math.floor(te)),$.tail(te).median()}stdDev(){if(this.length===0)return NaN;let $=this.mean(),re=this.minus($).square().mean();return Math.sqrt(re)}range(){return this.length===0?NaN:this.max()-this.min()}IQR(){return this.length===0?NaN:this.upperQuartile()-this.lowerQuartile()}}data$1.Data=Data;function data(...ee){let $=new Data;return $.push(...ee),$}data$1.data=data;function toData$1(ee){return data(...ee)}data$1.toData=toData$1;var shape$1={},vector$2={};Object.defineProperty(vector$2,"__esModule",{value:!0}),vector$2.toVector=vector$2.vector=vector$2.Vector=void 0;const numbers_1$2=numbers$2;class Vector extends numbers_1$2.Numbers{magnitude(){let _=this.square().sum();return Math.sqrt(_)}unit(){let $=this.magnitude();return this.divide($)}scaledTo($){return this.unit().times($)}dot($){let _=this.zip($,(te,re)=>te*re);return this.create(_).sum()}angleWith($){let _=this.magnitude(),te=this.create($).magnitude(),ie=this.dot($)/_/te;return Math.acos(ie)*180/Math.PI}projectOn($){let _=this.create($).unit(),te=this.dot(_);return _.times(te)}normalTo($){let _=this.projectOn($);return this.minus(_)}distanceWith($){return this.minus($).magnitude()}extrudeTo($,_){let te=this.create($),re=this.minus(te);return re=re.times(_),te.add(re)}}vector$2.Vector=Vector;function vector$1(...ee){let $=new Vector;return $.push(...ee),$}vector$2.vector=vector$1;function toVector(ee){return vector$1(...ee)}vector$2.toVector=toVector,Object.defineProperty(shape$1,"__esModule",{value:!0}),shape$1.toShape=shape$1.shape=shape$1.Shape=void 0;const list_1$5=list$2,numbers_1$1=numbers$2,vector_1$2=vector$2;class Shape extends list_1$5.List{distances(){let $=this.pairs().map(([_,te])=>_.distanceWith(te));return(0,numbers_1$1.numbers)(...$)}distancesFrom($){let _=this.map(te=>te.distanceWith($));return(0,numbers_1$1.numbers)(..._)}mean(){return this.reduce((_,te)=>_.add(te)).divide(this.length)}translate($){let _=this.map(te=>te.add($));return this.create(_)}scale($){let _=this.map(te=>te.times($));return this.create(_)}extrudeTo($,_){let te=this.map(re=>re.extrudeTo($,_));return this.create(te)}extrudeToShape($,_){let te=this.map((re,ie)=>re.extrudeTo($[ie],_));return this.create(te)}}shape$1.Shape=Shape;function shape(...ee){let $=new Shape;return $.push(...ee.map(_=>(0,vector_1$2.vector)(..._))),$}shape$1.shape=shape;function toShape(ee){return shape(...ee)}shape$1.toShape=toShape;var shape2D$2={},shape3D$1={},vector3D$2={},vector2D$1={};Object.defineProperty(vector2D$1,"__esModule",{value:!0}),vector2D$1.vec2D=vector2D$1.vector2D=vector2D$1.Vector2D=void 0;const vector_1$1=vector$2;class Vector2D extends vector_1$1.Vector{toArray(){let[$,_]=this;return[$,_]}argument(){let[$,_]=this;if($===0&&_===0)return 0;let te=Math.atan2(_,$)*180/Math.PI;return te<0&&(te+=360),te}rotate($){let _=$*Math.PI/180,te=Math.sin(_),re=Math.cos(_),[ie,ne]=this,ae=ie*re-ne*te,se=ie*te+ne*re;return this.create([ae,se])}cross2D($){let[_,te]=this,[re,ie]=$;return _*ie-te*re}}vector2D$1.Vector2D=Vector2D;function vector2D(ee,$){let _=new Vector2D;return _.push(ee,$),_}vector2D$1.vector2D=vector2D;function vec2D$1(ee,$){if($===void 0){let[_,te]=ee;return vector2D(_,te)}else{let[_,te]=ee,[re,ie]=$;return vector2D(re-_,ie-te)}}vector2D$1.vec2D=vec2D$1,Object.defineProperty(vector3D$2,"__esModule",{value:!0}),vector3D$2.vec3D=vector3D$2.vector3D=vector3D$2.Vector3D=void 0;const vector_1=vector$2,vector2D_1$4=vector2D$1;class Vector3D extends vector_1.Vector{toArray(){let[$,_,te]=this;return[$,_,te]}cross($){let[_,te,re]=this,[ie,ne,ae]=$,se=te*ae-re*ne,oe=re*ie-_*ae,le=_*ne-te*ie;return this.create([se,oe,le])}rotate($,_){let te=_*Math.PI/180,re=Math.sin(te),ie=Math.cos(te),ne=this.create($).unit(),ae=this.times(ie),se=ne.cross(this).times(re),oe=ne.times(ne.dot(this)).times(1-ie);return ae.add(se).add(oe)}projectOnPlane($,_){let te=this.normalToPlane($,_);return this.minus(te)}normalToPlane($,_){let te=this.create($),re=this.create(_),ie=te.cross(re);return this.projectOn(ie)}projectTo2D($=60,_=.5){let te=$*Math.PI/180,re=Math.sin(te),ie=Math.cos(te),[ne,ae,se]=this,oe=ne+_*ae*ie,le=se+_*ae*re;return(0,vector2D_1$4.vector2D)(oe,le)}}vector3D$2.Vector3D=Vector3D;function vector3D$1(ee,$,_){let te=new Vector3D;return te.push(ee,$,_),te}vector3D$2.vector3D=vector3D$1;function vec3D$1(ee,$){if($===void 0){let[_,te,re]=ee;return vector3D$1(_,te,re)}else{let[_,te,re]=ee,[ie,ne,ae]=$;return vector3D$1(ie-_,ne-te,ae-re)}}vector3D$2.vec3D=vec3D$1,Object.defineProperty(shape3D$1,"__esModule",{value:!0}),shape3D$1.toShape3D=shape3D$1.shape3D=shape3D$1.Shape3D=void 0;const shape_1$1=shape$1,shape2D_1$2=shape2D$2,vector3D_1$2=vector3D$2;class Shape3D extends shape_1$1.Shape{toArray(){return[...this.map($=>$.toArray())]}projectTo2D($=60,_=.5){let te=this.map(re=>re.projectTo2D($,_));return(0,shape2D_1$2.shape2D)(...te)}}shape3D$1.Shape3D=Shape3D;function shape3D(...ee){let $=new Shape3D;return $.push(...ee.map(_=>(0,vector3D_1$2.vec3D)(_))),$}shape3D$1.shape3D=shape3D;function toShape3D$1(ee){return shape3D(...ee)}shape3D$1.toShape3D=toShape3D$1,Object.defineProperty(shape2D$2,"__esModule",{value:!0}),shape2D$2.toShape2D=shape2D$2.shape2D=shape2D$2.Shape2D=void 0;const shape_1=shape$1,shape3D_1=shape3D$1,vector3D_1$1=vector3D$2,vector2D_1$3=vector2D$1;class Shape2D extends shape_1.Shape{toArray(){return[...this.map($=>$.toArray())]}sortAroundMean(){let $=this.mean();this.sortBy(_=>_.minus($).argument())}isConvex(){if(this.length<=3)return!0;let $=this.clone();$.sortAroundMean();let _=[];for(let te=0;te<$.length;te++){let re=$.cyclicAt(te-1),ie=$.cyclicAt(te),ne=$.cyclicAt(te+1),ae=(0,vector2D_1$3.vec2D)(re,ie),se=(0,vector2D_1$3.vec2D)(ie,ne);_.push(ae.cross2D(se))}return _.every(te=>te>0)||_.every(te=>te<0)}erect($,_){let te=(0,vector3D_1$1.vec3D)($),re=(0,vector3D_1$1.vec3D)(_),ie=this.map(ne=>{let[ae,se]=ne,oe=te.times(ae),le=re.times(se);return oe.add(le)});return(0,shape3D_1.shape3D)(...ie)}}shape2D$2.Shape2D=Shape2D;function shape2D$1(...ee){let $=new Shape2D;return $.push(...ee.map(_=>(0,vector2D_1$3.vec2D)(_))),$}shape2D$2.shape2D=shape2D$1;function toShape2D$1(ee){return shape2D$1(...ee)}shape2D$2.toShape2D=toShape2D$1;var sheet$1={};Object.defineProperty(sheet$1,"__esModule",{value:!0}),sheet$1.toSheet=sheet$1.sheet=sheet$1.Sheet=void 0;const list_1$4=list$2;function isLike(ee,$){for(const _ in $){if(!(_ in ee))return!1;const te=ee[_],re=$[_];if(Array.isArray(re)){if(!re.includes(te))return!1}else if(te!==re)return!1}return!0}function assignProperty(ee,$){for(const _ in $)ee[_]=$[_]}class Sheet extends list_1$4.List{match($){return this.filter(_=>isLike(_,$))}unmatch($){return this.filter(_=>!isLike(_,$))}get($){return this.find(_=>isLike(_,$))}exist($){return this.get($)!==void 0}count($){return this.match($).length}pluck($){const _=this.map(re=>re[$]),te=new list_1$4.List;return te.set(_),te}scan($){return this.pluck($).unique()}distill($){this.set(this.match($))}discard($){this.set(this.unmatch($))}order(...$){this.sort((_,te)=>{for(let re of $)if(typeof re=="string"){if(_[re]>te[re])return 1;if(_[re]<te[re])return-1}else for(let ie in re){let ne=re[ie];if(ne===!0){if(_[ie]>te[ie])return 1;if(_[ie]<te[ie])return-1}if(ne===!1){if(_[ie]<te[ie])return 1;if(_[ie]>te[ie])return-1}if(Array.isArray(ne)){let ae=ne.indexOf(_[ie]),se=ne.indexOf(te[ie]);if(ae===-1&&(ae=1/0),se===-1&&(se=1/0),ae>se)return 1;if(ae<se)return-1}break}return 0})}merge($,_){for(const te of $)for(const re of this)_ in re&&_ in te&&te[_]===re[_]&&assignProperty(re,te)}absorb($,_){for(const te of $){let re=!1;for(const ie of this)_ in ie&&_ in te&&te[_]===ie[_]&&(assignProperty(ie,te),re=!0);re||this.push(te)}}}sheet$1.Sheet=Sheet;function sheet(...ee){let $=new Sheet;return $.push(...ee),$}sheet$1.sheet=sheet;function toSheet(ee){return sheet(...ee)}sheet$1.toSheet=toSheet;var pencil={},frame={};(function(ee){Object.defineProperty(ee,"__esModule",{value:!0}),ee.Frame=ee.PEN_QUALITY=void 0,ee.PEN_QUALITY=3;class ${constructor(){this.wPixel=0,this.hPixel=0,this.xmin=0,this.xmax=0,this.ymin=0,this.ymax=0,this.axisOffset=5*ee.PEN_QUALITY}setSize(re,ie){this.wPixel=re,this.hPixel=ie}setXRange(re){[this.xmin,this.xmax]=re}setYRange(re){[this.ymin,this.ymax]=re}xWidth(){return this.xmax-this.xmin}yHeight(){return this.ymax-this.ymin}xUnit(){return this.wPixel/this.xWidth()}yUnit(){return this.hPixel/this.yHeight()}toPix(re){const ie=re[0],ne=re[1],ae=(ie-this.xmin)*this.xUnit(),se=(this.ymax-ne)*this.yUnit();return[ae,se]}toPixs(re){return re.map(ie=>this.toPix(ie))}toCoord(re){const ie=re[0],ne=re[1],ae=this.xmin+ie/this.xUnit(),se=this.ymax-ne/this.yUnit();return[ae,se]}toCoords(re){return re.map(ie=>this.toCoord(ie))}xTicks(re){return _(this.xmin,this.xmax,re)}yTicks(re){return _(this.ymin,this.ymax,re)}xRange(){return[this.xmin,this.xmax]}yRange(){return[this.ymin,this.ymax]}xCenter(){return(this.xmin+this.xmax)/2}yCenter(){return(this.ymin+this.ymax)/2}xyCenter(){return[this.xCenter(),this.yCenter()]}xOffset(){return this.axisOffset/this.yUnit()}yOffset(){return this.axisOffset/this.xUnit()}}ee.Frame=$;function _(te,re,ie,ne=!1){const ae=Math.floor(te/ie)*ie,se=[];for(let oe=ae;oe<=re;oe+=ie)oe=parseFloat(oe.toPrecision(3)),!(oe===te||oe===re)&&(!ne&&oe===0||se.push(oe));return se}})(frame);var support={};Object.defineProperty(support,"__esModule",{value:!0}),support.midPoint=support.atan2=support.cos=support.sin=support.force2D=support.IsReflex=support.AnglePolar=void 0;const vector2D_1$2=vector2D$1,vector3D_1=vector3D$2;function AnglePolar$1(ee,$,_){let te=(0,vector2D_1$2.vec2D)($,ee).argument(),re=(0,vector2D_1$2.vec2D)($,_).argument();return te<=re?re-te:360+re-te}support.AnglePolar=AnglePolar$1;function IsReflex$2(ee,$,_){return AnglePolar$1(ee,$,_)>180}support.IsReflex=IsReflex$2;function force2D(ee,$,_){return ee.length===3?(0,vector3D_1.vec3D)(ee).projectTo2D($,_).toArray():ee}support.force2D=force2D;function sin$2(ee){return Math.sin(ee/180*Math.PI)}support.sin=sin$2;function cos$2(ee){return Math.cos(ee/180*Math.PI)}support.cos=cos$2;function atan2(ee,$){return Math.atan2(ee,$)*180/Math.PI}support.atan2=atan2;function midPoint(ee,$){return[(ee[0]+$[0])/2,(ee[1]+$[1])/2]}support.midPoint=midPoint;var __createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ee,$,_,te){te===void 0&&(te=_),Object.defineProperty(ee,te,{enumerable:!0,get:function(){return $[_]}})}:function(ee,$,_,te){te===void 0&&(te=_),ee[te]=$[_]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ee,$){Object.defineProperty(ee,"default",{enumerable:!0,value:$})}:function(ee,$){ee.default=$}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(ee){if(ee&&ee.__esModule)return ee;var $={};if(ee!=null)for(var _ in ee)_!=="default"&&Object.prototype.hasOwnProperty.call(ee,_)&&__createBinding$1($,ee,_);return __setModuleDefault$1($,ee),$};Object.defineProperty(pencil,"__esModule",{value:!0}),pencil.Pencil=void 0;const frame_1=frame,support_1=support,cal$2=__importStar$1(cal$3),list_1$3=list$2,shape2D_1$1=shape2D$2,vector2D_1$1=vector2D$1,REM_PIXEL$2=parseFloat(getComputedStyle(document.documentElement).fontSize),SIZE_SCALE=10,DEFAULT_SHADE_ALPHA=.1,DEFAULT_AXIS_LABEL_OFFSET_PIXEL=15,DEFAULT_XAXIS_MARK_OFFSET_PIXEL=15,DEFAULT_YAXIS_MARK_OFFSET_PIXEL=10,DEFAULT_AXIS_TICK_LENGTH_PIXEL=5;class Pencil{constructor(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.frame=new frame_1.Frame,this.imgStore=null,this.INIT_RANGE_ALREADY=!1,this.INIT_SIZE_ALREADY=!1,this.backgroundImgUrl="",this.$TEXT_SIZE=1,this.$TEXT_DIR=0,this.$TEXT_LATEX=!1,this.$LABEL_CENTER=0,this.$ANGLE_MODE="normal",this.$LENGTH_UNIT=void 0,this.$3D_ANGLE=60,this.$3D_DEPTH=.5,this.$BORDER=.2,this.$LINE_LABEL="auto"}initRange($,_){this.frame.setXRange($),this.frame.setYRange(_),this.INIT_RANGE_ALREADY=!0}initSize($,_){if(!this.INIT_RANGE_ALREADY)throw"[Pencil Error] Range must be set before Size";const te=$*SIZE_SCALE*REM_PIXEL$2*frame_1.PEN_QUALITY,re=_*SIZE_SCALE*REM_PIXEL$2*frame_1.PEN_QUALITY;let ie=this.$3D_ANGLE,ne=this.$3D_DEPTH,ae=this.$BORDER;this.canvas.width=te,this.canvas.height=re,this.frame.setSize(te,re),this.setAllDefault(),this.setProjector3D(ie,ne),this.setBorder(ae),this.INIT_SIZE_ALREADY=!0}initOuterBorder(){if(!this.INIT_RANGE_ALREADY)throw"[Pencil Error] Range must be set before setting range border";if(!this.INIT_SIZE_ALREADY)throw"[Pencil Error] Size must be set before setting range border";const $=this.$BORDER*SIZE_SCALE*REM_PIXEL$2*frame_1.PEN_QUALITY;let[_,te]=this.frame.xRange(),[re,ie]=this.frame.yRange();const ne=this.frame.wPixel,ae=this.frame.hPixel;let se=(te-_)*$/ne,oe=(ie-re)*$/ae;_-=se,te+=se,re-=oe,ie+=oe,this.initRange([_,te],[re,ie]);const le=ne/SIZE_SCALE/REM_PIXEL$2/frame_1.PEN_QUALITY,ce=ae/SIZE_SCALE/REM_PIXEL$2/frame_1.PEN_QUALITY;this.initSize(le+2*this.$BORDER,ce+2*this.$BORDER)}pj($){return(0,support_1.force2D)($,this.$3D_ANGLE,this.$3D_DEPTH)}pjs($){return $.map(_=>this.pj(_))}setWeight($=1){this.ctx.lineWidth=$*frame_1.PEN_QUALITY}setStrokeColor($="black"){this.ctx.strokeStyle=$}setFillColor($="black"){this.ctx.fillStyle=$}setColor($="black"){this.setStrokeColor($),this.setFillColor($)}setAlpha($=1){this.ctx.globalAlpha=$}setDash($=[]){Array.isArray($)&&this.ctx.setLineDash($.map(_=>_*frame_1.PEN_QUALITY)),typeof $=="number"&&this.setDash([$,$]),typeof $=="boolean"&&this.setDash($?[5,5]:[])}setTextAlign($="center"){this.ctx.textAlign=$}setTextBaseline($="middle"){this.ctx.textBaseline=$}setTextSize($=1){this.$TEXT_SIZE=$,$=Math.round($*REM_PIXEL$2*frame_1.PEN_QUALITY),this.ctx.font=this.ctx.font.replace(/\d+px/g,$+"px")}setTextItalic($=!1){$?this.ctx.font.includes("italic")||(this.ctx.font="italic "+this.ctx.font):this.ctx.font=this.ctx.font.replace("italic ","")}setTextDir($=0){this.$TEXT_DIR=$}setTextLatex($=!1){this.$TEXT_LATEX=$}setLabelCenter(...$){if($.length===0){this.$LABEL_CENTER=this.frame.xyCenter();return}if($[0]===!0){this.$LABEL_CENTER=this.frame.xyCenter();return}if(typeof $[0]=="number"){this.$LABEL_CENTER=$[0];return}if(Array.isArray($[0])){let _=$;this.$LABEL_CENTER=(0,shape2D_1$1.toShape2D)(this.pjs(_)).mean().toArray()}}setLengthUnit($=void 0){this.$LENGTH_UNIT=$}setAngleMode($="normal"){this.$ANGLE_MODE=$}setProjector3D($=60,_=.5){this.$3D_ANGLE=$,this.$3D_DEPTH=_}setBorder($=.2){this.$BORDER=$}setLineLabel($="auto"){this.$LINE_LABEL=$}setAllDefault(){this.setWeight(),this.setStrokeColor(),this.setFillColor(),this.setAlpha(),this.setDash(),this.setTextAlign(),this.setTextBaseline(),this.ctx.font="normal 10px Times New Roman",this.setTextSize(),this.setTextItalic(),this.setTextDir(),this.setTextLatex(),this.setLabelCenter(),this.setLengthUnit(),this.setAngleMode(),this.setProjector3D(),this.setBorder(),this.setLineLabel()}moveTo($){let _=this.pj($),te=this.frame.toPix(_),[re,ie]=te;this.ctx.beginPath(),this.ctx.moveTo(re,ie)}lineTo($){let _=this.pj($),te=this.frame.toPix(_),[re,ie]=te;this.ctx.lineTo(re,ie)}path($){if($.length===0){this.ctx.beginPath();return}let _=this.pjs($);this.moveTo(_[0]);for(let te=1;te<_.length;te++)this.lineTo(_[te])}drawStroke($){this.path($),this.ctx.stroke()}drawShape($){this.path($),this.ctx.closePath(),this.ctx.stroke()}drawFill($){this.path($),this.ctx.closePath(),this.ctx.fill()}drawShade($){let _=this.ctx.globalAlpha;this.setAlpha(DEFAULT_SHADE_ALPHA),this.drawFill($),this.setAlpha(_)}pathArc($,_,te){let re=this.pj($),[ie,ne]=this.frame.toPix(re),[ae,se]=te;ae=-ae/180*Math.PI,se=-se/180*Math.PI,this.ctx.beginPath(),this.ctx.arc(ie,ne,_*frame_1.PEN_QUALITY,ae,se,!0)}drawArc($,_,te){this.pathArc($,_,te),this.ctx.stroke()}drawSegment($,_,te){this.pathArc($,_,te),this.ctx.fill()}drawCircle($,_){this.drawArc($,_,[0,360])}drawDot($,_){this.pathArc($,_,[0,360]),this.ctx.fill()}pathSectoroid($,_,te,re){let ie=(0,vector2D_1$1.vec2D)($,_),ne=(0,vector2D_1$1.vec2D)($,te),ae=(0,vector2D_1$1.vec2D)($,_).magnitude(),se=ie.argument(),oe=ne.argument();oe<se&&(oe+=360);let le=cal$2.traceCircle($,ae,[se,oe]);this.path([_,...le,te,...re])}drawStrokeSectoroid($,_,te,re){this.pathSectoroid($,_,te,re),this.ctx.stroke()}drawFillSectoroid($,_,te,re){this.pathSectoroid($,_,te,re),this.ctx.closePath(),this.ctx.fill()}drawShadeSectoroid($,_,te,re){let ie=this.ctx.globalAlpha;this.setAlpha(DEFAULT_SHADE_ALPHA),this.drawFillSectoroid($,_,te,re),this.setAlpha(ie)}drawArrowHead($,_,{arrowLength:te,arrowWidth:re,arrowOffset:ie}={}){let ne=this.pj($),ae=this.pj(_);const[se,oe]=this.frame.toPix(ne),[le,ce]=this.frame.toPix(ae),ue=le-se,me=ce-oe,fe=Math.atan2(me,ue),de=Math.sqrt(ue*ue+me*me);te!=null||(te=10),re!=null||(re=te/2),ie!=null||(ie=0),te*=frame_1.PEN_QUALITY,re*=frame_1.PEN_QUALITY,ie*=frame_1.PEN_QUALITY,this.ctx.save(),this.ctx.translate(se,oe),this.ctx.rotate(fe),this.ctx.beginPath(),this.ctx.moveTo(de+ie-te,-re),this.ctx.lineTo(de+ie,0),this.ctx.lineTo(de+ie-te,re),this.ctx.stroke(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.restore()}drawAngle($,_,te,re,ie,ne){let[ae,se,oe]=this.pjs([$,_,te]),le=this.$ANGLE_MODE;le==="normal"&&(0,support_1.IsReflex)(ae,se,oe)&&([ae,oe]=[oe,ae]),le==="reflex"&&!(0,support_1.IsReflex)(ae,se,oe)&&([ae,oe]=[oe,ae]);let[ce,ue,me]=this.frame.toPixs([ae,se,oe]),fe=(0,support_1.atan2)(-(ce[1]-ue[1]),ce[0]-ue[0]),de=(0,support_1.atan2)(-(me[1]-ue[1]),me[0]-ue[0]);const pe=ge=>{this.drawArc(se,re+ge*ne,[fe,de])};if(ie%2==1){pe(0);for(let ge=1;ge<=(ie-1)/2;ge++)pe(ge),pe(-ge)}else for(let ge=1;ge<=ie/2;ge++)pe(ge-.5),pe(-(ge-.5))}drawRightAngle($,_,te,re){let ie=this.pjs([$,_,te]),[ne,ae,se]=this.frame.toPixs(ie),oe=re*frame_1.PEN_QUALITY,le=(0,support_1.atan2)(ne[1]-ae[1],ne[0]-ae[0]),ce=(0,support_1.atan2)(se[1]-ae[1],se[0]-ae[0]),ue=[ae[0]+oe*(0,support_1.cos)(le),ae[1]+oe*(0,support_1.sin)(le)],me=[ae[0]+oe*(0,support_1.cos)(ce),ae[1]+oe*(0,support_1.sin)(ce)],fe=[ae[0]+oe*(0,support_1.cos)(le)+oe*(0,support_1.cos)(ce),ae[1]+oe*(0,support_1.sin)(le)+oe*(0,support_1.sin)(ce)],de=(pe,ge)=>{this.ctx.beginPath(),this.ctx.moveTo(pe[0],pe[1]),this.ctx.lineTo(ge[0],ge[1]),this.ctx.stroke()};de(ue,fe),de(me,fe)}drawParallelMark($,_,te,re,ie){let ne=this.pj($),ae=this.pj(_),se=(0,support_1.midPoint)(ne,ae);te!=null||(te=4),ie!=null||(ie=6);for(let oe=0;oe<re;oe++)this.drawArrowHead(ne,se,{arrowLength:te*2,arrowWidth:te,arrowOffset:oe*ie})}drawTick($,_,te,re){let ie=this.pj($),ne=this.pj(_);const[ae,se]=this.frame.toPix(ie),[oe,le]=this.frame.toPix(ne),ce=oe-ae,ue=le-se,me=Math.atan2(ue,ce),fe=Math.sqrt(ce*ce+ue*ue);te!=null||(te=5),re!=null||(re=0),te*=frame_1.PEN_QUALITY,re*=frame_1.PEN_QUALITY,this.ctx.save(),this.ctx.translate(ae,se),this.ctx.rotate(me),this.ctx.beginPath(),this.ctx.moveTo(fe+re,-te),this.ctx.lineTo(fe+re,te),this.ctx.stroke(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.restore()}drawTickVertical($,_){let te=this.pj($);const[re,ie]=this.frame.toPix(te);_*=frame_1.PEN_QUALITY,this.ctx.beginPath(),this.ctx.moveTo(re,ie-_),this.ctx.lineTo(re,ie+_),this.ctx.stroke()}drawTickHorizontal($,_){let te=this.pj($);const[re,ie]=this.frame.toPix(te);_*=frame_1.PEN_QUALITY,this.ctx.beginPath(),this.ctx.moveTo(re-_,ie),this.ctx.lineTo(re+_,ie),this.ctx.stroke()}drawEqualMark($,_,te,re,ie){let ne=this.pj($),ae=this.pj(_),se=(0,support_1.midPoint)(ne,ae);te!=null||(te=5),ie!=null||(ie=3);const oe=le=>{this.drawTick(ne,se,te,le*ie)};if(re%2==1){oe(0);for(let le=1;le<=(re-1)/2;le++)oe(le),oe(-le)}else for(let le=1;le<=re/2;le++)oe(le-.5),oe(-(le-.5))}drawCompass($,_,te,re,ie){let ne=this.pj($),[ae,se]=this.frame.toPix(ne);_!=null||(_=17),te!=null||(te=20),re!=null||(re=7),ie!=null||(ie=re/2),_*=frame_1.PEN_QUALITY,te*=frame_1.PEN_QUALITY,re*=frame_1.PEN_QUALITY,ie*=frame_1.PEN_QUALITY,this.ctx.save(),this.ctx.translate(ae,se),this.ctx.beginPath(),this.ctx.moveTo(0,-te),this.ctx.lineTo(0,te),this.ctx.moveTo(-ie,-te+re),this.ctx.lineTo(0,-te),this.ctx.lineTo(ie,-te+re),this.ctx.stroke(),this.ctx.moveTo(-_,0),this.ctx.lineTo(_,0),this.ctx.stroke(),this.ctx.restore()}drawPlot($,_,te,re=1e3){let ie=cal$2.trace($,[_,te],re);function ne(oe){return oe.some(le=>Math.abs(le)>1e4)}let ae=ie.map(oe=>{let[le,ce]=oe;return!Number.isFinite(le)||!Number.isFinite(ce)||ne(oe)?null:oe}),se=(0,list_1$3.toList)(ae).split(null);for(let oe of se)oe.length!==0&&this.drawStroke(oe)}plainTextAtPixel($,_){if($=String($),$==="")return;let[te,re]=_,ie=-this.$TEXT_DIR*Math.PI/180;this.ctx.save(),this.ctx.translate(te,re),this.ctx.rotate(ie),this.ctx.fillText($,0,0),this.ctx.restore()}latexAtPixel($,_){if($=String($),$==="")return;let[te,re]=_,ie=-this.$TEXT_DIR*Math.PI/180,ne=Math.round(this.$TEXT_SIZE*REM_PIXEL$2*frame_1.PEN_QUALITY);$=`\\color{${this.ctx.fillStyle}} `+$,this.ctx.save();const se=new CanvasLatex.default($,{displayMode:!0,debugBounds:!1,baseSize:ne}),oe=se.getBounds();if(oe!==null){this.ctx.translate(te,re),this.ctx.rotate(ie);let le=2-oe.width/2-oe.x;this.ctx.textAlign==="left"&&(le=2-oe.x),this.ctx.textAlign==="right"&&(le=2-oe.width-oe.x),this.ctx.textAlign==="center"&&(le=2-oe.width/2-oe.x);let ce=-oe.y/2;this.ctx.textBaseline==="top"&&(ce=-oe.y),this.ctx.textBaseline==="bottom"&&(ce=-oe.y-oe.height),this.ctx.textBaseline==="middle"&&(ce=-oe.y-oe.height/2),this.ctx.translate(le,ce),se.draw(this.ctx)}else console.error("[CanvasLatex] bounds === null! This is an unexpected error.");this.ctx.restore()}drawText($,_,te,re){if($=String($),$==="")return;let ie=this.pj(_),[ne,ae]=this.frame.toPix(ie);ne+=te*frame_1.PEN_QUALITY,ae-=re*frame_1.PEN_QUALITY,this.$TEXT_LATEX?this.latexAtPixel($,[ne,ae]):this.plainTextAtPixel($,[ne,ae])}getDirInPixel($,_){let[te,re]=this.pjs([$,_]),[ie,ne]=this.frame.toPixs([te,re]);return(0,support_1.atan2)(-(ne[1]-ie[1]),ne[0]-ie[0])}getDirInPixelByAngle($,_,te){let[re,ie,ne]=this.pjs([$,_,te]),ae=this.$ANGLE_MODE;ae==="normal"&&(0,support_1.IsReflex)(re,ie,ne)&&([re,ne]=[ne,re]),ae==="reflex"&&!(0,support_1.IsReflex)(re,ie,ne)&&([re,ne]=[ne,re]);let[se,oe,le]=this.frame.toPixs([re,ie,ne]),ce=(0,support_1.atan2)(-(se[1]-oe[1]),se[0]-oe[0]),ue=(0,support_1.atan2)(-(le[1]-oe[1]),le[0]-oe[0]);return ue<ce&&(ue=ue+360),(ce+ue)/2}getDirInPixelByLine($,_){let te=this.$LINE_LABEL,re=this.getDirInPixel($,_)+90,ie=this.getDirInPixel($,_)-90;if(te==="left")return re;if(te==="right")return ie;if(te==="auto"){let ne=this.$LABEL_CENTER;if(typeof ne=="number")return ie;let ae=this.pj($),se=this.pj(_),oe=(0,vector2D_1$1.vec2D)(ae,se),le=oe.rotate(90).add(ae).distanceWith(ne),ce=oe.rotate(-90).add(ae).distanceWith(ne);return le>ce?re:ie}return console.warn("$LINE_LABEL must be 'left' | 'right' | 'auto'"),ie}getLabelCenterDirInPixel($){let _=this.pj($),te=this.$LABEL_CENTER;return typeof te=="number"?te:te[0]===_[0]&&te[1]===_[1]?0:this.getDirInPixel(te,_)}getTextWidthInPixel($){if(this.$TEXT_LATEX){let _=Math.round(this.$TEXT_SIZE*REM_PIXEL$2*frame_1.PEN_QUALITY);$=`\\color{${this.ctx.fillStyle}} `+$;const ie=new CanvasLatex.default($,{displayMode:!0,debugBounds:!1,baseSize:_}).getBounds();return ie===null?0:ie.width/2/frame_1.PEN_QUALITY}else return this.ctx.measureText($).width/2/frame_1.PEN_QUALITY}getTextWithLengthUnit($){$=String($);let _=this.$LENGTH_UNIT;return _===void 0?$:this.$TEXT_LATEX?$+`~\\text{${_}}`:$+" "+_}drawLabel($,_,te,re){te!=null||(te=this.getLabelCenterDirInPixel(_));let ie=this.getTextWidthInPixel($),ne=(re+ie-5)*(0,support_1.cos)(te),ae=re*(0,support_1.sin)(te);this.drawText($,_,ne,ae)}makePolarAngle($,_,te){let[re,ie,ne]=this.pjs([$,_,te]),ae=this.$ANGLE_MODE;return ae==="normal"&&(0,support_1.IsReflex)(re,ie,ne)?[te,_,$]:ae==="reflex"&&!(0,support_1.IsReflex)(re,ie,ne)?[te,_,$]:[$,_,te]}getAngleInPixel($,_,te){let[re,ie,ne]=this.makePolarAngle($,_,te),ae=this.getDirInPixel(ie,re),se=this.getDirInPixel(ie,ne);return ae<=se?se-ae:360+se-ae}getSmallAngleExtraPixel($,_,te,re,ie){let ne=this.getAngleInPixel($,_,te);return Math.max(re-ne,0)*ie}getCircleCorners($,_){let[te,re]=$,ie=_;return[[te+ie,re+ie],[te+ie,re-ie],[te-ie,re+ie],[te-ie,re-ie]]}getSphereCorners($,_){let[te,re,ie]=$,ne=_;return[[te+ne,re+ne,ie+ne],[te+ne,re+ne,ie-ne],[te+ne,re-ne,ie+ne],[te+ne,re-ne,ie-ne],[te-ne,re+ne,ie+ne],[te-ne,re+ne,ie-ne],[te-ne,re-ne,ie+ne],[te-ne,re-ne,ie-ne]]}drawXAxis(){const[$,_]=this.frame.xRange();this.drawStroke([[$,0],[_,0]]),this.drawArrowHead([$,0],[_,0])}drawXAxisLabel($){$=String($);const[_,te]=this.frame.xRange();this.ctx.save(),this.setTextAlign("right"),this.setTextBaseline("middle"),this.drawText($,[te,0],0,DEFAULT_AXIS_LABEL_OFFSET_PIXEL),this.ctx.restore()}drawYAxis(){const[$,_]=this.frame.yRange();this.drawStroke([[0,$],[0,_]]),this.drawArrowHead([0,$],[0,_])}drawYAxisLabel($){$=String($);const[_,te]=this.frame.yRange();this.ctx.save(),this.setTextAlign("left"),this.setTextBaseline("top"),this.drawText($,[0,te],DEFAULT_AXIS_LABEL_OFFSET_PIXEL,0),this.ctx.restore()}drawXAxisTick($){for(let _ of this.frame.xTicks($))this.drawTickVertical([_,0],DEFAULT_AXIS_TICK_LENGTH_PIXEL)}drawYAxisTick($){for(let _ of this.frame.yTicks($))this.drawTickHorizontal([0,_],DEFAULT_AXIS_TICK_LENGTH_PIXEL)}drawXAxisTickMark($){this.ctx.save(),this.setTextItalic(),this.setTextAlign("center"),this.setTextBaseline("middle");for(let _ of this.frame.xTicks($))this.drawText(String(_),[_,0],0,-DEFAULT_XAXIS_MARK_OFFSET_PIXEL);this.ctx.restore()}drawYAxisTickMark($){this.ctx.save(),this.setTextItalic(),this.setTextAlign("right"),this.setTextBaseline("middle");for(let _ of this.frame.yTicks($))this.drawText(String(_),[0,_],-DEFAULT_YAXIS_MARK_OFFSET_PIXEL,0);this.ctx.restore()}drawXAxisGrid($){this.ctx.save(),this.ctx.strokeStyle="#d3d5db";let[_,te]=this.frame.yRange();const re=ie=>{this.drawStroke([[ie,_],[ie,te]])};re(0);for(let ie of this.frame.xTicks($))re(ie);this.ctx.restore()}drawYAxisGrid($){this.ctx.save(),this.ctx.strokeStyle="#d3d5db";let[_,te]=this.frame.xRange();const re=ie=>{this.drawStroke([[_,ie],[te,ie]])};re(0);for(let ie of this.frame.yTicks($))re(ie);this.ctx.restore()}setBackgroundImgUrl($){this.backgroundImgUrl=$}backgroundImageAttr(){return this.backgroundImgUrl.length===0?"":` style="background-image:url('${this.backgroundImgUrl}');background-size:100% 100%;" `}toDataUrl($=this.canvas){return $.toDataURL()}displayWidth($=this.canvas){return Math.floor($.width/frame_1.PEN_QUALITY)}displayHeight($=this.canvas){return Math.floor($.height/frame_1.PEN_QUALITY)}cloneCanvas($=this.canvas){let _=$,te=document.createElement("canvas"),re=te.getContext("2d");return te.width=_.width,te.height=_.height,re.drawImage(_,0,0),te}trimCanvas($=this.canvas){function _(ue,me,fe){for(var de=0;de<me;++de)if(ue.data[fe*me*4+de*4+3]!==0)return!1;return!0}function te(ue,me,fe,de,pe){for(var ge=de;ge<pe;++ge)if(ue.data[ge*me*4+fe*4+3]!==0)return!1;return!0}for(var re=$.getContext("2d"),ie=$.width,ne=re.getImageData(0,0,$.width,$.height),ae=0,se=ne.height,oe=0,le=ne.width;ae<se&&_(ne,ie,ae);)++ae;for(;se-1>ae&&_(ne,ie,se-1);)--se;for(;oe<le&&te(ne,ie,oe,ae,se);)++oe;for(;le-1>oe&&te(ne,ie,le-1,ae,se);)--le;var ce=re.getImageData(oe,ae,le-oe,se-ae);$.width=ce.width,$.height=ce.height,re.putImageData(ce,0,0)}clearCanvas(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}saveCanvasImg(){this.imgStore=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height)}restoreCanvasImg(){this.imgStore!==null&&this.ctx.putImageData(this.imgStore,0,0)}save(){this.ctx.save()}restore(){this.ctx.restore()}}pencil.Pencil=Pencil;var inequal={};Object.defineProperty(inequal,"__esModule",{value:!0}),inequal.ineq=void 0;function toCode(ee){if(ee==="\\ge")return[!0,!0];if(ee==="\\gt")return[!0,!1];if(ee==="\\le")return[!1,!0];if(ee==="\\lt")return[!1,!1];if(ee===">=")return[!0,!0];if(ee===">")return[!0,!1];if(ee==="<=")return[!1,!0];if(ee==="<")return[!1,!1];throw"cannot recognise ineq symbol!"}function toIneq(ee){let[$,_]=ee;if($&&_)return"\\ge";if($&&!_)return"\\gt";if(!$&&_)return"\\le";if(!$&&!_)return"\\lt";throw"cannot recognise code!"}class InequalSign{constructor($){this.code=[!0,!0],this.code=toCode($)}greaterThan(){return this.code[0]}lessThan(){return!this.code[0]}canEqual(){return this.code[1]}print(){return toIneq(this.code)}strict(){let[$,_]=this.code;return toIneq([$,!1])}loose(){let[$,_]=this.code;return toIneq([$,!0])}flip(){let[$,_]=this.code;return toIneq([!$,_])}compare($,_){let[te,re]=this.code;if(te&&re)return $>=_;if(te&&!re)return $>_;if(!te&&re)return $<=_;if(!te&&!re)return $<_;throw"never, cannot recognise code!"}}function ineq$2(ee){return new InequalSign(ee)}inequal.ineq=ineq$2;var optimizer$2={},reins$1={},rein$2={};Object.defineProperty(rein$2,"__esModule",{value:!0}),rein$2.rein=rein$2.Rein=void 0;const cal_1=cal$3,inequal_1=inequal;class Rein{constructor($){this.constraint=$}clone(){return new Rein(this.constraint)}contains($){let[_,te,re,ie]=this.constraint,[ne,ae]=$;return(0,inequal_1.ineq)(re).compare(_*ne+te*ae,ie)}canEqual(){let[$,_,te,re]=this.constraint;return(0,inequal_1.ineq)(te).canEqual()}strict(){let[$,_,te,re]=this.constraint,ie=(0,inequal_1.ineq)(te).strict();return new Rein([$,_,ie,re])}loose(){let[$,_,te,re]=this.constraint,ie=(0,inequal_1.ineq)(te).loose();return new Rein([$,_,ie,re])}flip(){let[$,_,te,re]=this.constraint,ie=(0,inequal_1.ineq)(te).flip();return new Rein([$,_,ie,re])}intersectWith($){let[_,te,re,ie]=this.constraint,[ne,ae,se,oe]=$.constraint;if(_/te!=ne/ae)return(0,cal_1.crammer)(_,te,ie,ne,ae,oe)}shake(){return Math.random()>.5?this.clone():this.flip()}toLinear(){let[$,_,te,re]=this.constraint;return[$,_,-re]}toStandard(){let[$,_,te,re]=this.constraint;return[$,_,re]}}rein$2.Rein=Rein;function rein$1(ee){return new Rein(ee)}rein$2.rein=rein$1,Object.defineProperty(reins$1,"__esModule",{value:!0}),reins$1.toReins=reins$1.reins=reins$1.Reins=void 0;const rein_1=rein$2,list_1$2=list$2,shape2D_1=shape2D$2,vector2D_1=vector2D$1;class Reins extends list_1$2.List{constructor(){super(...arguments);this.EDGE=100,this.EDGE_CONSTRAINTS=[new rein_1.Rein([1,0,"<=",this.EDGE]),new rein_1.Rein([1,0,">=",-this.EDGE]),new rein_1.Rein([0,1,"<=",this.EDGE]),new rein_1.Rein([0,1,">=",-this.EDGE])]}fullConstraints(){let $=this.clone();return $.push(...this.EDGE_CONSTRAINTS),$}constraints(){return this.map($=>$.constraint)}onEdge($){let[_,te]=$;return Math.abs(_)+1>=this.EDGE||Math.abs(te)+1>=this.EDGE}contains($){return this.every(_=>_.contains($))}looseContains($){return this.map(_=>_.loose()).every(_=>_.contains($))}polygon(){let $=this.fullConstraints(),_=(0,shape2D_1.shape2D)();for(let te=0;te<$.length;te++)for(let re=te+1;re<$.length;re++){let ie=$[te].intersectWith($[re]);if(ie===void 0)continue;let ne=$.clone();ne.pull(re),ne.pull(te),ne.looseContains(ie)&&_.push((0,vector2D_1.vec2D)(ie))}return _=_.uniqueDeep(),_.sortAroundMean(),_.toArray()}vertices(){return this.polygon().filter($=>!this.onEdge($))}isBounded(){return this.polygon().every($=>!this.onEdge($))}isConsistent(){return this.polygon().length>2}integrals(){let $=(0,list_1$2.toList)(this.polygon()),_=Math.ceil($.maxOf(([ae,se])=>se)),te=Math.ceil($.maxOf(([ae,se])=>ae)),re=Math.floor($.minOf(([ae,se])=>ae)),ie=Math.floor($.minOf(([ae,se])=>se)),ne=[];for(let ae=re;ae<=te;ae++)for(let se=ie;se<=_;se++){let oe=[ae,se];this.contains(oe)&&ne.push(oe)}return ne}shake(){let $=this.map(_=>_.shake());return this.create($)}}reins$1.Reins=Reins;function reins(...ee){let $=new Reins;return $.push(...ee.map(_=>new rein_1.Rein(_))),$}reins$1.reins=reins;function toReins$1(ee){return reins(...ee)}reins$1.toReins=toReins$1,Object.defineProperty(optimizer$2,"__esModule",{value:!0}),optimizer$2.optimizer=optimizer$2.Optimizer=void 0;const reins_1=reins$1,list_1$1=list$2;class Optimizer{constructor({field:$,feasiblePoints:_=[]}){this.field=[0,0,0],this.feasiblePoints=(0,list_1$1.list)(),this.field=$,this.feasiblePoints=(0,list_1$1.toList)(_)}onEdge($){return new reins_1.Reins().onEdge($)}fieldAt($){const[_,te,re]=this.field,[ie,ne]=$;return _*ie+te*ne+re}maxPoints(){return this.feasiblePoints.maxsBy($=>this.fieldAt($)).uniqueDeep().violate($=>this.onEdge($))}minPoints(){return this.feasiblePoints.minsBy($=>this.fieldAt($)).uniqueDeep().violate($=>this.onEdge($))}optimalPoints($){return $?this.maxPoints():this.minPoints()}max(){let $=this.maxPoints();return $.length===0?null:this.fieldAt($[0])}min(){let $=this.minPoints();return $.length===0?null:this.fieldAt($[0])}optimal($){return $?this.max():this.min()}}optimizer$2.Optimizer=Optimizer;function optimizer$1({field:ee,feasiblePoints:$=[]}){return new Optimizer({field:ee,feasiblePoints:$})}optimizer$2.optimizer=optimizer$1;var linear={};Object.defineProperty(linear,"__esModule",{value:!0}),linear.lin=linear.Linear=void 0;const numbers_1=numbers$2;function slope(ee,$){let[_,te]=ee,[re,ie]=$;return(ie-te)/(re-_)}function midpoint(ee,$){let[_,te]=ee,[re,ie]=$;return[(_+re)/2,(te+ie)/2]}class Linear{constructor(){this._linear=[NaN,NaN,NaN],this.defined=!1}byLinear($){return this._linear=$,this.defined=!0,this}byStandard($){let[_,te,re]=$;return this.byLinear([_,te,-re]),this}byTwoPoints($,_){let[te,re]=$,[ie,ne]=_,ae=te-ie,se=re-ne;if(ae===0&&se===0)return this;let[oe,le,ce]=[se,-ae,ae*re-se*te],ue=Math.sign(oe)||Math.sign(le)||1;return[oe,le,ce]=(0,numbers_1.numbers)(oe,le,ce).times(ue).ratio(),this.byLinear([oe,le,ce]),this}byPointSlope($,_){let te=[$[0]+1,$[1]+_];return this.byTwoPoints($,te),this}byIntercepts($,_){return $===0||_===0?this:(this.byTwoPoints([$,0],[0,_]),this)}byBisector($,_){let[te,re]=$,[ie,ne]=_;if(te===ie&&re===ne)return this;if(te===ie)this.byLinear([0,1,-(re+ne)/2]);else if(re===ne)this.byLinear([1,0,-(te+ie)/2]);else{let ae=-1/slope($,_),se=midpoint($,_);this.byPointSlope(se,ae)}return this}slope(){let[$,_,te]=this._linear;return _===0?NaN:-$/_}xInt(){let[$,_,te]=this._linear;return $===0?NaN:-te/$}yInt(){let[$,_,te]=this._linear;return _===0?NaN:-te/_}toLinear(){return this.defined?this._linear:[NaN,NaN,NaN]}toLine(){return this.defined?[this.slope(),this.yInt()]:[NaN,NaN]}toStandard(){if(!this.defined)return[NaN,NaN,NaN];let[$,_,te]=this._linear;return[$,_,-te]}toConstraint($){let[_,te,re]=this.toStandard();return[_,te,$,re]}}linear.Linear=Linear;function lin$1(){return new Linear}linear.lin=lin$1;var contract$2={},blood={};Object.defineProperty(blood,"__esModule",{value:!0}),blood.Blood=void 0;class Blood extends Error{constructor($,_){super(_);this.name=$+"Error"}}blood.Blood=Blood,Object.defineProperty(contract$2,"__esModule",{value:!0}),contract$2.contract=void 0;const blood_1$2=blood;class ContractErrorFactory{constructor($){this.name=$.name,this.signature=this.getSignature($)}getSignature($){const _=$.toString();return _.slice(_.indexOf("(")+1,_.indexOf(")"))}ArgBlood($,_,te){let re=String($),ie=JSON.stringify(_),ne=te.name||te.toString();return new blood_1$2.Blood("Contract","("+this.name+`)
arg(`+this.signature+")["+re+"] = "+ie+`
violate: `+ne)}ArgGrpBlood($,_){let te=$.map(ie=>JSON.stringify(ie)).join(","),re=_.name||_.toString();return new blood_1$2.Blood("Contract","("+this.name+`)
arg(`+this.signature+") = ("+te+`)
violate: `+re)}ReturnBlood($,_,te){let re=_,ie=$.map(ae=>JSON.stringify(ae)).join(","),ne=te.name||te.toString();return new blood_1$2.Blood("Contract","("+this.name+`)
from arg(`+this.signature+") = ("+ie+`)
=> return = `+re+`
violate: `+ne)}CatchBlood($,_){let te=$.map(re=>JSON.stringify(re)).join(",");if(typeof _=="string")return new blood_1$2.Blood("Contract","("+this.name+`)
from arg(`+this.signature+") = ("+te+`)
throw:
`+_);if(typeof _=="object"&&_!==null&&"name"in _&&"message"in _){let{name:re,message:ie}=_;return new blood_1$2.Blood("Contract","("+this.name+`)
from arg(`+this.signature+") = ("+te+`)
throw:
`+re+`
with message:
`+ie)}return new blood_1$2.Blood("Contract","("+this.name+`)
from arg(`+this.signature+") = ("+te+`)
throw:
`+JSON.stringify(_))}}class Contract{constructor($){this.host=$,this.Err=new ContractErrorFactory($)}validateArg($,_){let te=shieldArrays(_);function re(ne){const ae=te.length-1;return te[Math.min(ne,ae)]}return(...ne)=>{for(let ae=0;ae<ne.length;ae++){const se=ne[ae];for(let oe of re(ae))if(!oe(se))throw this.Err.ArgBlood(ae,se,oe)}return $(...ne)}}validateArgGrp($,_){let te=shieldArray(_);return(...ie)=>{for(let ne of te)if(!ne(...ie))throw this.Err.ArgGrpBlood(ie,ne);return $(...ie)}}validateReturn($,_){let te=shieldArray(_);return(...ie)=>{const ne=$(...ie);for(let ae of te)if(!ae(ne))throw this.Err.ReturnBlood(ie,ne,ae);return ne}}validateCatch($){return(...te)=>{try{return $(...te)}catch(re){throw this.Err.CatchBlood(te,re)}}}sign($,_){return this.seal({arg:$,ret:_})}seal({arg:$,args:_,ret:te}){let re=this.host;return re=this.validateCatch(re),te!==void 0&&(re=this.validateReturn(re,te)),_!==void 0&&(re=this.validateArgGrp(re,_)),$!==void 0&&$.length>0&&(re=this.validateArg(re,$)),re}}function shieldArray(ee){return Array.isArray(ee)?ee:[ee]}function shieldArrays(ee){return ee.map(shieldArray)}function contract$1(ee){return new Contract(ee)}contract$2.contract=contract$1;var poker$1={},__createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ee,$,_,te){te===void 0&&(te=_),Object.defineProperty(ee,te,{enumerable:!0,get:function(){return $[_]}})}:function(ee,$,_,te){te===void 0&&(te=_),ee[te]=$[_]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ee,$){Object.defineProperty(ee,"default",{enumerable:!0,value:$})}:function(ee,$){ee.default=$}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(ee){if(ee&&ee.__esModule)return ee;var $={};if(ee!=null)for(var _ in ee)_!=="default"&&Object.prototype.hasOwnProperty.call(ee,_)&&__createBinding($,ee,_);return __setModuleDefault($,ee),$};Object.defineProperty(poker$1,"__esModule",{value:!0}),poker$1.bool=poker$1.she=poker$1.he=poker$1.prime=poker$1.real=poker$1.integer=void 0;const blood_1$1=blood,cal$1=__importStar(cal$3),list_1=list$2;function integer(ee,$){if(ee=Math.ceil(ee),$=Math.floor($),ee>$)throw new blood_1$1.Blood("Poker","min must be less than max!");return Math.floor(Math.random()*($-ee+1)+ee)}poker$1.integer=integer;function real(ee,$){if(ee>$)throw new blood_1$1.Blood("Poker","min must be less than max!");return Math.random()*($-ee)+ee}poker$1.real=real;function prime(ee,$){if(ee>$)throw new blood_1$1.Blood("Poker","min must be less than max!");let _=(0,list_1.list)(...cal$1.primes($));return _.sieve(te=>te>=ee),_.draw()}poker$1.prime=prime;function he(){return(0,list_1.list)("Aaron","Adam","Alan","Alexander","Andrew","Ben","Brian","Cameron","Charlie","Colin","Daniel","David","Derek","Donald","Edward","Eric","Ethan","Frank","Gary","George","Gordon","Harris","Harry","Jack","Jacob","James","Jamie","Jason","John","Jordan","Joseph","Kevin","Kyle","Leo","Lewis","Lucas","Martin","Mason","Matthew","Michael","Nathan","Nicholas","Noah","Oliver","Patrick","Paul","Peter","Philip","Riley","Robert","Rory","Ryan","Samuel","Scott","Stephen","Steven","Thomas","Timothy","William").draw()}poker$1.he=he;function she(){return(0,list_1.list)("Abbie","Alice","Alison","Amanda","Amelia","Amy","Angela","Ann","Anna","Ashley","Cara","Carol","Caroline","Charlotte","Cheryl","Chloe","Christine","Claire","Donna","Elaine","Ella","Ellie","Emily","Emma","Eva","Fiona","Gillian","Grace","Hazel","Helen","Holly","Ivy","Jacqueline","Jade","Janet","Jennifer","Jessica","Julie","Karen","Kate","Katie","Kelly","Kirsty","Lily","Linda","Lisa","Lorraine","Louise","Lucy","Mandy","Mary","Michelle","Natalie","Nicole","Olivia","Pamela","Pauline","Rachel","Rebecca","Rosie","Samantha","Sarah","Shannon","Sharon","Sophia","Sophie","Stephanie","Susan","Tracey","Tracy","Valerie","Victoria","Wendy","Zoe").draw()}poker$1.she=she;function bool$1(ee=.5){return real(0,1)<ee}poker$1.bool=bool$1;var dice$2={};Object.defineProperty(dice$2,"__esModule",{value:!0}),dice$2.dice=dice$2.Dice=void 0;const blood_1=blood;class Dice{constructor($){this.TRIAL=1e4,this.shields=[],this.uniques=[],this.distincts=[],this.coherents=[],this.func=$}shield($){return this.shields.push($),this}forbid(...$){for(let _ of $)this.shield(te=>JSON.stringify(te)!==JSON.stringify(_));return this}unique($=_=>_){let _=te=>JSON.stringify($(te));return this.uniques.push(_),this}distinct($){return this.distincts.push($),this}coherent($){return this.coherents.push($),this}roll(){let $=0;for(;;){if($++,$>this.TRIAL)throw new blood_1.Blood("Dice","No items can satisfy predicate after "+this.TRIAL+" trials!");let _=this.func();if(this.shields.every(te=>te(_)))return _}}rolls($){let _=0;const te=()=>{let ie=[],ne=[];for(let le=0;le<this.uniques.length;le++)ne.push([]);const ae=le=>{ne.forEach((ce,ue)=>ce.push(le[ue]))},se=le=>ne.some((ce,ue)=>ce.includes(le[ue])),oe=le=>this.distincts.some(ce=>ie.some(ue=>ce(ue,le)));for(;ie.length<$;){if(_++,_>this.TRIAL)throw new blood_1.Blood("Dice","rolls count is likely too large for sample set");let le=this.roll(),ce=this.uniques.map(ue=>ue(le));se(ce)||oe(le)||(ie.push(le),ae(ce))}return ie},re=ie=>this.coherents.every(ne=>ne(ie));for(;;){let ie=te();if(re(ie))return ie}}}dice$2.Dice=Dice;function dice$1(ee){return new Dice(ee)}dice$2.dice=dice$1,function(ee){var $=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ve,$e,_e,Me){Me===void 0&&(Me=_e),Object.defineProperty(ve,Me,{enumerable:!0,get:function(){return $e[_e]}})}:function(ve,$e,_e,Me){Me===void 0&&(Me=_e),ve[Me]=$e[_e]}),_=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ve,$e){Object.defineProperty(ve,"default",{enumerable:!0,value:$e})}:function(ve,$e){ve.default=$e}),te=commonjsGlobal&&commonjsGlobal.__importStar||function(ve){if(ve&&ve.__esModule)return ve;var $e={};if(ve!=null)for(var _e in ve)_e!=="default"&&Object.prototype.hasOwnProperty.call(ve,_e)&&$($e,ve,_e);return _($e,ve),$e};Object.defineProperty(ee,"__esModule",{value:!0}),ee.dice=ee.poker=ee.contract=ee.lin=ee.cal=ee.rein=ee.Rein=ee.reins=ee.toReins=ee.Reins=ee.optimizer=ee.Optimizer=ee.ineq=ee.Pencil=ee.vec3D=ee.vector3D=ee.Vector3D=ee.vec2D=ee.vector2D=ee.Vector2D=ee.toVector=ee.vector=ee.Vector=ee.toSheet=ee.sheet=ee.Sheet=ee.toShape3D=ee.shape3D=ee.Shape3D=ee.toShape2D=ee.shape2D=ee.Shape2D=ee.toShape=ee.shape=ee.Shape=ee.toNumbers=ee.numbers=ee.Numbers=ee.toList=ee.list=ee.List=ee.toData=ee.data=ee.Data=void 0;var re=data$1;Object.defineProperty(ee,"Data",{enumerable:!0,get:function(){return re.Data}}),Object.defineProperty(ee,"data",{enumerable:!0,get:function(){return re.data}}),Object.defineProperty(ee,"toData",{enumerable:!0,get:function(){return re.toData}});var ie=list$2;Object.defineProperty(ee,"List",{enumerable:!0,get:function(){return ie.List}}),Object.defineProperty(ee,"list",{enumerable:!0,get:function(){return ie.list}}),Object.defineProperty(ee,"toList",{enumerable:!0,get:function(){return ie.toList}});var ne=numbers$2;Object.defineProperty(ee,"Numbers",{enumerable:!0,get:function(){return ne.Numbers}}),Object.defineProperty(ee,"numbers",{enumerable:!0,get:function(){return ne.numbers}}),Object.defineProperty(ee,"toNumbers",{enumerable:!0,get:function(){return ne.toNumbers}});var ae=shape$1;Object.defineProperty(ee,"Shape",{enumerable:!0,get:function(){return ae.Shape}}),Object.defineProperty(ee,"shape",{enumerable:!0,get:function(){return ae.shape}}),Object.defineProperty(ee,"toShape",{enumerable:!0,get:function(){return ae.toShape}});var se=shape2D$2;Object.defineProperty(ee,"Shape2D",{enumerable:!0,get:function(){return se.Shape2D}}),Object.defineProperty(ee,"shape2D",{enumerable:!0,get:function(){return se.shape2D}}),Object.defineProperty(ee,"toShape2D",{enumerable:!0,get:function(){return se.toShape2D}});var oe=shape3D$1;Object.defineProperty(ee,"Shape3D",{enumerable:!0,get:function(){return oe.Shape3D}}),Object.defineProperty(ee,"shape3D",{enumerable:!0,get:function(){return oe.shape3D}}),Object.defineProperty(ee,"toShape3D",{enumerable:!0,get:function(){return oe.toShape3D}});var le=sheet$1;Object.defineProperty(ee,"Sheet",{enumerable:!0,get:function(){return le.Sheet}}),Object.defineProperty(ee,"sheet",{enumerable:!0,get:function(){return le.sheet}}),Object.defineProperty(ee,"toSheet",{enumerable:!0,get:function(){return le.toSheet}});var ce=vector$2;Object.defineProperty(ee,"Vector",{enumerable:!0,get:function(){return ce.Vector}}),Object.defineProperty(ee,"vector",{enumerable:!0,get:function(){return ce.vector}}),Object.defineProperty(ee,"toVector",{enumerable:!0,get:function(){return ce.toVector}});var ue=vector2D$1;Object.defineProperty(ee,"Vector2D",{enumerable:!0,get:function(){return ue.Vector2D}}),Object.defineProperty(ee,"vector2D",{enumerable:!0,get:function(){return ue.vector2D}}),Object.defineProperty(ee,"vec2D",{enumerable:!0,get:function(){return ue.vec2D}});var me=vector3D$2;Object.defineProperty(ee,"Vector3D",{enumerable:!0,get:function(){return me.Vector3D}}),Object.defineProperty(ee,"vector3D",{enumerable:!0,get:function(){return me.vector3D}}),Object.defineProperty(ee,"vec3D",{enumerable:!0,get:function(){return me.vec3D}});var fe=pencil;Object.defineProperty(ee,"Pencil",{enumerable:!0,get:function(){return fe.Pencil}});var de=inequal;Object.defineProperty(ee,"ineq",{enumerable:!0,get:function(){return de.ineq}});var pe=optimizer$2;Object.defineProperty(ee,"Optimizer",{enumerable:!0,get:function(){return pe.Optimizer}}),Object.defineProperty(ee,"optimizer",{enumerable:!0,get:function(){return pe.optimizer}});var ge=reins$1;Object.defineProperty(ee,"Reins",{enumerable:!0,get:function(){return ge.Reins}}),Object.defineProperty(ee,"toReins",{enumerable:!0,get:function(){return ge.toReins}}),Object.defineProperty(ee,"reins",{enumerable:!0,get:function(){return ge.reins}});var ye=rein$2;Object.defineProperty(ee,"Rein",{enumerable:!0,get:function(){return ye.Rein}}),Object.defineProperty(ee,"rein",{enumerable:!0,get:function(){return ye.rein}}),ee.cal=te(cal$3);var be=linear;Object.defineProperty(ee,"lin",{enumerable:!0,get:function(){return be.lin}});var xe=contract$2;Object.defineProperty(ee,"contract",{enumerable:!0,get:function(){return xe.contract}}),ee.poker=te(poker$1);var Se=dice$2;Object.defineProperty(ee,"dice",{enumerable:!0,get:function(){return Se.dice}})}(lib);const num=ee=>Number.isFinite(ee),whole=ee=>Number.isInteger(ee),int=ee=>num(ee)&&Number.isInteger(cal.blur(ee)),dec=ee=>num(ee)&&!int(ee),terminating=ee=>num(ee)&&cal.sigfig(ee)<10,rational=ee=>num(ee)&&cal.isRational(ee),irrational=ee=>num(ee)&&!cal.isRational(ee),odd=ee=>int(ee)&&Math.abs(cal.blur(ee))%2==1,even=ee=>int(ee)&&Math.abs(cal.blur(ee))%2==0,prob=ee=>num(ee)&&ee>=0&&ee<=1,sq$1=ee=>int(ee)&&int(Math.sqrt(ee)),positive=ee=>num(ee)&&ee>0,positiveInt=ee=>int(ee)&&ee>0,nonNegative=ee=>num(ee)&&ee>=0,nonNegativeInt=ee=>int(ee)&&ee>=0,negative=ee=>num(ee)&&ee<0,negativeInt=ee=>int(ee)&&ee<0,nonPositive=ee=>num(ee)&&ee<=0,nonPositiveInt=ee=>int(ee)&&ee<=0,zero=ee=>num(ee)&&Math.abs(ee)<1e-14,nonZero=ee=>num(ee)&&!zero(ee),nonZeroInt=ee=>int(ee)&&!zero(ee),between=(ee,$)=>build(`between(${ee},${$})`,_=>num(_)&&_>=ee&&_<=$),absBetween=(ee,$)=>build(`absBetween(${ee},${$})`,_=>num(_)&&Math.abs(_)>=ee&&Math.abs(_)<=$),str$1=ee=>typeof ee=="string",bool=ee=>typeof ee=="boolean",object=ee=>typeof ee=="object"&&ee!==null,emptyObject=ee=>object(ee)&&!!ee&&ee.constructor===Object&&Object.keys(ee).length===0,array=ee=>Array.isArray(ee),arrayOfLength=ee=>build(`arrayOfLength(${ee})`,$=>array($)&&$.length===ee),arrayWith=ee=>build(`arrayWith(${ee.name})`,$=>array($)&&$.every(ee)),couple=ee=>arrayOfLength(2)(ee)&&arrayWith(num)(ee),triple=ee=>arrayOfLength(3)(ee)&&arrayWith(num)(ee),combo=ee=>arrayOfLength(3)(ee)&&arrayWith(bool)(ee),ntuple=ee=>arrayWith(num)(ee),interval=ee=>couple(ee)&&ee[0]<=ee[1],point2D=ee=>couple(ee),point2Ds=ee=>arrayWith(point2D)(ee),point3D=ee=>triple(ee),point3Ds=ee=>arrayWith(point3D)(ee),polar=ee=>couple(ee)&&ee[0]>=0,fraction=ee=>couple(ee),properFraction=ee=>fraction(ee)&&ee[1]!==0,vector=ee=>couple(ee),vector3D=ee=>triple(ee),triangleSides=ee=>{if(!triple(ee))return!1;let[$,_,te]=ee;return ee.every(positive)&&$+_>te&&_+te>$&&te+$>_},monomial=ee=>object(ee)&&"coeff"in ee&&"vars"in ee,polynomial=ee=>arrayWith(monomial)(ee),trigValue=ee=>arrayOfLength(2)(ee)&&trig(ee[0])&&(num(ee[1])||str$1(ee[1])),trigExp=ee=>arrayOfLength(4)(ee)&&trig(ee[0])&&num(ee[1])&&num(ee[2])&&str$1(ee[3]),labeledValue1=ee=>arrayOfLength(2)(ee)&&num(ee[0])&&str$1(ee[1]),labeledValue2=ee=>arrayOfLength(3)(ee)&&num(ee[0])&&str$1(ee[1])&&str$1(ee[2]),labeledValue=ee=>labeledValue1(ee)||labeledValue2(ee),quantity=ee=>object(ee)&&"val"in ee&&"unit"in ee,pass=ee=>!0,fail=ee=>!1,distinct=ee=>toList(ee).duplessDeep(),alphabet=ee=>str$1(ee)&&ee.length===1&&ee.toLowerCase()!==ee.toUpperCase(),ineq$1=ee=>str$1(ee)&&[">","<",">=","<=","\\gt","\\lt","\\ge","\\le"].includes(ee),dfrac=ee=>{const $=String.raw`-?\\dfrac{(-?\d+\.?\d*)}{(-?\d+\.?\d*)}`;return str$1(ee)&&!!ee.match(new RegExp($,"g"))},constraint=ee=>arrayOfLength(4)(ee)&&num(ee[0])&&num(ee[1])&&ineq$1(ee[2])&&num(ee[3]),constraints=ee=>arrayWith(constraint)(ee),field=ee=>triple(ee),quadrantCode=ee=>int(ee)&&[1,2,3,4].includes(ee),quadrantName=ee=>str$1(ee)&&["I","II","III","IV"].includes(ee),quadrant=ee=>quadrantCode(ee)||quadrantName(ee),trig=ee=>str$1(ee)&&["sin","cos","tan"].includes(ee),roman=ee=>str$1(ee)&&["I","II","III","IV","V","VI","VII","VIII","IX","X"].includes(ee),base=ee=>str$1(ee)&&ee.match(/[0-9A-Z]+\_\{[0-9]+\}/g)!==null;function build(ee,$){return{[ee](te){return $(te)}}[ee]}function and(ee,$){return $!=null||($="("+ee.map(_=>_.name).join(" && ")+")"),build($,_=>ee.every(te=>te(_)))}function or$1(ee,$){return $!=null||($="("+ee.map(_=>_.name).join(" || ")+")"),build($,_=>ee.some(te=>te(_)))}function every(ee,$){return $!=null||($="(every."+ee.name+")"),build($,_=>array(_)&&_.every(ee))}var $Owl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",num,whole,int,dec,terminating,rational,irrational,odd,even,prob,sq:sq$1,positive,positiveInt,nonNegative,nonNegativeInt,negative,negativeInt,nonPositive,nonPositiveInt,zero,nonZero,nonZeroInt,between,absBetween,str:str$1,bool,object,emptyObject,array,arrayOfLength,arrayWith,couple,triple,combo,ntuple,interval,point2D,point2Ds,point3D,point3Ds,polar,fraction,properFraction,vector,vector3D,triangleSides,monomial,polynomial,trigValue,trigExp,labeledValue1,labeledValue2,labeledValue,quantity,pass,fail,distinct,alphabet,ineq:ineq$1,dfrac,constraint,constraints,field,quadrantCode,quadrantName,quadrant,trig,roman,base,and,or:or$1,every});function printDfrac(ee,$,_=!1){let te=ee,re=$;return te===0?"0":([te,re]=cal.toFraction(te/re),re===1?te.toString():_||te>0?"\\dfrac{"+te+"}{"+re+"}":"-\\dfrac{"+Math.abs(te)+"}{"+re+"}")}function printCombo(ee){let[$,_,te]=ee;if($&&_&&te)return"I, II and III";if($&&_&&!te)return"I and II only";if($&&!_&&te)return"I and III only";if($&&!_&&!te)return"I only";if(!$&&_&&te)return"II and III only";if(!$&&_&&!te)return"II only";if(!$&&!_&&te)return"III only";if(!$&&!_&&!te)return"None of the above";throw"never"}function printTrigValue(ee){return typeof ee[1]=="number"?"\\"+ee[0]+" "+ee[1]+"\xB0":"\\"+ee[0]+" "+ee[1]}function printTrigExp(ee){return"\\"+ee[0]+"("+ee[1]+"\xB0"+(ee[2]>0?"+":"-")+ee[3]+")"}function printOrTrigRoots(ee){ee=ee.filter(owl.num),ee=ee.map(te=>Round(te,5));let $=ee.map(te=>te+"\xB0");if($.length===0)return"no solution";if($.length===1)return $[0];let _=$.pop();return $.join(",")+"~\\text{or}~"+_}function printSurd(ee){let[$,_]=cal.toSurd(ee),te;return $===1?te=_===1?"1":"\\sqrt{"+_+"}":$===-1?te=_===1?"-1":"-\\sqrt{"+_+"}":te=_===1?$.toString():$+"\\sqrt{"+_+"}",te}function printPointPolar(ee){let[$,_]=RectToPol(ee);return _=cal.blur(_),`(${printSurd($)},${_}\xB0)`}function printConstraint(ee,$=!1,_=!1){let[te,re,ie,ne]=ee;ie===">="&&(ie="\\ge"),ie===">"&&(ie="\\gt"),ie==="<="&&(ie="\\le"),ie==="<"&&(ie="\\lt");let ae=ie;return _&&(ae="="),$&&(ae=" & "+ae),te===0&&re===0?` 0 ${ae} ${ne} `:te!==0&&re===0?` ${te}x ${ae} ${ne} `:te===0&&re!==0?` ${re}y ${ae} ${ne} `:` ${te}x + ${re}y ${ae} ${ne} `}function printConstraints(ee){let $="";$+=" \\left\\{ \\begin{aligned} ";for(let _ of ee)$+=printConstraint(_,!0)+" \\\\ ";return $+=" \\end{aligned} \\right. ",$}function printLabeledValue(ee,$=1,_=!1){let te=ee[0],ie=ee[$]+" = "+te;return _&&(ie+="\xB0"),ie}var $Ink=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",printDfrac,printCombo,printTrigValue,printTrigExp,printOrTrigRoots,printSurd,printPointPolar,printConstraint,printConstraints,printLabeledValue});globalThis.poker=lib.poker,globalThis.dice=lib.dice,globalThis.contract=lib.contract,globalThis.cal=lib.cal,globalThis.data=lib.data,globalThis.list=lib.list,globalThis.numbers=lib.numbers,globalThis.shape=lib.shape,globalThis.shape2D=lib.shape2D,globalThis.shape3D=lib.shape3D,globalThis.vector=lib.vector,globalThis.vector2D=lib.vector2D,globalThis.vector3D=lib.vector3D,globalThis.toData=lib.toData,globalThis.toList=lib.toList,globalThis.toNumbers=lib.toNumbers,globalThis.toShape=lib.toShape,globalThis.toShape2D=lib.toShape2D,globalThis.toShape3D=lib.toShape3D,globalThis.toVector=lib.toVector,globalThis.vec2D=lib.vec2D,globalThis.vec3D=lib.vec3D,globalThis.ineq=lib.ineq,globalThis.optimizer=lib.optimizer,globalThis.rein=lib.rein,globalThis.toReins=lib.toReins,globalThis.lin=lib.lin,globalThis.owl=$Owl,globalThis.ink=$Ink;function error(ee){const $=new Error(ee);return $.name="ContractError",$}function signature(ee){const $=ee.toString();return $.slice($.indexOf("(")+1,$.indexOf(")"))}function str(ee){return JSON.stringify(ee)}function join(ee){return ee.map(str).join(",")}function err(ee,...$){const te=[`${ee.wax_name}(${ee.wax_signature})`,...$];return error(te.join(`
`))}function brand(ee){var $;"wax_name"in ee||(ee.wax_name=($=ee.name)!=null?$:ee.toString()),"wax_signature"in ee||(ee.wax_signature=signature(ee))}function transferBrand(ee,$){$.wax_name=ee.wax_name,$.wax_signature=ee.wax_signature}function makeStaticDecorator(ee){return function($,_,te){return te.value=ee(te.value),te}}function getClassStaticNames(ee){return Object.getOwnPropertyNames(ee).filter($=>$!=="length"&&$!=="prototype"&&$!=="name")}function catchString(ee,$,_){return err(ee,"args = ("+join($)+")","throw: "+_)}function catchErrObj(ee,$,_){return err(ee,"args = ("+join($)+")","throw: "+_.name,"message: "+_.message)}function catchAny(ee,$,_){return err(ee,"args = ("+join($)+")","throw: "+str(_))}function isError(ee){return typeof ee=="object"&&ee!==null&&"name"in ee&&"message"in ee}function isContractError(ee){return isError(ee)&&ee.name==="ContractError"}function catchErr(ee,$,_){return isContractError(_)?_:typeof _=="string"?catchString(ee,$,_):isError(_)?catchErrObj(ee,$,_):catchAny(ee,$,_)}function capture(ee){brand(ee);const $=(..._)=>{try{return ee(..._)}catch(te){throw catchErr(ee,_,te)}};return transferBrand(ee,$),$}function captureAll(){return function(ee){for(let $ of getClassStaticNames(ee)){let _=Object.getOwnPropertyDescriptor(ee,$);_!==void 0&&(_.value=capture(_.value),Object.defineProperty(ee,$,_))}}}function nameOf$1(ee){var $;return($=ee.name)!=null?$:ee.toString()}function matchOne$1(ee,$){return $(ee)?!0:nameOf$1($)}function matchAnd$1(ee,$){for(let _ of $)if(!_(ee))return nameOf$1(_);return!0}function matchObj(ee,$){for(let _ in $){if(!(_ in ee))return"should have property: "+_;const re=$[_];if(!re(ee[_]))return _+" -> "+nameOf$1(re)}return!0}function isOne$1(ee){return typeof ee=="function"}function isAnd$1(ee){return Array.isArray(ee)}function isObj(ee){return typeof ee=="object"&&!Array.isArray(ee)&&ee!==null}function matchRule(ee,$){return isOne$1($)?matchOne$1(ee,$):isAnd$1($)?matchAnd$1(ee,$):isObj($)?matchObj(ee,$):"fail to recognize the rule"}function nameOf(ee){var $;return($=ee.name)!=null?$:ee.toString()}function matchOne(ee,$){return $(...ee)?!0:nameOf($)}function matchAnd(ee,$){for(let _ of $)if(!_(...ee))return nameOf(_);return!0}function isOne(ee){return typeof ee=="function"}function isAnd(ee){return Array.isArray(ee)}function matchTreaty(ee,$){return isOne($)?matchOne(ee,$):isAnd($)?matchAnd(ee,$):"fail to recognize the rule"}function getToTail(ee,$){const _=ee.length-1,te=Math.min($,_);return ee[te]}function e$2(ee,$,_,te){return err(ee,"arg["+$+"] = "+str(_),"violate: "+te)}function match$1(ee,$,_,te){const re=matchRule(_,te);if(re!==!0)throw e$2(ee,$,_,re)}function check(ee,$){brand(ee);const _=(...te)=>(te.forEach((re,ie)=>match$1(ee,ie,re,getToTail($,ie))),ee(...te));return transferBrand(ee,_),_}function checkIt(...ee){return makeStaticDecorator($=>check($,ee))}function e$1(ee,$,_){return err(ee,"args = ("+join($)+")","violate: "+_)}function match(ee,$,_){const te=matchTreaty($,_);if(te!==!0)throw e$1(ee,$,te)}function inspect(ee,$){brand(ee);const _=(...te)=>(match(ee,te,$),ee(...te));return transferBrand(ee,_),_}function inspectIt(ee){return makeStaticDecorator($=>inspect($,ee))}function expose(ee,$){globalThis[String(ee)]=$}function exposeAll(){return function(ee){for(let $ of getClassStaticNames(ee)){let _=Object.getOwnPropertyDescriptor(ee,$);_!==void 0&&expose($,_.value)}}}var __defProp$l=Object.defineProperty,__getOwnPropDesc$l=Object.getOwnPropertyDescriptor,__decorateClass$l=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$l($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$l($,_,re),re};let Host$l=class{static IsNum(...ee){return ee.every(owl.num)}static IsInteger(...ee){return ee.every(owl.int)}static IsDecimal(...ee){return ee.every(owl.dec)}static IsTerminating(...ee){return ee.every(owl.terminating)}static IsRational(...ee){return ee.every(owl.rational)}static IsOdd(...ee){return ee.every(owl.odd)}static IsEven(...ee){return ee.every(owl.even)}static IsProbability(...ee){return ee.every(owl.prob)}static IsSquareNum(...ee){return ee.every(owl.sq)}static IsPositive(...ee){return ee.every(owl.positive)}static IsNonNegative(...ee){return ee.every(owl.nonNegative)}static IsPositiveInteger(...ee){return ee.every(owl.positiveInt)}static IsNonNegativeInteger(...ee){return ee.every(owl.nonNegativeInt)}static IsNegative(...ee){return ee.every(owl.negative)}static IsNonZero(...ee){return ee.every(owl.nonZero)}static IsBetween(ee,$){return(..._)=>_.every(owl.between(ee,$))}static IsAbsBetween(ee,$){return(..._)=>_.every(owl.absBetween(ee,$))}static IsAroundPoint(ee,$){return(..._)=>_.every(te=>ChessboardDistance(ee,te)<=$)}static IsTriangle(...ee){return ee.every(owl.triangleSides)}};__decorateClass$l([checkIt(owl.num),inspectIt(function($,_){return $<_})],Host$l,"IsBetween",1),__decorateClass$l([checkIt(owl.nonNegative),inspectIt(function($,_){return $<_})],Host$l,"IsAbsBetween",1),__decorateClass$l([checkIt(owl.point2D,owl.positive)],Host$l,"IsAroundPoint",1),__decorateClass$l([checkIt(owl.triple)],Host$l,"IsTriangle",1),Host$l=__decorateClass$l([exposeAll(),captureAll()],Host$l);var __defProp$k=Object.defineProperty,__getOwnPropDesc$k=Object.getOwnPropertyDescriptor,__decorateClass$k=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$k($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$k($,_,re),re};let Host$k=class{static Factorial(ee){return cal.factorial(ee)}static nCr(ee,$){return cal.nCr(ee,$)}static nPr(ee,$){return cal.nPr(ee,$)}};__decorateClass$k([checkIt(owl.nonNegativeInt)],Host$k,"Factorial",1),__decorateClass$k([checkIt(owl.nonNegativeInt),inspectIt(function($,_){return $>=_})],Host$k,"nCr",1),__decorateClass$k([checkIt(owl.nonNegativeInt),inspectIt(function($,_){return $>=_})],Host$k,"nPr",1),Host$k=__decorateClass$k([exposeAll(),captureAll()],Host$k);var __defProp$j=Object.defineProperty,__getOwnPropDesc$j=Object.getOwnPropertyDescriptor,__decorateClass$j=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$j($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$j($,_,re),re};let Host$j=class{static log(ee,$){const _=Math.log($)/Math.log(ee);return cal.blur(_)}static Power(ee,$){const _=Math.pow(ee,$);return cal.blur(_)}static Sqrt(ee){const $=Math.sqrt(ee);return cal.blur($)}static Radian(ee){const $=ee/180*Math.PI;return cal.blur($)}static Degree(ee){const $=ee*180/Math.PI;return cal.blur($)}static sin(ee){if(ee%180==0)return 0;let $=Math.sin(ee/180*Math.PI);return cal.blur($)}static cos(ee){if((ee-90)%180==0)return 0;let $=Math.cos(ee/180*Math.PI);return cal.blur($)}static tan(ee){if(ee%180==0)return 0;let $=Math.tan(ee/180*Math.PI);return cal.blur($)}static arcsin(ee){let $=Math.asin(ee)*180/Math.PI;return cal.blur($)}static arccos(ee){let $=Math.acos(ee)*180/Math.PI;return cal.blur($)}static arctan(ee){let $=Math.atan(ee)*180/Math.PI;return cal.blur($)}};__decorateClass$j([checkIt(owl.positive)],Host$j,"log",1),__decorateClass$j([checkIt(owl.num)],Host$j,"Power",1),__decorateClass$j([checkIt(owl.nonNegative)],Host$j,"Sqrt",1),__decorateClass$j([checkIt(owl.num)],Host$j,"Radian",1),__decorateClass$j([checkIt(owl.num)],Host$j,"Degree",1),__decorateClass$j([checkIt(owl.num)],Host$j,"sin",1),__decorateClass$j([checkIt(owl.num)],Host$j,"cos",1),__decorateClass$j([checkIt(owl.num)],Host$j,"tan",1),__decorateClass$j([checkIt(owl.between(-1,1))],Host$j,"arcsin",1),__decorateClass$j([checkIt(owl.between(-1,1))],Host$j,"arccos",1),__decorateClass$j([checkIt(owl.num)],Host$j,"arctan",1),Host$j=__decorateClass$j([exposeAll(),captureAll()],Host$j);var __defProp$i=Object.defineProperty,__getOwnPropDesc$i=Object.getOwnPropertyDescriptor,__decorateClass$i=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$i($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$i($,_,re),re};let Host$i=class{static Slope(ee,$){return(ee[1]-$[1])/(ee[0]-$[0])}static SlopePd(ee,$){return-1/Slope(ee,$)}static Distance(ee,$){return((ee[0]-$[0])**2+(ee[1]-$[1])**2)**.5}static ChessboardDistance(ee,$){let _=Abs(ee[0]-$[0]),te=Abs(ee[1]-$[1]);return Max(_,te)}static Mid(...ee){return toShape2D(ee).mean().toArray()}static Slide(ee,$,_){let te=_,re=1-te;return[ee[0]*re+$[0]*te,ee[1]*re+$[1]*te]}static Rotate(ee,$,_=[0,0]){return vec2D(_,ee).rotate($).add(_).blur().toArray()}static Dir(ee,$){return vec2D(ee,$).argument()}static PdFoot(ee,$,_){return vec2D(ee,_).projectOn(vec2D(ee,$)).add(ee).toArray()}static Intersection(ee,$,_,te){return Crammer($[1]-ee[1],ee[0]-$[0],ee[0]*$[1]-$[0]*ee[1],te[1]-_[1],_[0]-te[0],_[0]*te[1]-te[0]*_[1])}static Move(ee,$,_){let te=0;typeof $=="number"?te=$:owl.point2D($)?te=Dir(ee,$):te=Dir($[0],$[1]);let re=ee[0]+_*cos(te),ie=ee[1]+_*sin(te);return[re,ie]}static MoveX(ee,$){let[_,te]=ee;return[_+$,te]}static MoveY(ee,$){let[_,te]=ee;return[_,te+$]}static Shift(ee,[$,_],te=1){let[re,ie]=ee,[ne,ae]=$,[se,oe]=_;return[re+(se-ne)*te,ie+(oe-ae)*te]}static ReflectX(ee){return[ee[0],-ee[1]]}static ReflectY(ee){return[-ee[0],ee[1]]}static IntersectAngle(ee,$){let _=arctan(ee),te=arctan($),re=Abs(_-te);return re>90&&(re=180-re),re}static Angle(ee,$,_){let te=AnglePolar(ee,$,_),re=IsReflex(ee,$,_)?360-te:te;return cal.blur(re)}static AnglePolar(ee,$,_){let te=vec2D($,ee).argument(),re=vec2D($,_).argument();return te<=re?re-te:360+re-te}static IsReflex(ee,$,_){return AnglePolar(ee,$,_)>180}static RegularPolygon(ee,$,_,te){let re=360/ee,ie=[];for(let ne=0;ne<ee;ne++){let ae=PolToRect([_,te+ne*re]);ae[0]+=$[0],ae[1]+=$[1],ae[0]=cal.blur(ae[0]),ae[1]=cal.blur(ae[1]),ie.push(ae)}return ie}static ArcLength(ee,$){return 2*Math.PI*ee*$/360}static SectorArea(ee,$){return Math.PI*ee*ee*$/360}static IsConvexPolygon(...ee){return Should(ee.length>=3,"must have at least 3 points to be a polygon"),toShape2D(ee).isConvex()}static ArrangePoints(...ee){let $=toShape2D(ee);return $.sortAroundMean(),$.toArray()}static OnCircle(ee){return PolToRect([1,ee])}};__decorateClass$i([checkIt(owl.point2D),inspectIt(function($,_){return!cal.eq($[0],_[0])})],Host$i,"Slope",1),__decorateClass$i([checkIt(owl.point2D),inspectIt(function($,_){return!cal.eq($[1],_[1])})],Host$i,"SlopePd",1),__decorateClass$i([checkIt(owl.point2D)],Host$i,"Distance",1),__decorateClass$i([checkIt(owl.point2D)],Host$i,"ChessboardDistance",1),__decorateClass$i([checkIt(owl.point2D)],Host$i,"Mid",1),__decorateClass$i([checkIt(owl.point2D,owl.point2D,owl.num)],Host$i,"Slide",1),__decorateClass$i([checkIt(owl.point2D,owl.num,owl.point2D)],Host$i,"Rotate",1),__decorateClass$i([checkIt(owl.point2D),inspectIt(function($,_){return owl.distinct([$,_])})],Host$i,"Dir",1),__decorateClass$i([checkIt(owl.point2D),inspectIt(function($,_,te){return owl.distinct([$,_])})],Host$i,"PdFoot",1),__decorateClass$i([checkIt(owl.point2D),inspectIt(function($,_,te,re){return owl.distinct([$,_])&&owl.distinct([te,re])})],Host$i,"Intersection",1),__decorateClass$i([checkIt(owl.point2D,owl.or([owl.num,owl.point2D,owl.arrayWith(owl.point2D)]),owl.num)],Host$i,"Move",1),__decorateClass$i([checkIt(owl.point2D,owl.num)],Host$i,"MoveX",1),__decorateClass$i([checkIt(owl.point2D,owl.num)],Host$i,"MoveY",1),__decorateClass$i([checkIt(owl.point2D,owl.point2Ds,owl.num)],Host$i,"Shift",1),__decorateClass$i([checkIt(owl.point2D)],Host$i,"ReflectX",1),__decorateClass$i([checkIt(owl.point2D)],Host$i,"ReflectY",1),__decorateClass$i([checkIt(owl.num)],Host$i,"IntersectAngle",1),__decorateClass$i([checkIt(owl.point2D),inspectIt(function($,_,te){return owl.distinct([$,_])&&owl.distinct([te,_])})],Host$i,"Angle",1),__decorateClass$i([checkIt(owl.point2D),inspectIt(function($,_,te){return owl.distinct([$,_])&&owl.distinct([te,_])})],Host$i,"AnglePolar",1),__decorateClass$i([checkIt(owl.point2D),inspectIt(function($,_,te){return owl.distinct([$,_])&&owl.distinct([te,_])})],Host$i,"IsReflex",1),__decorateClass$i([checkIt(owl.num,owl.point2D,owl.num,owl.num)],Host$i,"RegularPolygon",1),__decorateClass$i([checkIt(owl.nonNegative,owl.nonNegative)],Host$i,"ArcLength",1),__decorateClass$i([checkIt(owl.nonNegative,owl.nonNegative)],Host$i,"SectorArea",1),__decorateClass$i([checkIt(owl.point2D)],Host$i,"IsConvexPolygon",1),__decorateClass$i([checkIt(owl.point2D)],Host$i,"ArrangePoints",1),__decorateClass$i([checkIt(owl.num)],Host$i,"OnCircle",1),Host$i=__decorateClass$i([exposeAll(),captureAll()],Host$i);var __defProp$h=Object.defineProperty,__getOwnPropDesc$h=Object.getOwnPropertyDescriptor,__decorateClass$h=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$h($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$h($,_,re),re};let Host$h=class{static StemAndLeaf({data:ee,labels:$,stem:_="(tens)",leaf:te="(units)"}){let re="";re+="\\begin{array}{r|l}",re+="\\text{Stem} & \\text{Leaf} \\\\ ",re+=`\\text{${_}} & \\text{${te}} \\\\ \\hline `;function ie(ce){return Math.floor(ce/10+Number.EPSILON)}function ne(ce){return ce-ie(ce)*10}function ae(ce){return typeof ce=="number"?ne(ce).toString():ce}$!=null||($=[...ee]);let se=$.map(ae),oe=ie(Math.min(...ee)),le=ie(Math.max(...ee));for(let ce=oe;ce<=le;ce++){re+=ce+" & { \\begin{array}{} ";let ue=[];for(let me=0;me<ee.length;me++)ie(ee[me])===ce&&ue.push(se[me]);re+=ue.join(" & "),re+=" \\end{array} } \\\\ "}return re+=" \\end{array}",re}static Table({content:ee,columns:$,rows:_,stretch:te}){var le,ce;let re=Math.max(...ee.map(ue=>ue.length));$!=null||($=Array(re+1).fill("|").join("c"));let ie=ee.length;_!=null||(_=Array(ie+1).fill("|").join("r"));let ne=_.split("r").map(ue=>ue.replace(/\|/g," \\hline ").replace(/\:/g," \\hdashline ")),ae="";te&&(ae+="\\def \\arraystretch{1.5} "),ae+=`\\begin{array}{${$}}`;function se(ue){return typeof ue=="number"?String(ue):ue.startsWith("$")?ue.substring(1):`\\text{${ue}}`}let oe=0;for(let ue of ee)ae+=(le=ne[oe])!=null?le:"",ae+=ue.map(se).join(" & ")+" \\\\ ",oe++;return ae+=(ce=ne[oe])!=null?ce:"",ae+=" \\end{array}",ae}static FreqTable({data:ee,dataLabel:$,freqLabel:_}){let te=ListIntegers(Math.min(...ee),Math.max(...ee)),re=Freqs(ee,te);return Table({content:[[$,...te],[_,...re]]})}static PairTable({rowTitle:ee,colTitle:$,rows:_,cols:te,cell:re}){function ie(se){return typeof se=="number"?String(se):se.startsWith("$")?se.substring(1):`\\text{${se}}`}$=ie($),ee=ie(ee);function ne(se,oe){let le=re(se,oe);return typeof le=="number"?String(le):typeof le=="string"?le:typeof le=="boolean"?le?"\u2714":"\u2718":String(le)}let ae="";ae+="\\begin{matrix}",ae+=` & ${$} \\\\`,ae+=` ${ee} & {`,ae+="\\begin{array}{c|ccc}",ae+=" & "+te.join(" & ")+" \\\\ \\hline ";for(let se of _)ae+=" "+String(se)+" & ",ae+=te.map(oe=>ne(se,oe)).join(" & "),ae+=" \\\\";return ae+=" \\end{array}",ae+=" } ",ae+="\\end{matrix}",ae}static CheckVertices({constraints:ee,field:$,label:_}){let te="",re=toReins(ee).vertices();for(let ie of re)te+="\\text{At } "+Coord(ie)+":~~~",te+=_+" = "+optimizer({field:$}).fieldAt(ie)+" \\\\ ";return te}};Host$h=__decorateClass$h([exposeAll(),captureAll()],Host$h);var __defProp$g=Object.defineProperty,__getOwnPropDesc$g=Object.getOwnPropertyDescriptor,__decorateClass$g=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$g($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$g($,_,re),re};let Host$g=class{static FieldAt(ee,$){return optimizer({field:$}).fieldAt(ee)}static isConstrained(ee,$){return toReins(ee).contains($)}static isLooseConstrained(ee,$){return toReins(ee).looseContains($)}static FeasiblePolygon(...ee){let $=toReins(ee).polygon();return Should($.length>2,"No feasible region."),$}static FeasibleVertices(...ee){let $=toReins(ee).vertices();return Should($.length>0,"no feasible vertex"),$}static FeasibleIsBounded(...ee){return toReins(ee).isBounded()}static FeasibleIntegral(...ee){return toReins(ee).integrals()}static MaximizePoint(ee,$){Should(ee.length>0,"No feasible point");let _=optimizer({field:$,feasiblePoints:ee}).maxPoints();return Should(_.length>0,"No max point"),Should(_.length<2,"Multiple max points"),_[0]}static MinimizePoint(ee,$){Should(ee.length>0,"No feasible point");let _=optimizer({field:$,feasiblePoints:ee}).minPoints();return Should(_.length>0,"No min point"),Should(_.length<2,"Multiple min points"),_[0]}static OptimizePoint(ee,$,_){return _?MaximizePoint(ee,$):MinimizePoint(ee,$)}static MaximizeField(ee,$){let te=optimizer({field:$,feasiblePoints:ee}).max();return Should(te!==null,"No optimal value for this field!"),te}static MinimizeField(ee,$){let te=optimizer({field:$,feasiblePoints:ee}).min();return Should(te!==null,"No optimal value for this field!"),te}static OptimizeField(ee,$,_){return _?MaximizeField(ee,$):MinimizeField(ee,$)}static ConstraintsFromPoints(...ee){Should(IsConvexPolygon(...ee),"Not a convex region");let $=toShape2D(ee).mean().toArray(),_=ArrangePoints(...ee);_=[..._,_[0]];let te=[];for(let re=0;re<ee.length;re++){let ie=_[re],ne=_[re+1],[ae,se,oe]=LinearFromTwoPoints(ie,ne),le=FieldAt($,[ae,se,oe])>0?"\\ge":"\\le";te.push([ae,se,le,-oe])}return te}};__decorateClass$g([checkIt(owl.point2D,owl.field)],Host$g,"FieldAt",1),__decorateClass$g([checkIt(owl.constraints,owl.point2D)],Host$g,"isConstrained",1),__decorateClass$g([checkIt(owl.constraints,owl.point2D)],Host$g,"isLooseConstrained",1),__decorateClass$g([checkIt(owl.constraint)],Host$g,"FeasiblePolygon",1),__decorateClass$g([checkIt(owl.constraint)],Host$g,"FeasibleVertices",1),__decorateClass$g([checkIt(owl.constraint)],Host$g,"FeasibleIsBounded",1),__decorateClass$g([checkIt(owl.constraint)],Host$g,"FeasibleIntegral",1),__decorateClass$g([checkIt(owl.point2Ds,owl.field)],Host$g,"MaximizePoint",1),__decorateClass$g([checkIt(owl.point2Ds,owl.field)],Host$g,"MinimizePoint",1),__decorateClass$g([checkIt(owl.point2Ds,owl.field,owl.bool)],Host$g,"OptimizePoint",1),__decorateClass$g([checkIt(owl.point2Ds,owl.field)],Host$g,"MaximizeField",1),__decorateClass$g([checkIt(owl.point2Ds,owl.field)],Host$g,"MinimizeField",1),__decorateClass$g([checkIt(owl.point2Ds,owl.field,owl.bool)],Host$g,"OptimizeField",1),__decorateClass$g([checkIt(owl.point2D)],Host$g,"ConstraintsFromPoints",1),Host$g=__decorateClass$g([exposeAll(),captureAll()],Host$g);var __defProp$f=Object.defineProperty,__getOwnPropDesc$f=Object.getOwnPropertyDescriptor,__decorateClass$f=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$f($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$f($,_,re),re};let Host$f=class{static Divide(ee,$){return ee/$}static Abs(ee){return Math.abs(ee)}static Sign(ee){return ee>0?1:ee<0?-1:0}static SigFig(ee){return cal.sigfig(cal.blur(ee))}static Round(ee,$=3){return ee=ee*(1+Number.EPSILON),cal.round(ee,$).off()}static RoundUp(ee,$=3){return ee=ee*(1-Number.EPSILON),cal.round(ee,$).up()}static RoundDown(ee,$=3){return ee=ee*(1+Number.EPSILON),cal.round(ee,$).down()}static Fix(ee,$=0){return ee=ee*(1+Number.EPSILON),cal.fix(ee,$).off()}static FixUp(ee,$=0){return ee=ee*(1-Number.EPSILON),cal.fix(ee,$).up()}static FixDown(ee,$=0){return ee=ee*(1+Number.EPSILON),cal.fix(ee,$).down()}static Ceil(ee){return Math.ceil(ee)}static Floor(ee){return Math.floor(ee)}static Ratio(...ee){return toNumbers(ee).ratio()}static HCF(...ee){return toNumbers(ee).hcf()}static LCM(...ee){return toNumbers(ee).lcm()}static ToFrac(ee){return cal.toFraction(ee)}};__decorateClass$f([checkIt(owl.num,owl.nonZero)],Host$f,"Divide",1),__decorateClass$f([checkIt(owl.num)],Host$f,"Abs",1),__decorateClass$f([checkIt(owl.num)],Host$f,"Sign",1),__decorateClass$f([checkIt(owl.num)],Host$f,"SigFig",1),__decorateClass$f([checkIt(owl.num,owl.positiveInt)],Host$f,"Round",1),__decorateClass$f([checkIt(owl.num,owl.positiveInt)],Host$f,"RoundUp",1),__decorateClass$f([checkIt(owl.num,owl.positiveInt)],Host$f,"RoundDown",1),__decorateClass$f([checkIt(owl.num,owl.int)],Host$f,"Fix",1),__decorateClass$f([checkIt(owl.num,owl.int)],Host$f,"FixUp",1),__decorateClass$f([checkIt(owl.num,owl.int)],Host$f,"FixDown",1),__decorateClass$f([checkIt(owl.num)],Host$f,"Ceil",1),__decorateClass$f([checkIt(owl.num)],Host$f,"Floor",1),__decorateClass$f([checkIt(owl.rational)],Host$f,"Ratio",1),__decorateClass$f([checkIt(owl.nonZeroInt)],Host$f,"HCF",1),__decorateClass$f([checkIt(owl.nonZeroInt)],Host$f,"LCM",1),__decorateClass$f([checkIt(owl.rational)],Host$f,"ToFrac",1),Host$f=__decorateClass$f([exposeAll(),captureAll()],Host$f);var PhyConst$1={R:8.31,N_A:602e21,g:9.81,G:667e-13,c:3e8,e:16e-20,m_e:911e-33,epsilon_0:885e-14,mu_0:4*Math.PI*1e-7,m_u:1661e-30,au:15e10,light_year:946e13,parsec:309e14,sigma:567e-10,h:663e-36};globalThis.PhyConst=PhyConst$1;function makeFn(ee,$){const _=ee.join(",");return new Function("return ("+_+") => ("+$.toString()+").apply(null,["+ee+"])")()}function makeLatex(ee,$,_,te){let re=$;for(let ie=0;ie<ee.length;ie++){const[ne,ae]=te[ie]==="|"?["(",")"]:["",""],se=_[ie];re=re.replace("@",se+ne+ee[ie]+ae)}return re}class PhyEqCls{constructor(){this.Motion={vuat($="v",_="u",te="a",re="t",ie="****"){let ne=[$,_,te,re];return[makeFn(ne,(ae,se,oe,le)=>ae-se-oe*le),makeLatex(ne,"@=@+@@",ie,"::||")]},vu2as($="v",_="u",te="a",re="s",ie="****"){let ne=[$,_,te,re];return[makeFn(ne,(ae,se,oe,le)=>ae**2-se**2-2*oe*le),makeLatex(ne,"@^2=@^2+2@@",ie,"||||")]},sutat2($="s",_="u",te="t",re="a",ie="****"){let ne=[$,_,te,re],[ae,se,oe,le]=ie;return[makeFn(ne,(ce,ue,me,fe)=>ce-ue*me-.5*fe*me*me),makeLatex([$,_,te,re,te],"@=@@+\\dfrac{1}{2}@@^2",[ae,se,oe,le,oe].join(""),":||||")]},suvt($="s",_="u",te="v",re="t",ie="****"){let ne=[$,_,te,re];return[makeFn(ne,(ae,se,oe,le)=>ae-.5*(se+oe)*le),makeLatex(ne,"@=\\dfrac{1}{2}(@+@)@",ie,":::|")]},sat2($="s",_="a",te="t",re="***"){let ie=[$,_,te];return[makeFn(ie,(ne,ae,se)=>ne-.5*ae*se*se),makeLatex(ie,"@=\\dfrac{1}{2}@@^2",re,":||")]},vat($="v",_="a",te="t",re="***"){let ie=[$,_,te];return[makeFn(ie,(ne,ae,se)=>ne-ae*se),makeLatex(ie,"@=@@",re,":||")]},v2as($="v",_="a",te="s",re="***"){let ie=[$,_,te];return[makeFn(ie,(ne,ae,se)=>ne**2-2*ae*se),makeLatex(ie,"@^2=2@@",re,"|||")]}},this.CircularMotion={svt($="s",_="v",te="t",re="***"){let ie=[$,_,te];return[makeFn(ie,(ne,ae,se)=>ne-ae*se),makeLatex(ie,"@=@@",re,":||")]},\u03B8\u03C9t($="\u03B8",_="\u03C9",te="t",re="$$$"){let ie=[$,_,te];return[makeFn(ie,(ne,ae,se)=>ne-ae*se),makeLatex(ie,"@=@@",re,":||")]},\u03C9T($="\u03C9",_="T",te="$$"){let re=[$,_];return[makeFn(re,(ie,ne)=>ie-2*Math.PI/ne),makeLatex(re,"@=\\dfrac{2\u03C0}{@}",te,"::")]},sr\u03B8($="s",_="r",te="\u03B8",re="**$"){let ie=[$,_,te];return[makeFn(ie,(ne,ae,se)=>ne-ae*se),makeLatex(ie,"@=@@",re,":||")]},vr\u03C9($="v",_="r",te="\u03C9",re="***"){let ie=[$,_,te];return[makeFn(ie,(ne,ae,se)=>ne-ae*se),makeLatex(ie,"@=@@",re,":||")]},av\u03C9($="a",_="v",te="\u03C9",re="***"){let ie=[$,_,te];return[makeFn(ie,(ne,ae,se)=>ne-ae*se),makeLatex(ie,"@=@@",re,":||")]},avr($="a",_="v",te="r",re="***"){let ie=[$,_,te];return[makeFn(ie,(ne,ae,se)=>ne-ae*ae/se),makeLatex(ie,"@=\\dfrac{@^2}{@}",re,":|:")]},ar\u03C9($="a",_="r",te="\u03C9",re="***"){let ie=[$,_,te];return[makeFn(ie,(ne,ae,se)=>ne-ae*se*se),makeLatex(ie,"@=@@^2",re,":||")]},Fmv\u03C9($="F",_="m",te="v",re="\u03C9",ie="****"){let ne=[$,_,te,re];return[makeFn(ne,(ae,se,oe,le)=>ae-se*oe*le),makeLatex(ne,"@=@@@",ie,":|||")]},Fmvr($="F",_="m",te="v",re="r",ie="****"){let ne=[$,_,te,re];return[makeFn(ne,(ae,se,oe,le)=>ae-se*oe*oe/le),makeLatex(ne,"@=\\dfrac{@@^2}{@}",ie,":||:")]},Fmr\u03C9($="F",_="m",te="r",re="\u03C9",ie="****"){let ne=[$,_,te,re];return[makeFn(ne,(ae,se,oe,le)=>ae-se*oe*le*le),makeLatex(ne,"@=@@@^2",ie,":|||")]}},this.Gravitation={FGMmr2($="F",_="M",te="m",re="r",ie="****"){let ne=[$,_,te,re];return[makeFn(ne,(ae,se,oe,le)=>ae-PhyConst.G*se*oe/le**2),makeLatex(ne,"@=\\dfrac{G@@}{@^2}",ie,":|||")]},FGMmRh2($="F",_="M",te="m",re="R",ie="h",ne="*****"){let ae=[$,_,te,re,ie];return[makeFn(ae,(se,oe,le,ce,ue)=>se-PhyConst.G*oe*le/(ce+ue)**2),makeLatex(ae,"@=\\dfrac{G@@}{(@+@)^2}",ne,":||::")]},gGMr2($="g",_="M",te="r",re="***"){let ie=[$,_,te];return[makeFn(ie,(ne,ae,se)=>ne-PhyConst.G*ae/se**2),makeLatex(ie,"@=\\dfrac{G@}{@^2}",re,":||")]},gGMRh2($="g",_="M",te="R",re="h",ie="****"){let ne=[$,_,te,re];return[makeFn(ne,(ae,se,oe,le)=>ae-PhyConst.G*se/(oe+le)**2),makeLatex(ne,"@=\\dfrac{G@}{(@+@)^2}",ie,":|::")]},Fmg($="F",_="m",te="g",re="***"){let ie=[$,_,te];return[makeFn(ie,(ne,ae,se)=>ne-ae*se),makeLatex(ie,"@=@@",re,":||")]},GMmr2v2r($="M",_="r",te="v",re="***"){let ie=[$,_,te],[ne,ae,se]=re;return re=[ne,ae,se,ae].join(""),[makeFn(ie,(oe,le,ce)=>PhyConst.G*oe/le/le-ce*ce/le),makeLatex([$,_,te,_],"\\dfrac{G@m}{@^2}=\\dfrac{m@^2}{@}",re,"|||:")]},GMmr2r\u03C92($="M",_="r",te="\u03C9",re="***"){let ie=[$,_,te],[ne,ae,se]=re;return re=[ne,ae,ae,se].join(""),[makeFn(ie,(oe,le,ce)=>PhyConst.G*oe/le/le-le*ce*ce),makeLatex([$,_,_,te],"\\dfrac{G@m}{@^2}=m@@^2",re,"||||")]}}}}globalThis.PhyEq=new PhyEqCls;var __defProp$e=Object.defineProperty,__getOwnPropDesc$e=Object.getOwnPropertyDescriptor,__decorateClass$e=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$e($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$e($,_,re),re};let Host$e=class{static RndN(ee,$){return poker.integer(ee,$)}static RndNs(ee,$,_=10){return _=Math.min(Math.floor($-ee+1),_),dice(()=>RndN(ee,$)).unique().rolls(_)}static RndR(ee,$){return poker.real(ee,$)}static RndRs(ee,$,_=10){return dice(()=>RndR(ee,$)).unique().rolls(_)}static RndQ(ee=9,$){let _=Math.abs(ee),te=ee>0?1:RndU(),re=()=>RndN(1,_)/RndN(2,_)*te,ie=dice(re).shield(ne=>owl.dec(ne));return $&&ie.shield(ne=>ne>=$[0]).shield(ne=>ne<=$[1]),ie.roll()}static RndQs(ee=9,$,_=10){return _=Math.min(Math.abs(ee)+1,_),dice(()=>RndQ(ee,$)).unique().rolls(_)}static RndU(){return list(1,-1).draw()}static RndT(){return poker.bool()}static RndZ(ee,$){return RndN(ee,$)*RndU()}static RndZs(ee,$,_=10){return _=Math.min(Math.floor($-ee+1),_),dice(()=>RndN(ee,$)).unique().rolls(_).map(te=>te*RndU())}static RndP(ee){return poker.prime(2,ee)}static RndOdd(ee,$){return ee=Math.ceil((ee+1)/2),$=Math.floor(($+1)/2),2*RndN(ee,$)-1}static RndEven(ee,$){return ee=Math.ceil(ee/2),$=Math.floor($/2),2*RndN(ee,$)}static RndPoly(...ee){let $=ee.map(_=>RndZ(1,_));return $[0]=Math.abs($[0]),$}static RndPyth(ee=100){let $=[];for(let _=1;_<10;_++)for(let te=1;te<_;te++)for(let re=1;re<10;re++){let ie=_*_-te*te,ne=2*_*te,ae=_*_+te*te;ae<=ee&&$.push([ie,ne,ae])}return toList($).draw()}static RndPoint(ee,$=ee){typeof ee=="number"&&(ee=[-ee,ee]),typeof $=="number"&&($=[-$,$]);let[_,te]=ee,[re,ie]=$,ne=()=>[RndN(_,te),RndN(re,ie)];return dice(ne).shield(([ae,se])=>ae!==0).shield(([ae,se])=>se!==0).shield(([ae,se])=>ae!==se).roll()}static RndPoints(ee,$=ee,_=10){return dice(()=>RndPoint(ee,$)).unique(([te,re])=>te).unique(([te,re])=>re).coherent(te=>toList(te).combinations(3).every(([re,ie,ne])=>Slope(re,ie)!==Slope(ie,ne))).rolls(_)}static RndAngles(ee,$){let _=dice(()=>RndN(0,360)).coherent(te=>toNumbers(te).gapsMod(360).min()>$).unique().rolls(ee);return[...toList(_).ascending()]}static RndOnCircle(ee,$){let _=RndN(0,360);return RndAngles(ee,$).map(te=>OnCircle(te+_))}static RndConvexPolygon(ee,$,_,te){let[re,ie]=$,ne=_,se=RndAngles(ee,te).map(oe=>[re+ne*cos(oe),ie+ne*sin(oe)]);return se=se.map(([oe,le])=>[Fix(oe),Fix(le)]),se}static RndData(ee,$,_){let te=dice(()=>RndN(ee,$)).coherent(re=>toData(re).isSingleMode()).rolls(_);return toList(te).ascending()}static RndTriangle(ee,$,{minAngle:_=0,maxAngle:te=180,minLength:re=0,obtuse:ie=!1}={}){let[ne,ae]=ee,[se,oe]=$,le=[];for(let ce=ne;ce<=ae;ce++)for(let ue=se;ue<=oe;ue++)le.push([ce,ue]);le=RndShuffle(...le);for(let ce=0;ce<le.length;ce++)for(let ue=ce+1;ue<le.length;ue++)for(let me=ue+1;me<le.length;me++){let fe=le[ce],de=le[ue],pe=le[me];if(fe[0]===de[0]||de[0]===pe[0]||pe[0]===fe[0]||fe[1]===de[1]||de[1]===pe[1]||pe[1]===fe[1]||Slope(fe,de)===Slope(de,pe))continue;let ge=Angle(pe,fe,de),ye=Angle(fe,de,pe),be=Angle(de,pe,fe),xe=Min(ge,ye,be),Se=Max(ge,ye,be);if(!(xe<_)&&!(Se>te)&&!(Distance(fe,de)<re)&&!(Distance(de,pe)<re)&&!(Distance(pe,fe)<re)&&!(ie&&Se<=90))return[fe,de,pe]}throw"RndTriangle fail to find a suitable triangle."}static RndTrigValue(ee,$){let _=(ne,ae)=>{if(ne==="sin")return sin(ae);if(ne==="cos")return cos(ae);if(ne==="tan")return tan(ae);throw"never"},te=(ne,ae)=>{if(ne==="sin")return arcsin(ae);if(ne==="cos")return arccos(ae);if(ne==="tan")return arctan(ae);throw"never"},re=_(ee,$);$=te(ee,Abs(_(ee,$))),$=cal.blur($);let ie=[];for(let ne of["sin","cos","tan"])for(let ae of[0,90,180,270,360])for(let se of[$,-$])ae===360&&se>0||ae===0&&se<0||cal.eq(_(ne,ae+se),re)&&ie.push([ne,ae+se]);return RndPick(...ie)}static RndTrigEqv(ee,$){let _=(ie,ne)=>{if(ie==="sin")return sin(ne);if(ie==="cos")return cos(ne);if(ie==="tan")return tan(ne);throw"never"},te=0;ee==="sin"&&(te=sin(1)),ee==="-sin"&&(te=-sin(1)),ee==="cos"&&(te=cos(1)),ee==="-cos"&&(te=-cos(1)),ee==="tan"&&(te=tan(1)),ee==="-tan"&&(te=-tan(1)),ee==="1/tan"&&(te=1/tan(1)),ee==="-1/tan"&&(te=-1/tan(1));let re=[];for(let ie of["sin","cos","tan"])for(let ne of[90,180,270,360])for(let ae of[1,-1])ne===360&&ae>0||cal.eq(_(ie,ne+ae),te)&&re.push([ie,ne,ae,$]);return RndPick(...re)}static RndPointPolar(){let ee=RndPick(30,45,60,120,135,150,210,225,240,300,315,330),$=RndEven(2,6),_=RndPick(1,2,3),te=$*Math.sqrt(_);return PolToRect([te,ee])}static RndRatio(ee,$,_=10){let te=RndNs(ee,$,_);return toNumbers(te).ratio()}};__decorateClass$e([checkIt(owl.num)],Host$e,"RndN",1),__decorateClass$e([checkIt(owl.num,owl.num,owl.positiveInt)],Host$e,"RndNs",1),__decorateClass$e([checkIt(owl.num)],Host$e,"RndR",1),__decorateClass$e([checkIt(owl.num,owl.num,owl.positiveInt)],Host$e,"RndRs",1),__decorateClass$e([checkIt(owl.nonZeroInt,owl.interval)],Host$e,"RndQ",1),__decorateClass$e([checkIt(owl.nonZeroInt,owl.interval,owl.positiveInt)],Host$e,"RndQs",1),__decorateClass$e([checkIt(owl.num)],Host$e,"RndZ",1),__decorateClass$e([checkIt(owl.nonNegative,owl.nonNegative,owl.positiveInt)],Host$e,"RndZs",1),__decorateClass$e([checkIt(owl.positive)],Host$e,"RndP",1),__decorateClass$e([checkIt(owl.num)],Host$e,"RndOdd",1),__decorateClass$e([checkIt(owl.num)],Host$e,"RndEven",1),__decorateClass$e([checkIt(owl.positive)],Host$e,"RndPoly",1),__decorateClass$e([checkIt(owl.positive)],Host$e,"RndPyth",1),__decorateClass$e([checkIt(owl.or([owl.num,owl.interval]))],Host$e,"RndPoint",1),__decorateClass$e([checkIt(owl.or([owl.num,owl.interval]),owl.or([owl.num,owl.interval]),owl.num)],Host$e,"RndPoints",1),__decorateClass$e([checkIt(owl.positiveInt,owl.positive)],Host$e,"RndAngles",1),__decorateClass$e([checkIt(owl.positiveInt,owl.positive)],Host$e,"RndOnCircle",1),__decorateClass$e([checkIt(owl.positiveInt,owl.point2D,owl.positive,owl.positive)],Host$e,"RndConvexPolygon",1),__decorateClass$e([checkIt(owl.num,owl.num,owl.positiveInt)],Host$e,"RndData",1),__decorateClass$e([checkIt(owl.interval,owl.interval,owl.object)],Host$e,"RndTriangle",1),__decorateClass$e([checkIt(owl.trig,owl.num)],Host$e,"RndTrigValue",1),__decorateClass$e([checkIt(owl.str,owl.str)],Host$e,"RndTrigEqv",1),__decorateClass$e([checkIt(owl.positive,owl.positive,owl.positiveInt)],Host$e,"RndRatio",1),Host$e=__decorateClass$e([exposeAll(),captureAll()],Host$e);var __defProp$d=Object.defineProperty,__getOwnPropDesc$d=Object.getOwnPropertyDescriptor,__decorateClass$d=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$d($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$d($,_,re),re};let Host$d=class{static RndShake(ee){if(typeof ee=="string"){if(owl.dfrac(ee)&&Should(!1,"RndShakeDfrac is not supported anymore"),owl.ineq(ee))return RndShakeIneq(ee);if(owl.trig(ee))return RndShakeTrig(ee);Number(ee)&&(ee=Number(ee))}if(owl.quantity(ee))return RndShakeQuantity(ee);if(owl.point2D(ee))return RndShakePoint(ee);if(owl.combo(ee))return RndShakeCombo(ee);if(owl.trigValue(ee))return RndShakeTrigValue(ee);if(owl.constraint(ee))return RndShakeConstraint(ee);if(owl.constraints(ee))return RndShakeConstraints(ee);if(typeof ee=="number"&&owl.num(ee)){if(ee=cal.blur(ee),owl.int(ee))return RndShakeN(ee);if(owl.num(ee))return RndShakeR(ee);if(isNaN(ee))return[]}if(ee===void 0)return[];throw MathError("Fail to RndShake: "+ee)}static RndShakeN(ee){ee=cal.blur(ee);let $=Abs(ee),_=Sign(ee),te;if(ee===0)te=()=>RndN(1,3);else{let re=Max(3,$*.1),ie=Min(Floor($+re),cal.logCeil($)-1),ne=Max(Ceil($-re),1,cal.logFloor($));te=()=>RndN(ne,ie)*_}return dice(te).shield(re=>re!==ee).unique().rolls(3)}static RndShakeR(ee){let $=cal.e(ee),_=cal.blur(cal.mantissa(ee));if(IsInteger(_))return RndShakeN(_).map(re=>Number(re+"e"+$));let te=cal.dp(_);return dice(()=>Fix(_*(1+RndR(0,.5)*RndU()),te)).shield(re=>re*_>0).shield(re=>cal.e(re)===cal.e(_)).shield(re=>re!==_).unique().rolls(3).map(re=>Number(re+"e"+$))}static RndShakeQ(ee){if(owl.int(ee))return RndShakeN(ee);let[$,_]=ToFrac(ee);return[$,_]=[$,_].map(cal.blur),Should(IsInteger($,_),"input should be integral fraction"),dice(()=>{const te=RndShakeN($)[0],re=RndShakeN(_)[0];let ie=RndR(0,1)<1/Math.abs($)?$:te,ne=RndR(0,1)<1/Math.abs(_)?_:re;return ie===$&&ne===_?[te,re]:[ie,ne]}).shield(([te,re])=>AreCoprime(te,re)).shield(([te,re])=>te!==0).shield(([te,re])=>re!==0).shield(([te,re])=>re!==1).shield(([te,re])=>re!==1).shield(([te,re])=>IsProbability($/_)?IsProbability(te/re):!0).unique(([te,re])=>te/re).rolls(3).map(([te,re])=>te/re)}static RndShakeIneq(ee){let $=ineq(ee),_=$.print(),te=$.flip();return list(_,te,te).shuffled()}static RndShakePoint(ee){let[$,_]=ee,te=()=>{const re=IsInteger($)?RndShakeN($)[0]:RndShakeR($)[0],ie=IsInteger(_)?RndShakeN(_)[0]:RndShakeR(_)[0];return[re,ie]};return dice(te).unique(([re,ie])=>re).unique(([re,ie])=>ie).rolls(3)}static RndShakeCombo(ee){let[$,_,te]=ee,re=()=>[RndT()?$:!$,RndT()?_:!_,RndT()?te:!te],ie=ne=>ne.some(ae=>ae)&&ne.some(ae=>!ae);return dice(re).unique().coherent(ne=>ie([$,...ne.map(ae=>ae[0])])).coherent(ne=>ie([_,...ne.map(ae=>ae[1])])).coherent(ne=>ie([te,...ne.map(ae=>ae[2])])).rolls(3)}static RndShakeTrig(ee){return[...list("sin","cos","tan").draws(3)]}static RndShakeTrigValue(ee){return RndShakeTrig(ee[0]).map($=>[$,ee[1]])}static RndShakeRatio(ee){ee=[...toNumbers(ee).ratio()];let $=()=>ee.map(_=>RndR(0,1)<1/(Math.abs(_)+1)?_:RndShakeN(_)[0]);return dice($).shield(_=>toNumbers(_).hcf()===1).shield(_=>AreDifferent(ee,_)).unique().rolls(3)}static RndShakeBase(ee){let[$,_]=ee.split("_");_=_.replace("{","").replace("}","");let te="0123456789ABCDEF".substring(0,Number(_)).split("");function re(se){let oe=te.indexOf(se)+RndU();return oe<0&&(oe=0),oe>te.length-1&&(oe=te.length-1),te[oe]}function ie(se){let oe=[],le=se.split("").filter(ue=>ue!=="0").length;for(let ue of se.split(""))if(ue==="0"){let me=poker.bool(.1);oe.push(me?toList(te).draw():"0")}else{let me=poker.bool(1/(le+2));oe.push(me?re(ue):ue)}let ce=oe.join("");return poker.bool(.2)&&(ce+="0"),ce}function ne(se){return se=se.replace(/^0+/,""),se+"_{"+_+"}"}let ae=()=>{let se=Math.ceil($.length/2),oe=$.slice(0,se),le=$.slice(se),ce=ie(oe),ue=ie(le),me=ne(oe+ue),fe=ne(ce+le),de=ne(ce+ue);return[me,fe,de]};return dice(ae).shield(se=>toList([$,...se]).dupless()).roll()}static RndShakePointPolar(ee){let[$,_]=RectToPol(ee),[te,re]=cal.toSurd($),ie=re===1?te*Math.sqrt(RndPick(2,3)):te,ae=list(30,45,60,120,135,150,210,225,240,300,315,330).except([_]).draw();return RndShuffle([$,ae],[ie,_],[ie,ae]).map(se=>PolToRect(se))}static RndShakeConstraint(ee){let $=rein(ee).flip().constraint;return list(ee,$,$).shuffled()}static RndShakeConstraints(ee){let $=()=>[...toReins(ee).shake().map(_=>_.constraint)];return dice($).forbid(ee).shield(_=>toReins(_).isConsistent()).unique().rolls(3)}static RndShakeQuantity(ee){let{val:$,unit:_}=ee;return RndShake($).map(re=>({val:re,unit:_}))}};__decorateClass$d([checkIt(owl.int)],Host$d,"RndShakeN",1),__decorateClass$d([checkIt(owl.num)],Host$d,"RndShakeR",1),__decorateClass$d([checkIt(owl.rational)],Host$d,"RndShakeQ",1),__decorateClass$d([checkIt(owl.ineq)],Host$d,"RndShakeIneq",1),__decorateClass$d([checkIt(owl.point2D)],Host$d,"RndShakePoint",1),__decorateClass$d([checkIt(owl.combo)],Host$d,"RndShakeCombo",1),__decorateClass$d([checkIt(owl.trig)],Host$d,"RndShakeTrig",1),__decorateClass$d([checkIt(owl.trigValue)],Host$d,"RndShakeTrigValue",1),__decorateClass$d([checkIt(owl.ntuple)],Host$d,"RndShakeRatio",1),__decorateClass$d([checkIt(owl.base)],Host$d,"RndShakeBase",1),__decorateClass$d([checkIt(owl.point2D)],Host$d,"RndShakePointPolar",1),__decorateClass$d([checkIt(owl.constraint)],Host$d,"RndShakeConstraint",1),__decorateClass$d([checkIt(owl.constraints)],Host$d,"RndShakeConstraints",1),__decorateClass$d([checkIt(owl.quantity)],Host$d,"RndShakeQuantity",1),Host$d=__decorateClass$d([exposeAll(),captureAll()],Host$d);var __defProp$c=Object.defineProperty,__getOwnPropDesc$c=Object.getOwnPropertyDescriptor,__decorateClass$c=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$c($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$c($,_,re),re};let Host$c=class{static RndPick(...ee){return toList(ee).draw()}static RndShuffle(...ee){return[...toList(ee).shuffled()]}static RndPickN(ee,$){return[...toList(ee).sample($)]}static RndPickUnique(ee,$){return[...toList(ee).uniqueDeep().sample($)]}static RndHe(){return poker.he()}static RndShe(){return poker.she()}static RndLetters(){return RndPick(["a","b","c"],["h","k","l"],["m","n","l"],["p","q","r"],["r","s","t"],["u","v","w"],["x","y","z"])}static RndCapitals(){return RndPick(["A","B","C"],["H","K","L"],["M","N","L"],["P","Q","R"],["R","S","T"],["U","V","W"],["X","Y","Z"])}};__decorateClass$c([checkIt(owl.array,owl.positiveInt)],Host$c,"RndPickN",1),__decorateClass$c([checkIt(owl.array,owl.positiveInt)],Host$c,"RndPickUnique",1),Host$c=__decorateClass$c([exposeAll(),captureAll()],Host$c);var __defProp$b=Object.defineProperty,__getOwnPropDesc$b=Object.getOwnPropertyDescriptor,__decorateClass$b=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$b($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$b($,_,re),re};let Host$b=class{static AreDistinct(...ee){return ee=ee.map(cal.blur),new Set(ee).size===ee.length}static AreAbsDistinct(...ee){return AreDistinct(...ee.map(Math.abs))}static AreSameSign(...ee){return[...new Set(ee.map(Math.sign))].length===1}static AreCoprime(...ee){return ee=ee.map(cal.blur),!IsInteger(...ee)||!IsNonZero(...ee)?!0:toList(ee).pairs().every(([$,_])=>HCF($,_)===1)}static AreDistantPoint(ee){let $=function(..._){return toShape2D(_).distances().min()>=ee};return contract($).sign([owl.point2D])}static AreOblique(ee){let $=function(..._){return toList(_).pairs().every(([te,re])=>IntersectAngle(te,re)>=ee)};return contract($).sign([owl.num])}static AreDifferent(...ee){return toList(ee).duplessDeep()}};__decorateClass$b([checkIt(owl.num)],Host$b,"AreDistinct",1),__decorateClass$b([checkIt(owl.num)],Host$b,"AreAbsDistinct",1),__decorateClass$b([checkIt(owl.num)],Host$b,"AreSameSign",1),__decorateClass$b([checkIt(owl.num)],Host$b,"AreCoprime",1),__decorateClass$b([checkIt(owl.positive)],Host$b,"AreDistantPoint",1),__decorateClass$b([checkIt(owl.positive)],Host$b,"AreOblique",1),Host$b=__decorateClass$b([exposeAll(),captureAll()],Host$b);var __defProp$a=Object.defineProperty,__getOwnPropDesc$a=Object.getOwnPropertyDescriptor,__decorateClass$a=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$a($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$a($,_,re),re};let Host$a=class{static ListIntegers(ee,$){return cal.range(ee,$)}static ASterm(ee,$,_){return ee+(_-1)*$}static ASsum(ee,$,_){return .5*_*(2*ee+(_-1)*$)}static ASequence(ee,$,_=10){let te=[];for(let re=1;re<=_;re++)te.push(ASterm(ee,$,re));return te}static GSterm(ee,$,_){return ee*$**(_-1)}static GSsum(ee,$,_=-1){return _>0?ee*($**_-1)/($-1):ee/(1-$)}static GSequence(ee,$,_=10){let te=[];for(let re=1;re<=_;re++)te.push(GSterm(ee,$,re));return te}static QuadraticSequence(ee,$,_,te){let re=ee;for(let ie=2;ie<=te;ie++)re+=$*(ie-1)+_;return re}static LucasSequence(ee,$,_,te,re){if(re===1)return ee;if(re===2)return $;let ie=[ee,$];for(let ne=3;ne<=re;ne++)ie.push(_*ie[ne-2]+te*ie[ne-3]);return ie[re-1]}};__decorateClass$a([checkIt(owl.num),inspectIt(function($,_){return $<_})],Host$a,"ListIntegers",1),__decorateClass$a([checkIt(owl.num,owl.num,owl.positiveInt)],Host$a,"ASterm",1),__decorateClass$a([checkIt(owl.num,owl.num,owl.positiveInt)],Host$a,"ASsum",1),__decorateClass$a([checkIt(owl.num,owl.num,owl.positiveInt)],Host$a,"ASequence",1),__decorateClass$a([checkIt(owl.num,owl.num,owl.positiveInt)],Host$a,"GSterm",1),__decorateClass$a([checkIt(owl.num,owl.num,owl.int)],Host$a,"GSsum",1),__decorateClass$a([checkIt(owl.num,owl.num,owl.positiveInt)],Host$a,"GSequence",1),__decorateClass$a([checkIt(owl.num,owl.num,owl.num,owl.positiveInt)],Host$a,"QuadraticSequence",1),__decorateClass$a([checkIt(owl.num,owl.num,owl.num,owl.num,owl.positiveInt)],Host$a,"LucasSequence",1),Host$a=__decorateClass$a([exposeAll(),captureAll()],Host$a);var __defProp$9=Object.defineProperty,__getOwnPropDesc$9=Object.getOwnPropertyDescriptor,__decorateClass$9=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$9($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$9($,_,re),re};let Host$9=class{static Min(...ee){return Math.min(...ee)}static Max(...ee){return Math.max(...ee)}static Sort(...ee){return[...ee].sort(($,_)=>$-_)}static SortBy(ee,$){return[...ee].sort((_,te)=>$(_)-$(te))}static Sum(...ee){return toData(ee).sum()}static Mean(...ee){return toData(ee).mean()}static Median(...ee){return toData(ee).median()}static LowerQ(...ee){return toData(ee).lowerQuartile()}static UpperQ(...ee){return toData(ee).upperQuartile()}static StatRange(...ee){return toData(ee).range()}static IQR(...ee){return toData(ee).IQR()}static Freq(ee,$){return toList(ee).freq($)}static Mode(...ee){return[...toData(ee).modes()]}static UniMode(...ee){return toData(ee).mode()}static StdDev(...ee){return toData(ee).stdDev()}static ZScore(ee,$,_){return(ee-$)/_}static MedianAt(ee){return(ee+1)/2}static LowerQAt(ee){return ee=Math.floor(ee/2),MedianAt(ee)}static UpperQAt(ee){return ee+1-LowerQAt(ee)}static ListRange(...ee){let $=Math.min(...ee),_=Math.max(...ee);return cal.range($,_)}static Freqs(ee,$){let _=toList(ee);$!=null||($=ListRange(...ee));let te=[];for(let re of $)te.push(_.freq(re));return te}static DataFromFreqs(ee,$){Should(ee.length===$.length,"values and frequencies must be the same length");let _=[];for(let te=0;te<ee.length;te++)_.push(...Array($[te]).fill(ee[te]));return _}static Summary(...ee){let $=toData(ee);return[$.min(),$.lowerQuartile(),$.median(),$.upperQuartile(),$.max()]}};__decorateClass$9([checkIt(owl.num)],Host$9,"Min",1),__decorateClass$9([checkIt(owl.num)],Host$9,"Max",1),__decorateClass$9([checkIt(owl.num)],Host$9,"Sort",1),__decorateClass$9([checkIt(owl.array,owl.pass)],Host$9,"SortBy",1),__decorateClass$9([checkIt(owl.num)],Host$9,"Sum",1),__decorateClass$9([checkIt(owl.num),inspectIt(function(...$){return $.length>0})],Host$9,"Mean",1),__decorateClass$9([checkIt(owl.num)],Host$9,"Median",1),__decorateClass$9([checkIt(owl.num)],Host$9,"LowerQ",1),__decorateClass$9([checkIt(owl.num)],Host$9,"UpperQ",1),__decorateClass$9([checkIt(owl.num)],Host$9,"StatRange",1),__decorateClass$9([checkIt(owl.num)],Host$9,"IQR",1),__decorateClass$9([checkIt(owl.array,owl.pass)],Host$9,"Freq",1),__decorateClass$9([checkIt(owl.num)],Host$9,"Mode",1),__decorateClass$9([checkIt(owl.num),inspectIt(function(...$){return toData($).isSingleMode(1)})],Host$9,"UniMode",1),__decorateClass$9([checkIt(owl.num)],Host$9,"StdDev",1),__decorateClass$9([checkIt(owl.num)],Host$9,"ZScore",1),__decorateClass$9([checkIt(owl.int)],Host$9,"MedianAt",1),__decorateClass$9([checkIt(owl.int)],Host$9,"LowerQAt",1),__decorateClass$9([checkIt(owl.int)],Host$9,"UpperQAt",1),__decorateClass$9([checkIt(owl.int)],Host$9,"ListRange",1),__decorateClass$9([checkIt(owl.ntuple,owl.ntuple)],Host$9,"Freqs",1),__decorateClass$9([checkIt(owl.ntuple)],Host$9,"DataFromFreqs",1),__decorateClass$9([checkIt(owl.num)],Host$9,"Summary",1),Host$9=__decorateClass$9([exposeAll(),captureAll()],Host$9);var __defProp$8=Object.defineProperty,__getOwnPropDesc$8=Object.getOwnPropertyDescriptor,__decorateClass$8=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$8($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$8($,_,re),re};let Host$8=class{static GrammarJoin(...ee){let $=ee.length;if($===0)return"";if($===1)return String(ee[0]);let _=[];for(let te=0;te<$-1;te++)_.push(ee[te]);return _.join(", ")+" and "+ee[ee.length-1]}static IneqSign(ee,$=!1){if(ee&&$)return["\\ge","\\le"];if(ee&&!$)return["\\gt","\\lt"];if(!ee&&$)return["\\le","\\ge"];if(!ee&&!$)return["\\lt","\\gt"];throw"never"}static Dfrac(ee,$,_=!1){return ink.printDfrac(ee,$,_)}static IndexToSurd(ee){return ee.replace(/\{\(*([^\{\(\}\)]*)\)*\}\^\{0\.5\}/g,"\\sqrt{$1}")}static Coord(ee,$=1){let[_,te]=ee.map(re=>cal.blur(re));return _=Fix(_,$),te=Fix(te,$),"("+_+", "+te+")"}static Sci(ee){if(ee===0)return"0";let $=cal.e(cal.blur(ee));return $===0?ee.toString():(ee=ee/10**$,ee=cal.blur(ee),ee.toString()+" \\times 10^{ "+$+"}")}static LongDivision(ee,$){ee=ee.reverse(),$=$.reverse();function _(ce){return ce===0?"":ce===1?"x":"x^"+ce}function te(ce){let ue=[];return ce.forEach((me,fe)=>{me!==null&&ue.push(me+_(fe))}),ue.reverse().join("+")}function re(ce){return"\\underline{"+te(ce)+"}"}function ie(ce){let ue=[];ce.forEach((fe,de)=>{fe===null&&ue.push(ee[de]+_(de))});let me=ue.reverse().join("+");return me.length===0?"":"\\phantom{+"+me+"}"}function ne(ce){return te(ce)+ie(ce)}function ae(ce){return re(ce)+ie(ce)}function se(ce,ue){let me=ce[ce.length-1],fe=ue[ue.length-1];return me/fe}function oe(ce,ue){let me=se(ce,ue),fe=ue.map(ge=>ge*me);for(let ge=1;ge<=ce.length-ue.length;ge++)fe.unshift(null);let de=[];for(let ge=0;ge<ce.length-1;ge++)de.push(ce[ge]-Number(fe[ge]));let pe=[...de].reverse();for(let ge=0;ge<pe.length;ge++)ge>ue.length-1&&(pe[ge]=null);return pe.reverse(),{next:de,nextPrint:pe,under:fe,q:me}}function le(ce,ue){let me="\\begin{array}{r}";me+="QUOTIENT \\\\",me+=ne(ue),me+="{\\overline{\\smash{\\big)}",me+=ne(ce),me+="}}\\\\";let fe=ce,de=[];for(;;){let{next:pe,nextPrint:ge,under:ye,q:be}=oe(fe,ue);if(me+=ae(ye)+"\\\\",me+=ne(ge)+"\\\\",fe=pe,de.push(be),fe.length<ue.length)break}return me+="\\end{array}",de.reverse(),me=me.replace("QUOTIENT",ne(de)),me}return le(ee,$)}static ToBase(ee,$){return ee.toString($).toUpperCase()+"_{"+$+"}"}static PrimeFactorize(ee,{hcf:$=!1,lcm:_=!1,multiply:te=!1}){let re="\\begin{matrix} ";function ie(se,oe){let le=te?"& \\times &":"&";oe>1?re+=le+se+"^{"+oe+"}":oe===1?re+=le+se:re+=te?"& &":" & "}let ne=Object.keys(ee),ae=ee[ne[0]].length;for(let se=0;se<ae;se++){re+=" & ",ne.includes("number")&&(re+=" & "+ee.number[se]);for(let oe of ne)oe!=="number"&&ie(oe,ee[oe][se]);re+=" \\\\ "}if(re+="\\hline",$){re+=" \\text{HCF} & = ",ne.includes("number")&&(re+=" & "+HCF(...ee.number));for(let se of ne)se!=="number"&&ie(se,Min(...ee[se]));re+=" \\\\ "}if(_){re+=" \\text{LCM} & = ",ne.includes("number")&&(re+=" & "+LCM(...ee.number));for(let se of ne)se!=="number"&&ie(se,Max(...ee[se]));re+=" \\\\ "}return re+="\\end{matrix}",re}static ConstraintText(ee,$=!0,_="x",te="y"){$===!1&&(ee=rein(ee).flip().constraint);let re=ink.printConstraint(ee,!1,$===null);return re=re.replace(/x/g,_),re=re.replace(/y/g,te),re}};__decorateClass$8([checkIt(owl.bool,owl.bool)],Host$8,"IneqSign",1),__decorateClass$8([checkIt(owl.num,owl.nonZero,owl.bool)],Host$8,"Dfrac",1),__decorateClass$8([checkIt(owl.str)],Host$8,"IndexToSurd",1),__decorateClass$8([checkIt(owl.point2D)],Host$8,"Coord",1),__decorateClass$8([checkIt(owl.num)],Host$8,"Sci",1),__decorateClass$8([checkIt(owl.ntuple,owl.ntuple)],Host$8,"LongDivision",1),__decorateClass$8([checkIt([owl.num,Number.isSafeInteger],owl.positiveInt)],Host$8,"ToBase",1),__decorateClass$8([checkIt(owl.object,owl.object)],Host$8,"PrimeFactorize",1),__decorateClass$8([checkIt(owl.constraint,owl.pass,owl.str,owl.str)],Host$8,"ConstraintText",1),Host$8=__decorateClass$8([exposeAll(),captureAll()],Host$8);var __defProp$7=Object.defineProperty,__getOwnPropDesc$7=Object.getOwnPropertyDescriptor,__decorateClass$7=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$7($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$7($,_,re),re};let angle=owl.between(0,180),side=owl.positive;function triangle_ineq(ee,$,_){return owl.triangleSides([ee,$,_])}let Host$7=class{static Pyth(ee,$){return(ee**2+$**2)**.5}static PythLeg(ee,$){return(ee**2-$**2)**.5}static CosineLawLength(ee,$,_){return(ee**2+$**2-2*ee*$*cos(_))**.5}static CosineLawAngle(ee,$,_){return arccos((_**2-ee**2-$**2)/(-2*ee*$))}static SineLawLength(ee,$,_){return $/sin(ee)*sin(_)}static SineLawAngle(ee,$,_){return arcsin(sin($)/ee*_)}static Heron(ee,$,_){let te=(ee+$+_)/2;return(te*(te-ee)*(te-$)*(te-_))**.5}static SolveSSS(ee,$,_){let te=CosineLawAngle($,_,ee),re=CosineLawAngle(_,ee,$);return[CosineLawAngle(ee,$,_),te,re]}static SolveSAS(ee,$,_){let te=CosineLawLength(ee,_,$),[re,ie,ne]=SolveSSS(ee,_,te);return[ie,te,ne]}static SolveAAS(ee,$,_){let te=180-ee-$,re=SineLawLength(ee,_,$);return[CosineLawLength(_,re,te),te,re]}static SolveASA(ee,$,_){let te=180-ee-_,re=SineLawLength(te,$,ee),ie=SineLawLength(te,$,_);return[re,te,ie]}static SolveSSA(ee,$,_){let te=SineLawAngle(ee,_,$),re=180-_-te,ie=SineLawLength(_,ee,re);return[re,ie,te]}static HeightsBySSS(ee,$,_){let te=Heron(ee,$,_),re=2*te/ee,ie=2*te/$,ne=2*te/_;return[re,ie,ne]}static HeightBySSS(ee,$,_){let te=Heron(ee,$,_);return 2*te/ee}static HeightsBySAS(ee,$,_){let[te,re,ie]=SolveSAS(ee,$,_);return HeightsBySSS(ee,_,re)}static HeightBySAS(ee,$,_){let[te,re,ie]=HeightsBySAS(ee,$,_);return ie}static TriangleFromVertex(ee,$,_,te=!0){let re=Distance(ee,$),ie=Distance($,_),ne=Distance(_,ee),ae=CosineLawAngle(ie,ne,re),se=CosineLawAngle(ne,re,ie),oe=CosineLawAngle(ie,re,ne);return te&&(re=Fix(re),ie=Fix(ie),ne=Fix(ne),ae=Fix(ae),se=Fix(se),oe=Fix(oe)),{sideC:re,angleB:oe,sideA:ie,angleC:ae,sideB:ne,angleA:se}}static SolveTriangle({sideA:ee,sideB:$,sideC:_,angleA:te,angleB:re,angleC:ie}){let ne=ee,ae=$,se=_,oe=te,le=re,ce=ie;if(ne===null||ae===null||se===null||oe===null||le===null||ce===null)throw"SolveTriangle not accept null now";function ue(){oe===void 0&&le!==void 0&&ce!==void 0&&(oe=180-le-ce),le===void 0&&oe!==void 0&&ce!==void 0&&(le=180-oe-ce),ce===void 0&&le!==void 0&&oe!==void 0&&(ce=180-oe-le)}function me(){ne!==void 0&&ae!==void 0&&se!==void 0&&(oe=CosineLawAngle(ae,se,ne),le=CosineLawAngle(se,ne,ae),ce=CosineLawAngle(ne,ae,se))}function fe(){ne!==void 0&&ae!==void 0&&ce!==void 0&&se===void 0&&(se=CosineLawLength(ne,ae,ce)),ae!==void 0&&se!==void 0&&oe!==void 0&&ne===void 0&&(ne=CosineLawLength(ae,se,oe)),se!==void 0&&ne!==void 0&&le!==void 0&&ae===void 0&&(ae=CosineLawLength(se,ne,le))}function de(){let pe;oe!==void 0&&ne!==void 0&&pe===void 0&&(pe=sin(oe)/ne),le!==void 0&&ae!==void 0&&pe===void 0&&(pe=sin(le)/ae),ce!==void 0&&se!==void 0&&pe===void 0&&(pe=sin(ce)/se),pe!==void 0&&oe!==void 0&&ne===void 0&&(ne=sin(oe)/pe),pe!==void 0&&le!==void 0&&ae===void 0&&(ae=sin(le)/pe),pe!==void 0&&ce!==void 0&&se===void 0&&(se=sin(ce)/pe)}for(let pe=0;pe<10;pe++){if(ne!==void 0&&ae!==void 0&&se!==void 0&&oe!==void 0&&le!==void 0&&ce!==void 0)return{sideA:ne,sideB:ae,sideC:se,angleA:oe,angleB:le,angleC:ce};ue(),me(),fe(),de()}throw Should(!1,"Solve Triangle Fail!"),"never"}static Orthocentre(ee,$,_){let te=PdFoot(ee,$,_),re=PdFoot($,_,ee),[ie,ne]=Intersection(_,te,ee,re);return[cal.blur(ie),cal.blur(ne)]}static Circumcentre(ee,$,_){let[te,re,ie]=LinearFromBisector(ee,$),[ne,ae,se]=LinearFromBisector($,_),[oe,le]=Crammer(te,re,-ie,ne,ae,-se);return[cal.blur(oe),cal.blur(le)]}static Centroid(ee,$,_){let[te,re]=[(ee[0]+$[0]+_[0])/3,(ee[1]+$[1]+_[1])/3];return[cal.blur(te),cal.blur(re)]}static Incentre(ee,$,_){let te=Distance($,_),re=Distance(ee,_),ie=Distance(ee,$),ne=te+re+ie,ae=(te*ee[0]+re*$[0]+ie*_[0])/ne,se=(te*ee[1]+re*$[1]+ie*_[1])/ne;return[cal.blur(ae),cal.blur(se)]}static ScaleOrthocentreToInt(ee,$,_){let[te,re]=Orthocentre(ee,$,_),ie=numbers(te,re,...ee,...$,..._).ratioFactor();return Should(owl.num(ie),"original orthocentre must be rational"),shape2D(ee,$,_).scale(ie).toArray()}static ScaleCircumcentreToInt(ee,$,_){let[te,re]=Circumcentre(ee,$,_),ie=numbers(te,re,...ee,...$,..._).ratioFactor();return Should(owl.num(ie),"original circumcentre must be rational"),shape2D(ee,$,_).scale(ie).toArray()}static ScaleCentroidToInt(ee,$,_){let[te,re]=Centroid(ee,$,_),ie=numbers(te,re,...ee,...$,..._).ratioFactor();return Should(owl.num(ie),"original centroid must be rational"),shape2D(ee,$,_).scale(ie).toArray()}static ScaleIncentreToInt(ee,$,_){let[te,re]=Incentre(ee,$,_),ie=numbers(te,re,...ee,...$,..._).ratioFactor();return Should(owl.num(ie),"original incentre must be rational"),shape2D(ee,$,_).scale(ie).toArray()}};__decorateClass$7([checkIt(side)],Host$7,"Pyth",1),__decorateClass$7([checkIt(side),inspectIt(function($,_){return $>=_})],Host$7,"PythLeg",1),__decorateClass$7([checkIt(side,side,angle)],Host$7,"CosineLawLength",1),__decorateClass$7([checkIt(side),inspectIt(triangle_ineq)],Host$7,"CosineLawAngle",1),__decorateClass$7([checkIt(angle,side,angle)],Host$7,"SineLawLength",1),__decorateClass$7([checkIt(side,angle,side),inspectIt(function($,_,te){return sin(_)/$*te>=0&&sin(_)/$*te<=1})],Host$7,"SineLawAngle",1),__decorateClass$7([checkIt(side),inspectIt(triangle_ineq)],Host$7,"Heron",1),__decorateClass$7([checkIt(side),inspectIt(triangle_ineq)],Host$7,"SolveSSS",1),__decorateClass$7([checkIt(side,angle,side)],Host$7,"SolveSAS",1),__decorateClass$7([checkIt(angle,angle,side)],Host$7,"SolveAAS",1),__decorateClass$7([checkIt(angle,side,angle)],Host$7,"SolveASA",1),__decorateClass$7([checkIt(side,side,angle)],Host$7,"SolveSSA",1),__decorateClass$7([checkIt(side),inspectIt(triangle_ineq)],Host$7,"HeightsBySSS",1),__decorateClass$7([checkIt(side),inspectIt(triangle_ineq)],Host$7,"HeightBySSS",1),__decorateClass$7([checkIt(side,angle,side)],Host$7,"HeightsBySAS",1),__decorateClass$7([checkIt(side,angle,side)],Host$7,"HeightBySAS",1),__decorateClass$7([checkIt(owl.point2D,owl.point2D,owl.point2D,owl.bool)],Host$7,"TriangleFromVertex",1),__decorateClass$7([checkIt(owl.point2D)],Host$7,"Orthocentre",1),__decorateClass$7([checkIt(owl.point2D)],Host$7,"Circumcentre",1),__decorateClass$7([checkIt(owl.point2D)],Host$7,"Centroid",1),__decorateClass$7([checkIt(owl.point2D)],Host$7,"Incentre",1),__decorateClass$7([checkIt(owl.point2D)],Host$7,"ScaleOrthocentreToInt",1),__decorateClass$7([checkIt(owl.point2D)],Host$7,"ScaleCircumcentreToInt",1),__decorateClass$7([checkIt(owl.point2D)],Host$7,"ScaleCentroidToInt",1),__decorateClass$7([checkIt(owl.point2D)],Host$7,"ScaleIncentreToInt",1),Host$7=__decorateClass$7([exposeAll(),captureAll()],Host$7);var __defProp$6=Object.defineProperty,__getOwnPropDesc$6=Object.getOwnPropertyDescriptor,__decorateClass$6=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$6($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$6($,_,re),re};let Host$6=class{static Quadrant(ee){Array.isArray(ee)||(ee=PolToRect([1,ee]));const $=RectToPol(ee)[1];if($>=0&&$<90)return"I";if($>=90&&$<180)return"II";if($>=180&&$<270)return"III";if($>=270&&$<360)return"IV";throw Should(!1,"fail to parse quadrant!"),"never"}static PolToRect([ee,$]){return[ee*cos($),ee*sin($)]}static RectToPol([ee,$]){const _=Math.sqrt(ee*ee+$*$);let te=Math.atan2($,ee)*180/Math.PI;return te<0&&(te=te+360),[_,te]}static ASTC(ee,$){return ee=="I"&&(ee=1),ee=="II"&&(ee=2),ee=="III"&&(ee=3),ee=="IV"&&(ee=4),ee==1?1:ee==2?$==="sin"?1:-1:ee==3?$==="tan"?1:-1:ee==4?$==="cos"?1:-1:0}static TrigRoot(ee,$){if(ee=="sin"){if($>1||$<-1)return[void 0,void 0,void 0];if($==0)return[0,180,360];if($==1)return[90,void 0,void 0];if($==-1)return[270,void 0,void 0];if($>0){let _=arcsin($),te=180-_;return[_,te,void 0]}if($<0){let _=-arcsin($),te=180+_,re=360-_;return[te,re,void 0]}}if(ee=="cos"){if($>1||$<-1)return[void 0,void 0,void 0];if($==0)return[90,270,void 0];if($==1)return[0,360,void 0];if($==-1)return[180,void 0,void 0];let _=arccos($),te=360-_;return[_,te,void 0]}if(ee=="tan"){if($==0)return[0,180,360];if($>0){let _=arctan($),te=180+_;return[_,te,void 0]}if($<0){let _=-arctan($),te=180-_,re=360-_;return[te,re,void 0]}}return[void 0,void 0,void 0]}static TrigSolve(ee,$){if(ee=="sin"){if($>1||$<-1)return[];if($==0)return[0,180,360];if($==1)return[90];if($==-1)return[270];if($>0){let _=arcsin($),te=180-_;return[_,te]}if($<0){let _=-arcsin($),te=180+_,re=360-_;return[te,re]}}if(ee=="cos"){if($>1||$<-1)return[];if($==0)return[90,270];if($==1)return[0,360];if($==-1)return[180];let _=arccos($),te=360-_;return[_,te]}if(ee=="tan"){if($==0)return[0,180,360];if($>0){let _=arctan($),te=180+_;return[_,te]}if($<0){let _=-arctan($),te=180-_,re=360-_;return[te,re]}}return[]}static PolarReduce(ee){return ee=ee%360,ee<0&&(ee+=360),ee}static PolarDiff(ee,$){ee=PolarReduce(ee),$=PolarReduce($);let _=Abs(ee-$);return Math.min(_,360-_)}static WholeBearing(ee){let $=ee;return $=PolarReduce($),$=cal.blur($),$=$<=90?90-$:450-$,$=cal.blur($),$.toString().padStart(3,"0")+"\xB0"}static CompassBearing(ee){let $=ee;if($=PolarReduce($),$=cal.blur($),$===0)return"east";if($===270)return"south";if($===180)return"west";if($===90)return"north";if(0<$&&$<90)return"N"+(90-$)+"\xB0E";if(90<$&&$<180)return"N"+($-90)+"\xB0W";if(180<$&&$<270)return"S"+(270-$)+"\xB0W";if(270<$&&$<360)return"S"+($-270)+"\xB0E";throw"never"}};__decorateClass$6([checkIt(owl.or([owl.point2D,owl.num]))],Host$6,"Quadrant",1),__decorateClass$6([checkIt(owl.polar)],Host$6,"PolToRect",1),__decorateClass$6([checkIt(owl.point2D)],Host$6,"RectToPol",1),__decorateClass$6([checkIt(owl.quadrant,owl.trig)],Host$6,"ASTC",1),__decorateClass$6([checkIt(owl.trig,owl.num)],Host$6,"TrigRoot",1),__decorateClass$6([checkIt(owl.trig,owl.num)],Host$6,"TrigSolve",1),__decorateClass$6([checkIt(owl.num)],Host$6,"PolarReduce",1),__decorateClass$6([checkIt(owl.num)],Host$6,"PolarDiff",1),__decorateClass$6([checkIt(owl.int)],Host$6,"WholeBearing",1),__decorateClass$6([checkIt(owl.int)],Host$6,"CompassBearing",1),Host$6=__decorateClass$6([exposeAll(),captureAll()],Host$6);var __defProp$5=Object.defineProperty,__getOwnPropDesc$5=Object.getOwnPropertyDescriptor,__decorateClass$5=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$5($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$5($,_,re),re};let Host$5=class{static Mid3D(...ee){const $=Sum(...ee.map(re=>re[0]))/ee.length,_=Sum(...ee.map(re=>re[1]))/ee.length,te=Sum(...ee.map(re=>re[2]))/ee.length;return[$,_,te]}static Slide3D(ee,$,_){let te=_,re=1-te;return[ee[0]*re+$[0]*te,ee[1]*re+$[1]*te,ee[2]*re+$[2]*te]}static PdFoot3D(ee,$){if($.length===3){let[_,te,re]=$;return vec3D(_,ee).projectOnPlane(vec3D(_,te),vec3D(te,re)).add(_).toArray()}else if($.length===2){let[_,te]=$;return vec3D(_,ee).projectOn(vec3D(_,te)).add(_).toArray()}throw Should(!1,"base must have 2 or 3 points"),"never"}static Embed(ee,$,_,te){return toShape2D(ee).erect(_,te).translate($).toArray()}static EmbedX(ee,$=0){return Embed(ee,[$,0,0],[0,1,0],[0,0,1])}static EmbedY(ee,$=0){return Embed(ee,[0,$,0],[1,0,0],[0,0,1])}static EmbedZ(ee,$=0){return Embed(ee,[0,0,$],[1,0,0],[0,1,0])}static FlatZ(ee,$=0){return ee.map(([_,te,re])=>[_,te,$])}static Extrude(ee,$,_){let te=Math.max(ee.length,$.length),re=toShape3D(ee).padTail(te),ie=toShape3D($).padTail(te);return re.extrudeToShape(ie,_).toArray()}static Projector(ee=60,$=.5){return function(_,te,re){let ie=_+$*te*cos(ee),ne=re+$*te*sin(ee);return[ie,ne]}}static Projector3D(ee=60,$=.5){let _=function(te){let[re,ie,ne]=te,ae=re+$*ie*cos(ee),se=ne+$*ie*sin(ee);return[ae,se]};return contract(_).sign([owl.point3D])}};__decorateClass$5([checkIt(owl.vector3D)],Host$5,"Mid3D",1),__decorateClass$5([checkIt(owl.point3D,owl.point3D,owl.num)],Host$5,"Slide3D",1),__decorateClass$5([checkIt(owl.point3D,owl.point3Ds)],Host$5,"PdFoot3D",1),__decorateClass$5([checkIt(owl.point2Ds,owl.point3D,owl.vector3D,owl.vector3D)],Host$5,"Embed",1),__decorateClass$5([checkIt(owl.point2Ds,owl.num)],Host$5,"EmbedX",1),__decorateClass$5([checkIt(owl.point2Ds,owl.num)],Host$5,"EmbedY",1),__decorateClass$5([checkIt(owl.point2Ds,owl.num)],Host$5,"EmbedZ",1),__decorateClass$5([checkIt(owl.point3Ds,owl.num)],Host$5,"FlatZ",1),__decorateClass$5([checkIt(owl.point3Ds,owl.point3Ds,owl.num)],Host$5,"Extrude",1),__decorateClass$5([checkIt(owl.num,owl.num)],Host$5,"Projector3D",1),Host$5=__decorateClass$5([exposeAll(),captureAll()],Host$5);var __defProp$4=Object.defineProperty,__getOwnPropDesc$4=Object.getOwnPropertyDescriptor,__decorateClass$4=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$4($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$4($,_,re),re};let Host$4=class{static Crammer(ee,$,_,te,re,ie){const ne=ee*re-$*te,ae=(_*re-$*ie)/ne,se=(ee*ie-_*te)/ne;return[ae,se]}static xPolynomial(ee,$){const _=ee.length-1,te=$.length-1,re=_+te,ie=Array(re+1).fill(0);for(let ne=0;ne<=_;ne++)for(let ae=0;ae<=te;ae++)ie[ne+ae]+=ee[ne]*$[ae];return ie}};__decorateClass$4([checkIt(owl.num),inspectIt(function($,_,te,re,ie,ne){return $*ie-_*re!=0})],Host$4,"Crammer",1),__decorateClass$4([checkIt([owl.ntuple,function($){return $[0]!==0}])],Host$4,"xPolynomial",1),Host$4=__decorateClass$4([exposeAll(),captureAll()],Host$4);var __defProp$3=Object.defineProperty,__getOwnPropDesc$3=Object.getOwnPropertyDescriptor,__decorateClass$3=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$3($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$3($,_,re),re};let Host$3=class{static CircleGeneral(ee,$){let[_,te]=ee,re=$,ie=-2*_,ne=-2*te,ae=_**2+te**2-re**2;return[ie,ne,ae]}static CircleFromGeneral(ee,$,_){let[te,re]=[-ee/2,-$/2],ie=(ee/2)**2+($/2)**2-_;Should(ie>=0,"radius should be real");let ne=ie**.5;return[[te,re],ne]}static CircleLinearIntersect(ee,$,_){let[te,re,ie]=_,[ne,ae]=ee,se=$;if(re!==0){let oe=-te/re,le=-ie/re-ae,ce=1+oe*oe,ue=-2*ne+2*oe*le,me=ne*ne+le*le-se*se;Should(Discriminant(ce,ue,me)>=0,"no intersection");let[fe,de]=QuadraticRoot(ce,ue,me),pe=(-te*fe-ie)/re,ge=(-te*de-ie)/re,ye=[cal.blur(fe),cal.blur(pe)],be=[cal.blur(de),cal.blur(ge)];return[ye,be]}else{let oe=-ie/te,le=se*se-(oe-ne)**2;Should(le>=0,"no intersection");let ce=ae-Math.sqrt(le),ue=ae+Math.sqrt(le),me=[cal.blur(oe),cal.blur(ce)],fe=[cal.blur(oe),cal.blur(ue)];return[me,fe]}}static CircleLineIntersect(ee,$,[_,te]){let re=LinearFromTwoPoints(_,te);return CircleLinearIntersect(ee,$,re)}};__decorateClass$3([checkIt(owl.point2D,owl.positive)],Host$3,"CircleGeneral",1),__decorateClass$3([checkIt(owl.num)],Host$3,"CircleFromGeneral",1),__decorateClass$3([checkIt(owl.point2D,owl.positive,owl.triple)],Host$3,"CircleLinearIntersect",1),__decorateClass$3([checkIt(owl.point2D,owl.positive,owl.point2Ds)],Host$3,"CircleLineIntersect",1),Host$3=__decorateClass$3([exposeAll(),captureAll()],Host$3);var __defProp$2=Object.defineProperty,__getOwnPropDesc$2=Object.getOwnPropertyDescriptor,__decorateClass$2=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$2($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$2($,_,re),re};let Host$2=class{static Discriminant(ee,$,_){return $*$-4*ee*_}static QuadraticRoot(ee,$,_){const te=Discriminant(ee,$,_),re=Math.sqrt(te),ie=Divide(-$-re,2*ee),ne=Divide(-$+re,2*ee);return[Min(ie,ne),Max(ie,ne)]}static QuadraticVertex(ee,$,_){const te=Divide(-$,2*ee),re=ee*te*te+$*te+_;return[te,re]}static QuadraticFromRoot(ee,$,_){return[ee,-ee*($+_),ee*$*_]}static QuadraticFromVertex(ee,$,_){const te=-2*ee*$,re=_-ee*$*$-te*$;return[ee,te,re]}};__decorateClass$2([checkIt(owl.nonZero,owl.num,owl.num)],Host$2,"Discriminant",1),__decorateClass$2([checkIt(owl.nonZero,owl.num,owl.num),inspectIt(function($,_,te){return _**2-4*$*te>=0})],Host$2,"QuadraticRoot",1),__decorateClass$2([checkIt(owl.nonZero,owl.num,owl.num)],Host$2,"QuadraticVertex",1),__decorateClass$2([checkIt(owl.nonZero,owl.num,owl.num)],Host$2,"QuadraticFromRoot",1),__decorateClass$2([checkIt(owl.nonZero,owl.num,owl.num)],Host$2,"QuadraticFromVertex",1),Host$2=__decorateClass$2([exposeAll(),captureAll()],Host$2);var __defProp$1=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__decorateClass$1=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc$1($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp$1($,_,re),re};let Host$1=class{static LineFeat(ee,$,_){let te=-_/ee,re=-_/$;return[-ee/$,re,te]}static LinearFromIntercepts(ee,$){return lin().byIntercepts(ee,$).toLinear()}static LinearFromTwoPoints(ee,$){return lin().byTwoPoints(ee,$).toLinear()}static LinearFromPointSlope(ee,$){return lin().byPointSlope(ee,$).toLinear()}static LinearFromBisector(ee,$){return lin().byBisector(ee,$).toLinear()}static LineFromIntercepts(ee,$){return lin().byIntercepts(ee,$).toLine()}static LineFromTwoPoints(ee,$){return lin().byTwoPoints(ee,$).toLine()}static LineFromPointSlope(ee,$){return lin().byPointSlope(ee,$).toLine()}static LineFromBisector(ee,$){return lin().byBisector(ee,$).toLine()}};__decorateClass$1([checkIt(owl.nonZero,owl.nonZero,owl.num)],Host$1,"LineFeat",1),__decorateClass$1([checkIt(owl.nonZero,owl.nonZero)],Host$1,"LinearFromIntercepts",1),__decorateClass$1([checkIt(owl.point2D,owl.point2D),inspectIt(function($,_){return owl.distinct([$,_])})],Host$1,"LinearFromTwoPoints",1),__decorateClass$1([checkIt(owl.point2D,owl.num)],Host$1,"LinearFromPointSlope",1),__decorateClass$1([checkIt(owl.point2D,owl.point2D),inspectIt(function($,_){return owl.distinct([$,_])})],Host$1,"LinearFromBisector",1),__decorateClass$1([checkIt(owl.nonZero,owl.nonZero)],Host$1,"LineFromIntercepts",1),__decorateClass$1([checkIt(owl.point2D,owl.point2D),inspectIt(function($,_){return owl.distinct([$,_])}),inspectIt(function($,_){return $[0]!==_[0]})],Host$1,"LineFromTwoPoints",1),__decorateClass$1([checkIt(owl.point2D,owl.num)],Host$1,"LineFromPointSlope",1),__decorateClass$1([checkIt(owl.point2D,owl.point2D),inspectIt(function($,_){return owl.distinct([$,_])}),inspectIt(function($,_){return $[1]!==_[1]})],Host$1,"LineFromBisector",1),Host$1=__decorateClass$1([exposeAll(),captureAll()],Host$1);class MonomialCls{constructor($=0,_=[]){this.coeff=$,this.vars=_}clone(){let $=this.coeff,_=JSON.parse(JSON.stringify(this.vars));return new MonomialCls($,_)}random($,_,te){let re=()=>{let ne=new MonomialCls;ne.coeff=RndZ(1,te);for(let ae of _)_.length===1?ne.vars.push({variable:ae,power:$}):ne.vars.push({variable:ae,power:RndN(0,$)});return ne},ie=dice(re).shield(ne=>ne.degree()===$).roll();this.coeff=ie.coeff,this.vars=ie.vars}degree(){return Sum(...this.vars.map($=>$.power))}sortedVars(){return SortBy([...this.vars],$=>$.variable.charCodeAt(0))}size(){let $=this.degree(),_=1;for(let{variable:te,power:re}of this.sortedVars())_=_/10,$+=_*re;return $}signature(){return JSON.stringify(this.sortedVars())}sort(){this.vars=this.sortedVars()}print(){let $=String(this.coeff);if(this.coeff===0)return $;for(let _ of this.vars){let te=_.variable,re=_.power;re!==0&&(re===1?$+=te:$+=te+"^{"+re+"}")}return $}func(){return $=>{let _=this.coeff;for(let{variable:te,power:re}of this.vars)_=_*$[te]**re;return _}}}var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(ee,$,_,te)=>{for(var re=te>1?void 0:te?__getOwnPropDesc($,_):$,ie=ee.length-1,ne;ie>=0;ie--)(ne=ee[ie])&&(re=(te?ne($,_,re):ne(re))||re);return te&&re&&__defProp($,_,re),re};let Host=class{static Monomial(ee,$){return new MonomialCls(ee,$)}static PolyClone(ee){return ee.map($=>$.clone())}static RndPolynomial(ee,$=["x"],_=ee+1,te=9){let re=()=>{let ne=new MonomialCls;return ne.random(RndN(0,ee),$,te),ne},ie=()=>dice(re).unique(ne=>ne.size()).rolls(_);return dice(ie).shield(ne=>Max(...ne.map(ae=>ae.degree()))===ee).roll()}static PolyPrint(ee){return ee.map($=>$.print()).filter($=>$!=="0").join("+")}static PolySort(ee,$=!0){return ee=PolyClone(ee),SortBy(ee,te=>$?-te.size():te.size())}static PolyFunction(ee){return ee=PolyClone(ee),$=>Sum(...ee.map(_=>_.func()($)))}static PolyJoin(...ee){ee=ee.map(_=>PolyClone(_));let $=[];for(let _ of ee)$.push(..._);return $}static PolySimplify(ee){ee=PolyClone(ee);let $=[];function _(te){return $.find(re=>re.signature()===te.signature())}for(let te of ee){let re=_(te);re?re.coeff+=te.coeff:$.push(te)}return $.filter(te=>te.coeff!==0)}static PolyDegree(ee){return Max(...ee.map($=>$.degree()))}};__decorateClass([checkIt(owl.num,owl.array)],Host,"Monomial",1),__decorateClass([checkIt(owl.polynomial)],Host,"PolyClone",1),__decorateClass([checkIt(owl.positiveInt,owl.arrayWith(owl.str),owl.positiveInt,owl.num)],Host,"RndPolynomial",1),__decorateClass([checkIt(owl.polynomial)],Host,"PolyPrint",1),__decorateClass([checkIt(owl.polynomial,owl.bool)],Host,"PolySort",1),__decorateClass([checkIt(owl.polynomial)],Host,"PolyFunction",1),__decorateClass([checkIt(owl.polynomial)],Host,"PolyJoin",1),__decorateClass([checkIt(owl.polynomial)],Host,"PolySimplify",1),__decorateClass([checkIt(owl.polynomial)],Host,"PolyDegree",1),Host=__decorateClass([exposeAll(),captureAll()],Host);class CustomErrorCls extends Error{constructor($,_){super(_);this.name=$}}function CustomError$1(ee,$){return new CustomErrorCls(ee,$)}globalThis.CustomError=CustomError$1;function toError$1(ee){return ee instanceof Error?ee:typeof ee=="string"?CustomError$1("UnknownError",ee):CustomError$1("UnknownError",JSON.stringify(ee))}globalThis.toError=toError$1;function MathError$1(ee){return new CustomErrorCls("MathError",ee)}globalThis.MathError=MathError$1;function Should$1(ee,$="Should condition failed!"){if(!ee){let _=new Error().stack.split(`
`)[2].trim().split(" ")[1];throw _=_!=null?_:"Anonymous ",MathError$1(_+": "+$)}}globalThis.Should=Should$1;function latexAligned(ee){let $="";$+="\\begin{aligned}";for(let _ of ee)$+=_+" \\\\ ";return $+=" \\end{aligned}",$=$.replaceAll("=","&="),$=$.replaceAll("&&=","&="),$}function latexBraced(ee){return"\\left\\{"+latexAligned(ee)+"\\right."}class Equation{constructor($,_,te){this.zeroFunc=$,this.latex=_,this.dep=te}print($=[]){return this.dep.write(this.latex,$)}}const DEFAULT_UNIT={illuminance:"lx","luminous flux":"lm","overall thermal transfer value":"W m-2","thermal conductivity":"W m-1  K-1","thermal Transmittance":"W m-2 K-1","cooling capacity":"W","rate of conduction":"W",effciency:"\\%","angular speed":"rad s-1","angular displacement":"rad",time:"s",distance:"m",displacement:"m",separation:"m",speed:"m s-1",velocity:"m s-1",acceleration:"m s-2",deceleration:"m s-2",area:"m2",volume:"m3",height:"m",radius:"m",diameter:"m",length:"m",width:"m",wavelength:"m",capacitiy:"m3",angle:"\xB0",energy:"J","molar mass":"kg mol-1",mass:"kg","electromotive force":"V","specific heat capacity":"J kg-1 \xB0C-1","heat capacity":"J \xB0C-1",temperature:"\xB0C","latent heat":"J kg-1",pressure:"Pa","number of molecule":"","number of mole":"mol",force:"N",weight:"N",tension:"N","normal reaction":"N",friction:"N",moment:"N m",power:"W","gravitational field strength":"N kg-1","angular position":"\xB0",period:"s",frequency:"Hz",amplitude:"m",charge:"C",current:"A",voltage:"V",resistance:"\u03A9","electric field strength":"N C-1","potential difference":"V",resistivity:"\u03A9 m",emf:"V","e.m.f.":"V","magnetic field":"B","magnetic flux":"Wb",activity:"Bq","half-life":"s","decay constant":"s-1",density:"kg m-3",KE:"J",PE:"J"},BASE_UNITS=["rad","mol","Wb","Bq","eV","\xB0C","Pa","s","m","g","A","K","J","N","W","C","V","T","u","\u03A9"],BASE_PREFIX=["n","u","m","c","k","M","G","T",""],BASE_INDEX=["-4","-3","-2","-1","1","2","3","4"];function findUnit(ee){for(let $ in DEFAULT_UNIT)if(ee.includes($))return DEFAULT_UNIT[$]}function parseUnit(ee){let $=" "+ee+" ";for(let _ of BASE_UNITS)if(!!$.includes(_))for(let te of BASE_PREFIX)$=$.replaceAll(new RegExp("([^a-zA-z\xB0])"+te+_+"([^a-zA-z\xB0])","g"),"$1~\\text{"+te+_+"}$2");for(let _ of BASE_INDEX)$=$.replaceAll(new RegExp("([^0123456789-])"+_+"([^0123456789-])","g"),"$1^{"+_+"}$2");return $}function parseRange(ee){return Array.isArray(ee)?ee.length===2?ee:[ee[0],ee[0]]:ee>0?[ee/10,ee*10]:[ee*10,ee/10]}class Variable{constructor($,_,te,re,ie){this.sym=$,this.name=_,this.val=NaN,this.subscript="",re!=null||(re=findUnit(_)),re!=null||(re=""),this.unit=parseUnit(re),this.range=parseRange(te);let[ne,ae]=this.range;if(ne>ae)throw"[Variable] Range must have max > min";this.display=ie!=null?ie:this.sym}set($){this.val=$}round($=2){this.set(Round(this.val,$))}shake(){let $=RndT()?1.05:.95;this.set(this.val*$)}clear(){this.set(NaN)}getVal(){return this.val}widen($=.1){let[_,te]=this.range;this.range=[_-Math.abs(_*$),te+Math.abs(te*$)]}label($=""){this.subscript=String($)}symbol(){return this.subscript.length>0?this.display+"_{"+this.subscript+"}":this.display}short(){let $=cal.blur(Round(this.val,3)),_=Math.abs($);return String(_>=1e4||_<=.01?Sci($):$)}long(){return this.short()+this.unit}full(){return this.symbol()+" = "+this.long()}whole(){return"\\text{"+this.name+"} = "+this.long()}rich(){return"\\text{"+this.name+"}~"+this.symbol()+" = "+this.long()}writeSymbol($){let _=$,te=this.sym,re=this.symbol();return _=_.replaceAll("*("+te+")",re),_=_.replaceAll("*"+te,re),_=_.replaceAll("$("+te+")",re),_=_.replaceAll("$"+te,re),_}writeValue($){let _=$,te=this.sym,re=this.short(),ie=this.long();return _=_.replaceAll("*("+te+")","("+re+")"),_=_.replaceAll("*"+te,re),_=_.replaceAll("$("+te+")","("+ie+")"),_=_.replaceAll("$"+te,ie),_}}class Variables extends Array{clear(){this.forEach($=>$.clear())}widen(){this.forEach($=>$.widen())}getVals(){return this.map($=>$.getVal())}setVal($){for(let _ in $){let te=$[_];this.find(ie=>ie.sym===_).set(te)}}write($,_){let te=$;[..._].sort((ie,ne)=>ne.sym.length-ie.sym.length);for(let ie of this)te=_.includes(ie)?ie.writeValue(te):ie.writeSymbol(te);return te}compareWith($){this.forEach((_,te)=>{let re=_.getVal(),ie=$[te],ne=(Math.abs(ie)+Math.abs(re))/2,ae=(re-ie)/ne,se=1e-7,oe=0;ae>se&&(oe=1),ae<-se&&(oe=-1),_.set(oe)})}rangeObj(){let $={};for(let _ of this)$[_.sym]=_.range;return $}valObj(){let $={};for(let _ of this)$[_.sym]=_.getVal();return $}}function getVars(ee){const $=ee.toString();return $.slice($.indexOf("(")+1,$.indexOf(")")).replaceAll(" ","").split(",")}function getAllVars(ee){const $=ee.map(_=>getVars(_)).flat();return[...new Set($)]}function permute(ee){let $=[];if(ee.length===0)return[];if(ee.length===1)return[ee];for(let _=0;_<ee.length;_++){const te=ee[_],re=[...ee.slice(0,_),...ee.slice(_+1)],ie=permute(re);for(let ne of ie)$.push([te,...ne])}return $}function combinations(ee,$){if($>ee.length||$<=0)return[];if($===ee.length)return[[...ee]];if($===1)return ee.map(re=>[re]);const _=[];let te=[];for(let re=0;re<=ee.length-$+1;re++){let ie=ee.slice(re+1);te=combinations(ie,$-1);for(let ne=0;ne<te.length;ne++)_.push([ee[re],...te[ne]])}return _}function randomUniform(ee){const[$,_]=ee;return Math.random()*(_-$)+$}function randomLog(ee){const[$,_]=ee,te=Math.log10($),re=Math.log10(_),ie=randomUniform([te,re]);return 10**ie}function randomLogNeg(ee){const[$,_]=ee,te=-_,re=-$;return-randomLog([te,re])}function randomValue(ee){let[$,_]=ee;return $>0&&_>0?randomLog(ee):$<0&&_<0?randomLogNeg(ee):randomUniform(ee)}function mid$3(ee,$){return ee.map((_,te)=>(_+$[te])/2)}function equal(ee,$){return ee.every((_,te)=>_===$[te])&&ee.length===$.length}class Bisection{constructor($,_){this.equation=$,this.ranges=_,this.a=[],this.b=[],this.precision=10}randomPoint(){return this.ranges.map(randomValue)}randomSignedPoint($){for(let _=0;_<100;_++){const te=this.randomPoint();if(this.equation(...te)*$>0)return te}throw console.error("[bisection] No signed point in ranges: "+JSON.stringify(this.ranges)),""}intialize(){this.a=this.randomSignedPoint(1),this.b=this.randomSignedPoint(-1)}iterate(){const $=mid$3(this.a,this.b),_=this.equation(...$);if(!Number.isFinite(_))throw console.error("[bisection] The function value is not a finite number!"),"";_>=0&&(this.a=$),_<=0&&(this.b=$)}done(){const $=this.a.map(te=>te.toPrecision(this.precision)),_=this.b.map(te=>te.toPrecision(this.precision));return equal($,_)}assertRange(){if(!this.ranges.some(([_,te])=>te>_))throw console.error("[bisection] all variables are locked already"),""}run(){this.assertRange(),this.intialize();for(let $=0;$<100;$++)if(this.iterate(),this.done())return[...this.a];throw console.error("[bisection] fail to find tolarable solution after 100 iteration"),""}exec(){try{return this.run()}catch{throw"[bisection] An error occur during bisection."}}}function toObject(ee,$){const _={};for(let te=0;te<ee.length;te++)_[ee[te]]=$[te];return _}function narrowRange(ee,$){const _=Ze({},ee);for(let te in $){const re=$[te];te in _&&Number.isFinite(re)&&(_[te]=[re,re])}return _}function bisect(ee,$,_){const te=getVars(ee),re=narrowRange($,_),ie=te.map(se=>re[se]),ae=new Bisection(ee,ie).exec();return toObject(te,ae)}class Searcher{constructor($,_=[]){this.fs=$,this.givens=_,this.founds=new Set}reset(){this.founds=new Set(this.givens)}isFull($){return getVars($).every(_=>this.founds.has(_))}fit($){getVars($).forEach(_=>this.founds.add(_))}isFittableOrder($){this.reset();for(let _ of $){if(this.isFull(_))return!1;this.fit(_)}return!0}getFittableOrder(){for(let $ of permute(this.fs))if(this.isFittableOrder($))return $}}function getFittableOrder(ee,$){const _=[];for(let re in $){let ie=$[re];Number.isFinite(ie)&&_.push(re)}return new Searcher(ee,_).getFittableOrder()}class Fitter{constructor($,_,te){this.fs=$,this.ranges=_,this.preset=te,this.vals={},this.allVariables=getAllVars($),this.reset()}reset(){this.vals={},this.allVariables.forEach($=>this.vals[$]=NaN),this.setVals(this.preset)}setVals($){this.vals=Ze(Ze({},this.vals),$)}fitOne($){const _=bisect($,this.ranges,this.vals);this.setVals(_)}fit(){const $=getFittableOrder(this.fs,this.preset);if($===void 0)throw"There is no fittable order for this system.";for(let _=0;_<10;_++)try{return this.reset(),$.forEach(te=>this.fitOne(te)),this.vals}catch{}throw"The system is not fittable in given range."}}function fit(ee,$,_){return new Fitter(ee,$,_).fit()}class Vabe{constructor($){this.symbol=$,this.order=NaN}reset(){this.order=NaN}setZero(){this.order=0}solve($){this.order=$}solved(){return Number.isFinite(this.order)}}class Eqube{constructor($){this.vabes=$}unsolvedVabes(){return this.vabes.filter($=>!$.solved())}solved(){return this.unsolvedVabes().length===0}solvable(){return this.unsolvedVabes().length===1}orders(){return this.vabes.map($=>$.order)}realOrders(){return this.orders().filter($=>Number.isFinite($))}maxOrder(){const $=this.realOrders();return $.length===0?-1:Math.max(...$)}nextOrder(){return this.maxOrder()+1}forceSolve(){let $=this.nextOrder();for(let _ of this.unsolvedVabes())_.solve($)}trySolve(){return this.solvable()?(this.forceSolve(),!0):!1}}class PresetAnalyzer{constructor($,_,te){this.vabes=$,this.equbes=_,this.preset=te}reset(){for(let $ of this.vabes)this.preset.includes($)?$.setZero():$.reset()}trySolveNext(){for(let $ of this.equbes)if($.trySolve()===!0)return!0;return!1}exportOrder(){const $={};for(let _ of this.vabes)$[_.symbol]=_.order;return $}getTree(){this.reset();for(let $=0;$<=this.equbes.length&&this.trySolveNext();$++);return this.exportOrder()}}class Analyzer{constructor($,_){this.vabes=$,this.equbes=_}allVabeCombinations(){const $=this.vabes.length-this.equbes.length;return combinations(this.vabes,$)}getTrees(){const $=this.allVabeCombinations(),_=[];for(let te of $){const re=new PresetAnalyzer(this.vabes,this.equbes,te);_.push(re.getTree())}return _}isHealthy($){return Object.values($).every(te=>Number.isFinite(te))}getHealthyTrees(){return this.getTrees().filter($=>this.isHealthy($))}}function analyze(ee){const _=getAllVars(ee).map(ie=>new Vabe(ie)),te=[];for(let ie of ee){const ae=getVars(ie).map(oe=>_.find(le=>le.symbol===oe));let se=new Eqube(ae);te.push(se)}return new Analyzer(_,te).getHealthyTrees()}class TreeReader{constructor($){this.tree=$,this.symbols=Object.keys($),this.orders=Object.values(this.tree),this.realOrders=this.orders.filter(_=>Number.isFinite(_)),this.maxOrder=Math.max(...this.realOrders)}symbolsWithOrder($){return this.symbols.filter(_=>this.tree[_]===$)}givenSymbols(){return this.symbolsWithOrder(0)}topSymbols(){return this.symbolsWithOrder(this.maxOrder)}stepSymbols(){const $=[];for(let _=1;_<this.maxOrder;_++)$.push(...this.symbolsWithOrder(_));return $}solvedSymbols(){return[...this.stepSymbols(),...this.topSymbols()]}}class EquationReader{constructor($,_){this.f=$,this.tree=_,this.myTree={},this.symbols=getVars($);for(let te in _)this.symbols.includes(te)&&(this.myTree[te]=_[te]);this.reader=new TreeReader(this.myTree)}isActiveSolve(){const $=this.maxOrder();return $!==0&&this.symbolsWithOrder($).length===1}maxOrder(){return this.reader.maxOrder}symbolsWithOrder($){return this.symbols.filter(_=>this.tree[_]===$)}solvingSymbol(){if(!!this.isActiveSolve())return this.reader.topSymbols()[0]}givenSymbols(){return this.reader.givenSymbols()}stepSymbols(){return this.reader.stepSymbols()}}class Tracer{constructor($,_){this.tree=$,this.eqReaders=_,this.symbols=Object.keys(this.tree)}revealer($){for(let _ of this.eqReaders)if(_.solvingSymbol()===$)return _}prerequisites($){var _,te;return(te=(_=this.revealer($))==null?void 0:_.stepSymbols())!=null?te:[]}flowForOne($){const _=this.tree[$];if(_===0)return[];if(_===1)return[this.revealer($)];let te=[];for(let re of this.prerequisites($))te.push(...this.flowForOne(re));return te.push(this.revealer($)),[...new Set(te)]}flow($){let _=[];for(let te of $)_.push(...this.flowForOne(te));return[...new Set(_)]}}function solutionFlow(ee,$,_){const te=ee.map(ne=>new EquationReader(ne,$));return new Tracer($,te).flow(_).map(ne=>ne.f)}function solvingSymbol(ee,$){return new EquationReader(ee,$).solvingSymbol()}function readTree(ee){const $=new TreeReader(ee);return{maxOrder:$.maxOrder,givens:$.givenSymbols(),tops:$.topSymbols(),steps:$.stepSymbols(),solved:$.solvedSymbols()}}class EquSystem{constructor($,_){this.variables=$,this.equations=_,this.tree={},this.fs=_.map(te=>te.zeroFunc)}fit(){let $=fit(this.fs,this.variables.rangeObj(),this.variables.valObj());this.variables.setVal($)}fitAgain($){$.forEach(_=>_.clear()),$.forEach(_=>_.widen()),this.fit()}getVariables($){const _=$.map(te=>this.variables.find(re=>re.sym===te));return new Variables(..._)}getFullTree($=[]){let _=RndShuffle(...analyze(this.fs));for(let te of _){let re=readTree(te);for(let ie of RndShuffle(...re.tops))return solutionFlow(this.fs,te,[ie]).length===this.fs.length&&this.checkAvoids(re.givens,ie,$)&&(this.tree=te),{tree:te,top:this.getVariables([ie])[0],info:re}}throw"no sensible set of solvables found!"}checkAvoid($,_,te){let re=te.every(ae=>$.includes(ae)||_===ae),ie=te.includes(_);return!(re&&ie)}checkAvoids($,_,te){return te.every(re=>this.checkAvoid($,_,re))}generateSolvables($=[]){let{tree:_,top:te,info:re}=this.getFullTree($);return[this.getVariables(re.givens),this.getVariables(re.solved),te]}solInSteps($){let te=solutionFlow(this.fs,this.tree,[$.sym]).map(ae=>this.equations.find(se=>se.zeroFunc===ae)),ie=readTree(this.tree).givens.map(ae=>this.variables.find(se=>se.sym===ae)),ne="";for(let ae of te){let se=solvingSymbol(ae.zeroFunc,this.tree),oe=this.variables.find(le=>le.sym===se);ne+=latexAligned([ae.print(),ae.print(ie),oe.full()]),ne+=" \\\\~\\\\ ",ie.push(oe)}return ne}generateTrend(){let{tree:$,top:_,info:te}=this.getFullTree(),[re,...ie]=RndShuffle(...this.getVariables(te.givens)),ne=[...this.getVariables(te.solved)];ne=RndShuffle(...ne);let ae=_;this.variables.clear(),this.fit();let se=this.variables.getVals();return re.shake(),this.fitAgain(ne),this.variables.compareWith(se),[ie,re,ne,ae]}print($=[]){let _=this.equations.map(te=>te.dep.write(te.latex,$));return _.length===1?_[0]:latexBraced(_)}}function getSignature(ee){const $=ee.toString();return $.slice($.indexOf("(")+1,$.indexOf(")")).replaceAll(" ","").split(",")}function findVarBySym(ee,$){let _=$.find(te=>te.sym===ee);if(_===void 0)throw"Fail to find variable: "+ee;return _}function getDeps(ee,$){let te=getSignature(ee).map(re=>findVarBySym(re,$));return new Variables(...te)}function toVariable(ee){let[$,_,te,re,ie]=ee;return new Variable($,_,te,re,ie)}function toVariables(ee){let $=ee.map(_=>toVariable(_));return new Variables(...$)}function toEquation(ee,$){let[_,te]=ee;return new Equation(_,te,getDeps(_,$))}function toEquations(ee,$){return ee.map(_=>toEquation(_,$))}function toEquSystem(ee,$){let _=toVariables(ee),te=toEquations($,_);return new EquSystem(_,te)}function BuildSolve(ee,$,{listSym:_=!1,avoids:te=[],sigfig:re={}}={}){for(let ie=0;ie<=10;ie++)try{return BuildSolveOnce$1(ee,$,{listSym:_,avoids:te,sigfig:re})}catch(ne){if(ie===10)throw ne;continue}throw"never"}function BuildSolveOnce$1(ee,$,{listSym:_=!1,avoids:te=[],sigfig:re={}}={}){let ie=toEquSystem(ee,$);ie.fit();let[ne,ae,se]=ie.generateSolvables(te);ne.forEach(le=>le.round(re[le.sym])),ie.fitAgain(ae);function oe(){if($.length===1){let le=ie.equations[0];return latexAligned([le.print(),le.print(ne),se.full()])}else{let le="";return le+=ie.print()+" \\\\~\\\\ ",le+=ie.print(ne)+" \\\\~\\\\ ",le+=latexBraced(ae.map(ce=>ce.full())),le}}return{list:ne.map(le=>_?le.rich():le.whole()).join("\\\\"),sol:oe(),vars:ie.variables.map(le=>ne.includes(le)?le.long():le.symbol()),vals:ie.variables.map(le=>le.getVal()),unknown:[se.symbol(),se.name,se.getVal(),se.unit],ans:{val:se.getVal(),unit:se.unit}}}function BuildTrend(ee,$,_={}){let te=toEquSystem(ee,$),[re,ie,ne,ae]=te.generateTrend();function se(le){var ue;let ce=(ue=_.trends)!=null?ue:["increases","decreases","is unchanged"];return le>0?ce[0]:le===0?ce[2]:le<0?ce[1]:"[error]"}function oe(le){return le>0?0:le===0?2:le<0?1:3}return{consts:[re.map(le=>le.symbol()),re.map(le=>le.name)],agent:[ie.symbol(),ie.name,se(ie.getVal()),oe(ie.getVal())],responses:ne.map(le=>[le.symbol(),le.name,se(le.getVal()),oe(le.getVal())]),target:[ae.symbol(),ae.name,se(ae.getVal()),oe(ae.getVal())],sol:te.print()}}function BuildRatio(ee,$,_,{cases:te=["Before","After"],subscript:re=[1,2],sigfig:ie={}}={}){let ne=toEquSystem(ee,[[$,_]]),ae=ne.variables,[se,oe,...le]=RndShuffle(...ae),ce=[],ue=[];ne.fit(),se.round(ie[se.sym]),oe.round(ie[oe.sym]),ce.push(se.getVal()),ue.push(oe.getVal()),ne.fitAgain(le);for(let ve=0;ve<10&&(ne.fitAgain([se,oe]),se.round(ie[se.sym]),se.getVal()===ce[0]);ve++);ne.fitAgain([oe]),ce.push(se.getVal()),ue.push(oe.getVal());function me(ve){ve===0&&(se.label(),oe.label());let $e=re;se.label($e[ve-1]),oe.label($e[ve-1])}function fe(ve){ve!==0&&(se.set(ce[ve-1]),oe.set(ue[ve-1]))}function de(ve){me(ve),fe(ve)}function pe(ve=[],$e=[]){de(2);let[_e,Me]=ne.print($e).split("=");de(1);let[Ce,we]=ne.print(ve).split("=");return`\\dfrac{${Ce}}{${_e}}=\\dfrac{${we}}{${Me}}`}function ge(){return de(2),oe.full()}function ye(){return latexAligned([pe(),pe([se,oe],[se]),ge()])}function be(){de(1);let ve="$"+se.long(),$e="$"+oe.long();de(2);let _e="$"+se.long(),Me="$"+oe.symbol(),[Ce,we]=te;return de(0),Table({content:[["","$"+se.symbol(),"$"+oe.symbol()],[Ce,ve,$e],[we,_e,Me]],columns:"c|c:c",rows:"r|r:r"})}function xe(){return de(2),[oe.symbol(),oe.name,oe.getVal(),oe.unit]}function Se(){return de(2),{val:oe.getVal(),unit:oe.unit}}return{table:be(),sol:ye(),consts:[le.map(ve=>ve.symbol()),le.map(ve=>ve.name)],given:[se.symbol(),se.name],unknown:xe(),ans:Se()}}function BuildSolve2(ee,$,{listSym:_=!1,avoids:te=[],sigfig:re={}}={}){for(let ie=0;ie<=10;ie++)try{return BuildSolveOnce(ee,$,{listSym:_,avoids:te,sigfig:re})}catch(ne){if(ie===10)throw ne;continue}throw"never"}function BuildSolveOnce(ee,$,{listSym:_=!1,avoids:te=[],sigfig:re={}}={}){let ie=toEquSystem(ee,$);ie.fit();let[ne,ae,se]=ie.generateSolvables(te);ne.forEach(le=>le.round(re[le.sym])),ie.fitAgain(ae);function oe(){if($.length===1){let le=ie.equations[0];return latexAligned([le.print(),le.print(ne),se.full()])}else return ie.solInSteps(se)}return{list:ne.map(le=>_?le.rich():le.whole()).join("\\\\"),sol:oe(),vars:ie.variables.map(le=>ne.includes(le)?le.long():le.symbol()),vals:ie.variables.map(le=>le.getVal()),unknown:[se.symbol(),se.name,se.getVal(),se.unit],ans:{val:se.getVal(),unit:se.unit}}}globalThis.BuildSolve=BuildSolve,globalThis.BuildTrend=BuildTrend,globalThis.BuildRatio=BuildRatio,globalThis.BuildSolve2=BuildSolve2;function getAlpha(ee,$,_){let te=0;return te+=_*ee.width,te+=$,ee.data[4*te+3]}function isPainted(ee,$,_){return getAlpha(ee,$,_)!==0}function rowBlank(ee,$){for(let _=0;_<ee.width;_++)if(isPainted(ee,_,$))return!1;return!0}function colBlank(ee,$){for(let _=0;_<ee.height;_++)if(isPainted(ee,$,_))return!1;return!0}function trimCanvasX(ee){let $=ee.getContext("2d"),_=$.getImageData(0,0,ee.width,ee.height),te=0,re=_.height-1;for(;te<re&&rowBlank(_,te);)te++;for(;re>te&&rowBlank(_,re);)re--;let ie=$.getImageData(0,te,_.width,re-te+1);ee.width=ie.width,ee.height=ie.height,$.putImageData(ie,0,0)}function trimCanvasY(ee){let $=ee.getContext("2d"),_=$.getImageData(0,0,ee.width,ee.height),te=0,re=_.width-1;for(;te<re&&colBlank(_,te);)te++;for(;re>te&&colBlank(_,re);)re--;let ie=$.getImageData(te,0,re-te+1,_.height);ee.width=ie.width,ee.height=ie.height,$.putImageData(ie,0,0)}function trimCanvas(ee){trimCanvasX(ee),trimCanvasY(ee)}const QUALITY=3,INCH_SCALE=10,REM_PIXEL$1=parseFloat(getComputedStyle(document.documentElement).fontSize);function inchToPx(ee){return ee*INCH_SCALE*REM_PIXEL$1}function pxToInch(ee){return ee/INCH_SCALE/REM_PIXEL$1}class Canvas00{constructor(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.imgStore=null,this.backgroundURL=""}reset(){this.ctx.scale(QUALITY,QUALITY),this.ctx.font="normal 10px Times New Roman"}get width(){return this.canvas.width/QUALITY}set width($){this.canvas.width=$*QUALITY,this.reset()}get height(){return this.canvas.height/QUALITY}set height($){this.canvas.height=$*QUALITY,this.reset()}get widthInch(){return pxToInch(this.width)}set widthInch($){this.width=inchToPx($)}get heightInch(){return pxToInch(this.height)}set heightInch($){this.height=inchToPx($)}saveImg(){const $=this.canvas.width,_=this.canvas.height;this.imgStore=this.ctx.getImageData(0,0,$,_)}restoreImg(){this.imgStore!==null&&this.ctx.putImageData(this.imgStore,0,0)}clearImg(){const $=this.canvas.width,_=this.canvas.height;this.ctx.clearRect(0,0,$,_)}export($,_,te){let re=cloneCanvas(this.canvas);te&&trimCanvas(re);const ie=Math.floor(re.width/QUALITY),ne=Math.floor(re.height/QUALITY),ae=`src="${re.toDataURL()}"`,se=` width="${ie}"`,oe=` height="${ne}"`,le=this.backgroundURL.length===0?"":` style="background-image:url('${this.backgroundURL}');background-size:100% 100%;" `;return $.replace('src="'+_+'"',ae+se+oe+le)}}function cloneCanvas(ee){let $=ee,_=document.createElement("canvas"),te=_.getContext("2d");return _.width=$.width,_.height=$.height,te.drawImage($,0,0),_}function toPixelX(ee,$,_,te){return(te-ee)/($-ee)*_}function toPixelY(ee,$,_,te){return _-(te-ee)/($-ee)*_}class Canvas01 extends Canvas00{constructor(){super(...arguments);this.xmin=0,this.xmax=0,this.ymin=0,this.ymax=0}dx(){return this.xmax-this.xmin}dy(){return this.ymax-this.ymin}yxRatio(){return this.dy()/this.dx()}center(){let $=(this.xmin+this.xmax)/2,_=(this.ymin+this.ymax)/2;return[$,_]}edgeTop($=0){return[$,this.ymax]}edgeBottom($=0){return[$,this.ymin]}edgeLeft($=0){return[this.xmin,$]}edgeRight($=0){return[this.xmax,$]}capturePoints2D($){if($.length===0)return;let[_,...te]=$,re=_[0],ie=_[0],ne=_[1],ae=_[1];for(let[se,oe]of te)se<re&&(re=se),se>ie&&(ie=se),oe<ne&&(ne=oe),oe>ae&&(ae=oe);this.xmin=re,this.xmax=ie,this.ymin=ne,this.ymax=ae}fixCollapsedRange(){let{xmin:$,xmax:_,ymin:te,ymax:re}=this,ie=_-$,ne=re-te;ie===0&&ne===0&&(_++,$--,re++,te--),ie===0&&ne!==0&&(_+=ne/2,$-=ne/2),ie!==0&&ne===0&&(re+=ie/2,te-=ie/2),this.xmin=$,this.xmax=_,this.ymin=te,this.ymax=re}addBorder($){let _=this.dx()/this.widthInch*$,te=this.dy()/this.heightInch*$;this.xmin-=_,this.xmax+=_,this.ymin-=te,this.ymax+=te,this.widthInch+=2*$,this.heightInch+=2*$}point2DtoPx($){let[_,te]=$,re=toPixelX(this.xmin,this.xmax,this.width,_),ie=toPixelY(this.ymin,this.ymax,this.height,te);return[re,ie]}}function getCircleCorners(ee,$){let[_,te]=ee,re=$;return[[_+re,te+re],[_+re,te-re],[_-re,te+re],[_-re,te-re]]}function getSphereCorners(ee,$){let[_,te,re]=ee,ie=$;return[[_+ie,te+ie,re+ie],[_+ie,te+ie,re-ie],[_+ie,te-ie,re+ie],[_+ie,te-ie,re-ie],[_-ie,te+ie,re+ie],[_-ie,te+ie,re-ie],[_-ie,te-ie,re+ie],[_-ie,te-ie,re-ie]]}function isPoint2D(ee){return Array.isArray(ee)&&ee.length===2&&typeof ee[0]=="number"&&typeof ee[1]=="number"}function isPoint3D(ee){return Array.isArray(ee)&&ee.length===3&&typeof ee[0]=="number"&&typeof ee[1]=="number"&&typeof ee[2]=="number"}function isCircle(ee){return ee.length===2&&isPoint2D(ee[0])&&typeof ee[1]=="number"}function isSphere(ee){return ee.length===2&&isPoint3D(ee[0])&&typeof ee[1]=="number"}function thingsToPoints(ee){let $=[];for(let _ of ee){if(isPoint2D(_)){$.push(_);continue}if(isPoint3D(_)){$.push(_);continue}if(isCircle(_)){$.push(...getCircleCorners(..._));continue}if(isSphere(_)){$.push(...getSphereCorners(..._));continue}}return $}function proj(ee,$,_){let te=$*Math.PI/180,re=Math.sin(te),ie=Math.cos(te),[ne,ae,se]=ee,oe=ne+_*ae*ie,le=se+_*ae*re;return[oe,le]}function forceProj(ee,$,_){return ee.length===3?proj(ee,$,_):ee}class Canvas02 extends Canvas01{constructor(){super(...arguments);this.Proj_3D_Angle=60,this.Proj_3D_Depth=.5}pj($){return forceProj($,this.Proj_3D_Angle,this.Proj_3D_Depth)}pjs($){return $.map(_=>this.pj(_))}toPx($){let _=this.pj($);return this.point2DtoPx(_)}capture($){let _=thingsToPoints($),te=this.pjs(_);this.capturePoints2D(te)}}function segmentArray(ee){return Array.isArray(ee)?ee:typeof ee=="number"?[ee,ee]:typeof ee=="boolean"?ee?[5,5]:[]:[]}const REM_PIXEL=parseFloat(getComputedStyle(document.documentElement).fontSize);class Canvas03 extends Canvas02{constructor(){super(...arguments);this.AUTO_BORDER=!1,this.RANGE_DONE=!1,this.SIZE_DONE=!1,this.$TEXT_DIR=0,this.$TEXT_LATEX=!1,this.$ANGLE_MODE="normal",this.$LENGTH_UNIT="",this.$BORDER=.2,this.$LINE_LABEL="auto",this._$LABEL_CENTER=this.center(),this.states=[]}get $WEIGHT(){return this.ctx.lineWidth}set $WEIGHT($){this.ctx.lineWidth=$}get $COLOR(){let $=this.ctx.fillStyle;return typeof $=="string"?$:""}set $COLOR($){this.ctx.strokeStyle=$,this.ctx.fillStyle=$}get $ALPHA(){return this.ctx.globalAlpha}set $ALPHA($){this.ctx.globalAlpha=$}get $DASH(){return this.ctx.getLineDash()}set $DASH($){let _=segmentArray($);this.ctx.setLineDash(_)}get $TEXT_ALIGN(){return this.ctx.textAlign}set $TEXT_ALIGN($){this.ctx.textAlign=$}get $TEXT_BASELINE(){return this.ctx.textBaseline}set $TEXT_BASELINE($){this.ctx.textBaseline=$}get $TEXT_PIXEL(){let $=this.ctx.font.match(/(\d+)px/);return $===null?NaN:Number.parseInt($[1])}set $TEXT_PIXEL($){$=Math.round($),this.ctx.font=this.ctx.font.replace(/\d+px/g,$+"px")}get $TEXT_SIZE(){return this.$TEXT_PIXEL/REM_PIXEL}set $TEXT_SIZE($){this.$TEXT_PIXEL=$*REM_PIXEL}get $TEXT_ITALIC(){return this.ctx.font.includes("italic")}set $TEXT_ITALIC($){this.ctx.font=this.ctx.font.replace("italic ",""),$&&(this.ctx.font="italic "+this.ctx.font)}get $3D_ANGLE(){return this.Proj_3D_Angle}set $3D_ANGLE($){this.Proj_3D_Angle=$}get $3D_DEPTH(){return this.Proj_3D_Depth}set $3D_DEPTH($){this.Proj_3D_Depth=$}set $LABEL_CENTER($){let _=$.length===0;this._$LABEL_CENTER=_?this.center():mid$2(this.pjs($))}get $LABEL_CENTER(){return[this._$LABEL_CENTER]}save(){this.ctx.save(),this.states.push({$3D_ANGLE:this.$3D_ANGLE,$3D_DEPTH:this.$3D_DEPTH,$TEXT_DIR:this.$TEXT_DIR,$TEXT_LATEX:this.$TEXT_LATEX,$LABEL_CENTER:this.$LABEL_CENTER,$ANGLE_MODE:this.$ANGLE_MODE,$LENGTH_UNIT:this.$LENGTH_UNIT,$BORDER:this.$BORDER,$LINE_LABEL:this.$LINE_LABEL})}restore(){this.ctx.restore();let $=this.states.pop();$!==void 0&&(this.$3D_ANGLE=$.$3D_ANGLE,this.$3D_DEPTH=$.$3D_DEPTH,this.$TEXT_DIR=$.$TEXT_DIR,this.$TEXT_LATEX=$.$TEXT_LATEX,this.$LABEL_CENTER=$.$LABEL_CENTER,this.$ANGLE_MODE=$.$ANGLE_MODE,this.$LENGTH_UNIT=$.$LENGTH_UNIT,this.$BORDER=$.$BORDER,this.$LINE_LABEL=$.$LINE_LABEL)}}function mid$2(ee){if(ee.length===0)return[0,0];let $=0,_=0;for(let re of ee)$+=re[0],_+=re[1];let te=ee.length;return[$/te,_/te]}function rad(ee){return ee*Math.PI/180}function deg$2(ee){return ee/Math.PI*180}function dotVec$1([ee,$],[_,te]){return[_-ee,te-$]}function dir$1(ee,$){let[_,te]=dotVec$1(ee,$),re=-Math.atan2(te,_);return deg$2(re)}function scaleDot([ee,$],_){return[ee*_,$*_]}function dist(ee,$){let[_,te]=dotVec$1(ee,$);return(_*_+te*te)**.5}function addDot([ee,$],[_,te]){return[ee+_,$+te]}function scaleDotTo(ee,$){let _=dist([0,0],ee),te=$/_;return scaleDot(ee,te)}function moveDot(ee,$,_){let te=dotVec$1(ee,$),re=scaleDotTo(te,_);return addDot(ee,re)}class Canvas04 extends Canvas03{translateTo($){let[_,te]=this.toPx($);this.ctx.translate(_,te)}rotate($){this.ctx.rotate(-rad($))}rotateTo($,_){let[te,re]=this.toPx($),[ie,ne]=this.toPx(_),ae=ie-te,se=ne-re,oe=Math.atan2(se,ae);this.ctx.rotate(oe)}alignTo($,_){this.translateTo(_),this.rotateTo($,_)}moveToPx([$,_]){this.ctx.moveTo($,_)}lineToPx([$,_]){this.ctx.lineTo($,_)}createPathPx($){if(this.ctx.beginPath(),$.length===0)return;let[_,...te]=$;this.moveToPx(_);for(let re of te)this.lineToPx(re)}createShapePx($){this.createPathPx($),this.ctx.closePath()}moveTo($){let[_,te]=this.toPx($);this.ctx.moveTo(_,te)}lineTo($){let[_,te]=this.toPx($);this.ctx.lineTo(_,te)}createPath($){if(this.ctx.beginPath(),$.length===0)return;let[_,...te]=$;this.moveTo(_);for(let re of te)this.lineTo(re)}createShape($){this.createPath($),this.ctx.closePath()}createArc($,_,te){let[re,ie]=this.toPx($),[ne,ae]=te;ne=-rad(ne),ae=-rad(ae),this.ctx.beginPath(),this.ctx.arc(re,ie,_,ne,ae,!0)}createArcByPoints($,_,te,re){let ie=this.toPx($),ne=this.toPx(_),ae=this.toPx(te),se=dir$1(ne,ie),oe=dir$1(ne,ae);this.createArc(_,re,[se,oe])}createRightAnglePath($,_,te,re){let ie=this.toPx($),ne=this.toPx(_),ae=this.toPx(te),se=moveDot(ne,ie,re),oe=moveDot(ne,ae,re),le=addDot(oe,dotVec$1(ne,se));this.createPathPx([se,le,oe])}doStroke(){this.ctx.stroke()}doSolid(){let $=this.$DASH;this.$DASH=!1,this.ctx.stroke(),this.$DASH=$}doDash(){let $=this.$DASH;this.$DASH=!0,this.ctx.stroke(),this.$DASH=$}doFill(){this.ctx.fill()}doShade(){const $=.1;let _=this.$ALPHA;this.$ALPHA=$,this.ctx.fill(),this.$ALPHA=_}}function sin$1(ee){return Math.sin(ee/180*Math.PI)}function cos$1(ee){return Math.cos(ee/180*Math.PI)}function LatexWidget(ee,$,_){return ee=`\\color{${$}} `+ee,new CanvasLatex.default(ee,{displayMode:!0,debugBounds:!1,baseSize:_})}function latexTuneX(ee,$,_){return _==="left"?-ee:_==="right"?-ee-$:-ee-$/2}function latexTuneY(ee,$,_){return _==="top"?-ee:_==="bottom"?-ee-$:_==="middle"?-ee-$/2:-ee/2}function isAlphabet(ee){return ee.length===1&&ee.toLowerCase()!==ee.toUpperCase()}class Canvas05 extends Canvas04{plainPx($,_){$=String($),$!==""&&(this.save(),this.ctx.translate(..._),this.rotate(this.$TEXT_DIR),this.ctx.fillText($,0,0),this.restore())}latexPx($,_){if($=String($),$==="")return;const te=LatexWidget($,this.$COLOR,this.$TEXT_PIXEL),re=te.getBounds();if(re===null){console.error("[CanvasLatex] bounds === null! This is an unexpected error.");return}this.save(),this.ctx.translate(..._),this.rotate(this.$TEXT_DIR);let ie=latexTuneX(re.x,re.width,this.ctx.textAlign),ne=latexTuneY(re.y,re.height,this.ctx.textBaseline);this.ctx.translate(ie,ne),te.draw(this.ctx),this.restore()}textPx($,_){this.$TEXT_LATEX?this.latexPx($,_):this.plainPx($,_)}text($,_,te){let[re,ie]=this.toPx(_);re+=te[0],ie-=te[1],this.textPx($,[re,ie])}write($,_){this.text($,_,[0,0])}labelOffset($,_,te){let re=this.textSemi($),ie=(_+re-5)*cos$1(te),ne=_*sin$1(te);return[ie,ne]}label($,_,te,re){let ie=this.$TEXT_ITALIC;isAlphabet($)&&(this.$TEXT_ITALIC=!0);let ne=this.labelOffset($,te,re);this.text($,_,ne),this.$TEXT_ITALIC=ie}plainSemi($){return this.ctx.measureText($).width/2}latexSemi($){const te=LatexWidget($,this.$COLOR,this.$TEXT_PIXEL).getBounds();return te===null?0:te.width/2}textSemi($){return this.$TEXT_LATEX?this.latexSemi($):this.plainSemi($)}}function deg$1(ee){return ee/Math.PI*180}function dotVec([ee,$],[_,te]){return[_-ee,te-$]}function dir(ee,$){let[_,te]=dotVec(ee,$),re=-Math.atan2(te,_);return deg$1(re)}function vec$1(ee,$){let[_,te]=ee,[re,ie]=$;return[re-_,ie-te]}function cross2D(ee,$){let[_,te]=ee,[re,ie]=$;return _*ie-te*re}function IsReflex$1(ee,$,_){let te=vec$1($,ee),re=vec$1($,_);return cross2D(te,re)<0}function polarFlip(ee,$,_,te){let re=IsReflex$1(ee,$,_);return!!(te==="normal"&&re||te==="reflex"&&!re)}class Canvas06 extends Canvas05{getDir($,_){let te=this.toPx($),re=this.toPx(_);return dir(te,re)}getCenterDir($){let _=this.$LABEL_CENTER[0];return this.getDir(_,$)}getDirAngle($,_,te){let re=this.polarFlip($,_,te),[ie,ne]=re?[te,$]:[$,te],ae=this.getDir(_,ie),se=this.getDir(_,ne);return ae<=se?se-ae:360+se-ae}getMidDir($,_,te){let re=this.polarFlip($,_,te),[ie,ne]=re?[te,$]:[$,te],ae=this.getDir(_,ie),se=this.getDir(_,ne);return se<ae&&(se+=360),(ae+se)/2}getLineDir($,_){let te=this.getDir($,_),re=this.$LINE_LABEL;if(re==="left")return te+90;if(re==="right")return te-90;let[ie,ne,ae]=this.pjs([$,_,this.$LABEL_CENTER[0]]);return IsReflex$1(ie,ne,ae)?te-90:te+90}polarFlip($,_,te){let[re,ie,ne]=this.pjs([$,_,te]);return polarFlip(re,ie,ne,this.$ANGLE_MODE)}unitize($){if(typeof $=="number"){$=String($);let _=this.$LENGTH_UNIT;return _===""?$:this.$TEXT_LATEX?$+`~\\text{${_}}`:$+" "+_}else return $}getAngleAllowance($,_,te,re,ie){let ne=this.getDirAngle($,_,te);return Math.max(re-ne,0)*ie}}function isOdd(ee){return ee%2!=0}function floorHalf(ee){return isOdd(ee)&&(ee=ee-1),ee/2}function steps(ee){let $=floorHalf(ee),_=[];if(isOdd(ee)){_.push(0);for(let te=1;te<=$;te++)_.push(te),_.push(-te)}else for(let te=1;te<=$;te++){let re=te-.5;_.push(re),_.push(-re)}return _}function mid$1(ee,$){if(ee.length===3&&$.length===3){let[_,te,re]=ee,[ie,ne,ae]=$;return[(_+ie)/2,(te+ne)/2,(re+ae)/2]}else{let[_,te]=ee,[re,ie]=$;return[(_+re)/2,(te+ie)/2]}}class Canvas07 extends Canvas06{linePx($){this.createPathPx($),this.doStroke()}solidPx($){this.createPathPx($),this.doSolid()}line($){this.createPath($),this.doStroke()}lineVert($){let _=this.edgeBottom($),te=this.edgeTop($);this.line([_,te])}lineHori($){let _=this.edgeLeft($),te=this.edgeRight($);this.line([_,te])}solid($){this.createPath($),this.doSolid()}dash($){this.createPath($),this.doDash()}shape($){this.createShape($),this.doStroke()}fill($){this.createShape($),this.doFill()}shade($){this.createShape($),this.doShade()}arc($,_,te,re){this.createArcByPoints($,_,te,re),this.doStroke()}solidArc($,_,te,re){this.createArcByPoints($,_,te,re),this.doSolid()}circle($,_){this.createArc($,_,[0,360]),this.doStroke()}disc($,_){this.createArc($,_,[0,360]),this.doFill()}halo($,_){this.createArc($,_,[0,360]),this.doShade()}arrowHead($,_,te,re){this.save(),this.translateTo(_),this.rotateTo($,_);let ie=[re-2*te,-te],ne=[re,0],ae=[re-2*te,+te];this.solidPx([ie,ne,ae]),this.restore()}arrow($,_,te){this.line([$,_]),this.arrowHead($,_,te,0)}anglePolar($,_,te,re,ie,ne){for(let ae of steps(ie)){let se=re+ae*ne;this.solidArc($,_,te,se)}}angle($,_,te,re,ie,ne){let ae=this.polarFlip($,_,te),[se,oe]=ae?[te,$]:[$,te];this.anglePolar(se,_,oe,re,ie,ne)}rightAngle($,_,te,re){this.createRightAnglePath($,_,te,re),this.doSolid()}parallel($,_,te,re,ie){let ne=mid$1($,_);for(let ae=0;ae<re;ae++)this.arrowHead($,ne,te,ae*ie)}tick($,_,te,re){this.save(),this.translateTo(_),this.rotateTo($,_);let ie=[re,-te],ne=[re,+te];this.solidPx([ie,ne]),this.restore()}tickVert($,_){let[te,re]=$;this.tick([te-1,re],$,_,0)}tickHori($,_){let[te,re]=$;this.tick([te,re-1],$,_,0)}equalSide($,_,te,re,ie){let ne=mid$1($,_);for(let ae of steps(re))this.tick($,ne,te,ae*ie)}compass($,_,te,re){this.save(),this.translateTo($);let ie=[_,0],ne=[-_,0],ae=[0,te],se=[0,-te],oe=[-re,-te+re*2],le=[+re,-te+re*2];this.solidPx([ie,ne]),this.solidPx([se,ae]),this.solidPx([oe,se,le]),this.restore()}}const LABEL_OFFSET_PX=15,X_MARK_OFFSET_PX=15,Y_MARK_OFFSET_PX=10,TICK_LENGTH_PX=5;function getTicks(ee,$,_){const te=Math.floor(ee/_)*_,re=[];for(let ie=te;ie<=$;ie+=_)ie=parseFloat(ie.toPrecision(3)),!(ie===ee||ie===$)&&ie!==0&&re.push(ie);return re}class Canvas08 extends Canvas07{xAxis(){let $=this.edgeLeft(0),_=this.edgeRight(0);this.arrow($,_,5)}yAxis(){let $=this.edgeBottom(0),_=this.edgeTop(0);this.arrow($,_,5)}xAxisLabel($){this.save(),this.$TEXT_ALIGN="right",this.$TEXT_BASELINE="middle",this.label($,this.edgeRight(0),LABEL_OFFSET_PX,90),this.restore()}yAxisLabel($){this.save(),this.$TEXT_ALIGN="left",this.$TEXT_BASELINE="top",this.label($,this.edgeTop(0),LABEL_OFFSET_PX,0),this.restore()}xTicks($){return getTicks(this.xmin,this.xmax,$)}yTicks($){return getTicks(this.ymin,this.ymax,$)}xAxisTick($){for(let _ of this.xTicks($))this.tickVert([_,0],TICK_LENGTH_PX)}yAxisTick($){for(let _ of this.yTicks($))this.tickHori([0,_],TICK_LENGTH_PX)}xAxisTickMark($){this.save(),this.$TEXT_ITALIC=!1,this.$TEXT_ALIGN="center",this.$TEXT_BASELINE="middle";for(let _ of this.xTicks($))this.label(String(_),[_,0],X_MARK_OFFSET_PX,270);this.restore()}yAxisTickMark($){this.save(),this.$TEXT_ITALIC=!1,this.$TEXT_ALIGN="right",this.$TEXT_BASELINE="middle";for(let _ of this.yTicks($))this.label(String(_),[0,_],Y_MARK_OFFSET_PX,180);this.restore()}xAxisGrid($){this.save(),this.$COLOR="#d3d5db",this.lineVert(0);for(let _ of this.xTicks($))this.lineVert(_);this.restore()}yAxisGrid($){this.save(),this.$COLOR="#d3d5db",this.lineHori(0);for(let _ of this.yTicks($))this.lineHori(_);this.restore()}}function trace(ee,$,_=1e3){function te(se){let oe;try{oe=ee(se)}catch{return[NaN,NaN]}return Array.isArray(oe)||(oe=[se,oe]),oe}let[re,ie]=$;const ne=(ie-re)/(_-1);let ae=[];for(let se=re;se<=ie;se+=ne)ae.push(te(se));return ae}function traceCircle(ee,$,_,te=100){const[re,ie]=ee;function ne(se){return Math.sin(se/180*Math.PI)}function ae(se){return Math.cos(se/180*Math.PI)}return trace(se=>[re+$*ae(se),ie+$*ne(se)],_,te)}function splitNull(ee){let $=[],_=[...ee];for(;;){let te=_.findIndex(re=>re===null);if(te===-1){let re=_.splice(0);$.push(re);break}else{let re=_.splice(0,te);if($.push(re),_.shift(),_.length===0)break}}return $=$.filter(te=>te.length>0),$}function vec(ee,$){let[_,te]=ee,[re,ie]=$;return[re-_,ie-te]}function deg(ee){return ee/Math.PI*180}function magnitude([ee,$]){return(ee*ee+$*$)**.5}function argument([ee,$]){let _=Math.atan2($,ee),te=deg(_);return te<0&&(te+=360),te}function sectoroid(ee,$,_,te){let re=vec(ee,$),ie=vec(ee,_),ne=magnitude(re),ae=argument(re),se=argument(ie);se<ae&&(se+=360);let oe=traceCircle(ee,ne,[ae,se]);return[$,...oe,_,...te]}class Canvas09 extends Canvas08{plot($,_=this.xmin,te=this.xmax,re=1e3){let ie=trace($,[_,te],re),{xmin:ne,xmax:ae,ymin:se,ymax:oe}=this,le=ae-ne,ce=oe-se;function ue([pe,ge]){return pe>ae+le||pe<ne-le||ge>oe+ce||ge<se-ce}function me(pe){let[ge,ye]=pe;return!Number.isFinite(ge)||!Number.isFinite(ye)||ue(pe)}let fe=ie.map(pe=>me(pe)?null:pe),de=splitNull(fe);for(let pe of de)this.line(pe)}sectoroidLine($,_,te,re){let ie=sectoroid($,_,te,re);this.line(ie)}sectoroidFill($,_,te,re){let ie=sectoroid($,_,te,re);this.fill(ie)}sectoroidShade($,_,te,re){let ie=sectoroid($,_,te,re);this.shade(ie)}}function degrize(ee){return typeof ee=="number"?ee+"\xB0":ee}function mid(ee,$){if(ee.length===3&&$.length===3){let[_,te,re]=ee,[ie,ne,ae]=$;return[(_+ie)/2,(te+ne)/2,(re+ae)/2]}else{let[_,te]=ee,[re,ie]=$;return[(_+re)/2,(te+ie)/2]}}class Canvas10 extends Canvas09{labelPoint($,_,te,re){this.label($,_,re,te)}labelPointAuto($,_,te){let re=this.getCenterDir(_);this.label($,_,te,re)}labelAngle($,[_,te,re],ie,ne){let ae=degrize($),se=this.getMidDir(_,te,re);this.label(ae,te,ne,se+ie)}labelLine($,[_,te],re,ie){$=this.unitize($);let ne=mid(_,te),ae=this.getLineDir(_,te);this.label($,ne,ie,ae+re)}}class PenRange{constructor($,_){this.pen=$,this.cv=_}set([$,_],[te,re]=[$,_]){this.cv.xmin=$,this.cv.xmax=_,this.cv.ymin=te,this.cv.ymax=re,this.cv.RANGE_DONE=!0}square($,[_,te]=[0,0]){this.set([_-$,_+$],[te-$,te+$])}capture(...$){this.cv.capture($),this.cv.AUTO_BORDER=!0}extend(...$){this.capture([0,0],...$)}}class PenSize{constructor($,_){this.pen=$,this.cv=_}initSize($,_){if(!this.cv.RANGE_DONE)throw"[Pencil] Range must be set before Size";this.cv.widthInch=$,this.cv.heightInch=_,this.cv.SIZE_DONE=!0}initOuterBorder(){if(!this.cv.RANGE_DONE)throw"[Pencil] Range must be set before setting border";if(!this.cv.SIZE_DONE)throw"[Pencil] Size must be set before setting border";this.cv.addBorder(this.cv.$BORDER)}set($=1,_=$){this.initSize($,_),this.cv.AUTO_BORDER&&this.initOuterBorder(),this.pen.set.reset()}resolution($=.1,_=$){let te=this.cv.dx()*$,re=this.cv.dy()*_;this.set(te,re)}lock($=1,_=$){let te=this.cv.yxRatio();$*te<_?this.set($,$*te):this.set(_/te,_)}}class PenSettings{constructor($,_){this.pen=$,this.cv=_}weight($=1){this.cv.$WEIGHT=$}color($="black"){this.cv.$COLOR=$}alpha($=1){this.cv.$ALPHA=$}dash($=[]){this.cv.$DASH=$}textAlign($="center"){this.cv.$TEXT_ALIGN=$}textBaseline($="middle"){this.cv.$TEXT_BASELINE=$}textSize($=1){this.cv.$TEXT_SIZE=$}textItalic($=!1){this.cv.$TEXT_ITALIC=$}textDir($=0){this.cv.$TEXT_DIR=$}textLatex($=!1){this.cv.$TEXT_LATEX=$}labelCenter(...$){this.cv.$LABEL_CENTER=$}lengthUnit($=""){this.cv.$LENGTH_UNIT=$}angle($="normal"){this.cv.$ANGLE_MODE=$}projector3D($=60,_=.5){this.cv.$3D_ANGLE=$,this.cv.$3D_DEPTH=_}border($=.2){this.cv.$BORDER=$}lineLabel($="auto"){this.cv.$LINE_LABEL=$}reset(){this.weight(),this.color(),this.alpha(),this.dash(),this.textAlign(),this.textBaseline(),this.textSize(),this.textItalic(),this.textDir(),this.textLatex(),this.labelCenter(),this.lengthUnit(),this.angle(),this.lineLabel()}resetAll(){this.reset(),this.border(),this.projector3D()}}class PenD3{constructor($,_){this.pen=$,this.cv=_}axis3D($=999){this.pen.line([-$,0,0],[$,0,0]),this.pen.line([0,-$,0],[0,$,0]),this.pen.dash([0,0,-$],[0,0,$])}circle($,_,te,re,{line:ie=!0,dash:ne=!1,shade:ae=!1,fill:se=!1,arc:oe=[0,360]}={}){let le=cal.traceCircle([0,0],_,oe),ce=Embed(le,$,te,re);ie&&(this.cv.save(),ne&&this.pen.set.dash(!0),oe[1]-oe[0]>=360?this.pen.polygon(...ce):this.pen.polyline(...ce),this.cv.restore()),ae&&this.pen.polyshade(...ce),se&&this.pen.polyfill(...ce)}circleXZ($,_,{line:te=!0,dash:re=!1,shade:ie=!1,fill:ne=!1,arc:ae=[0,360]}={}){this.circle($,_,[1,0,0],[0,0,1],{line:te,dash:re,shade:ie,fill:ne,arc:ae})}circleYZ($,_,{line:te=!0,dash:re=!1,shade:ie=!1,fill:ne=!1,arc:ae=[0,360]}={}){this.circle($,_,[0,1,0],[0,0,1],{line:te,dash:re,shade:ie,fill:ne,arc:ae})}circleXY($,_,{line:te=!0,dash:re=!1,shade:ie=!1,fill:ne=!1,arc:ae=[0,360]}={}){this.circle($,_,[1,0,0],[0,1,0],{line:te,dash:re,shade:ie,fill:ne,arc:ae})}sphere($,_,{baseDash:te=!1,baseShade:re=!1,radiusLine:ie=!1,radiusDash:ne=!1,radiusLabel:ae="",lowerOnly:se=!1,upperOnly:oe=!1}={}){oe&&this.circleXZ($,_,{arc:[0,180]}),se&&this.circleXZ($,_,{arc:[180,360]}),!oe&&!se&&this.circleXZ($,_,{arc:[0,360]}),this.circleXY($,_,{line:!0,dash:te,shade:re});let le=vec3D($).add([_,0,0]).toArray();ie&&this.pen.line($,le),ne&&this.pen.dash($,le),ae.length>0&&this.pen.label.line([le,$],ae)}envelope($,_){const te=toList($),re=toList(_);let ie=(se,oe,le)=>AnglePolar(this.cv.pj(se),this.cv.pj(oe),this.cv.pj(le))<180?1:-1,ne=ie(te.cyclicAt(-1),re.cyclicAt(-1),te.cyclicAt(0)),ae=[];for(let se=0;se<te.length;se++){let oe=ie(te.cyclicAt(se),re.cyclicAt(se),te.cyclicAt(se+1));ne*oe==-1&&ae.push([te.cyclicAt(se),re.cyclicAt(se)]),ne=oe}return ae}frustum($,_,{base:te=!0,height:re=!1,shadeLower:ie=!1,shadeUpper:ne=!1,envelope:ae=!1}={}){if(owl.point3D(_)&&(_=Array($.length).fill(_)),te&&(this.pen.polygon(...$),this.pen.polygon(..._)),ae){let se=this.envelope($,_);for(let oe of se)this.pen.line(oe[0],oe[1])}else for(let se=0;se<$.length;se++)this.pen.line($[se],_[se]);if(re){let se=toShape3D(_).mean().toArray(),[oe,le,ce]=$,ue=PdFoot3D(se,[oe,le,ce]);this.pen.dash(ue,se)}ie&&this.pen.polyshade(...$),ne&&this.pen.polyshade(..._)}prismZ($,_,te,{base:re=!0,height:ie=!1,shadeLower:ne=!1,shadeUpper:ae=!1,envelope:se=!1}={}){let oe=EmbedZ($,_),le=EmbedZ($,te);this.frustum(oe,le,{base:re,height:ie,shadeLower:ne,shadeUpper:ae,envelope:se})}cylinderZ($,_,te,re,{base:ie=!0,height:ne=!1,shadeLower:ae=!1,shadeUpper:se=!1,envelope:oe=!0}={}){let le=cal.traceCircle($,_,[0,360]);this.prismZ(le,te,re,{base:ie,height:ne,shadeLower:ae,shadeUpper:se,envelope:oe})}pyramidZ($,_,te,{base:re=!0,height:ie=!1,shadeLower:ne=!1,envelope:ae=!1}={}){let se=EmbedZ($,_);this.frustum(se,te,{base:re,height:ie,shadeLower:ne,envelope:ae})}coneZ($,_,te,re,{base:ie=!0,height:ne=!1,shadeLower:ae=!1,envelope:se=!0}={}){let oe=cal.traceCircle($,_,[0,360]);this.pyramidZ(oe,te,re,{base:ie,height:ne,shadeLower:ae,envelope:se})}frustumZ($,_,te,re,{base:ie=!0,height:ne=!1,shadeLower:ae=!1,shadeUpper:se=!1,envelope:oe=!1}={}){let le=EmbedZ($,_),ce=Extrude(le,[te],re);this.frustum(le,ce,{base:ie,height:ne,shadeLower:ae,shadeUpper:se,envelope:oe})}conicalFrustumZ($,_,te,re,ie,{base:ne=!0,height:ae=!1,shadeLower:se=!1,shadeUpper:oe=!1,envelope:le=!0}={}){let ce=cal.traceCircle($,_,[0,360]);this.frustumZ(ce,te,re,ie,{base:ne,height:ae,shadeLower:se,shadeUpper:oe,envelope:le})}angleBet($,_,te){let[re,ie,ne]=$,[ae,se]=_;this.pen.line(re,ie),this.pen.line(ne,ie),this.pen.angle(re,ie,ne),te!==void 0&&this.pen.label.angle([re,ie,ne],te),ae!==void 0&&this.pen.rightAngle(re,ie,ae),se!==void 0&&this.pen.rightAngle(ne,ie,se)}height($,_,te,re){this.pen.dash($,_),this.pen.rightAngle($,_,te),this.pen.line(_,te),re!==void 0&&this.pen.label.line([$,_],re)}altitude($,_,te,re){this.pen.line($,_),this.pen.rightAngle($,_,te),this.pen.line(_,te),re!==void 0&&this.pen.label.line([$,_],re)}}class PenGraph{constructor($,_){this.pen=$,this.cv=_}circle($,_){const[te,re]=$;this.pen.plot(ie=>[te+_*cos(ie),re+_*sin(ie)],0,365)}arc($,_,te){this.cv.sectoroidLine($,_,te,[])}sector($,_,te){this.cv.sectoroidLine($,_,te,[$,_])}segment($,_,te){this.cv.sectoroidLine($,_,te,[_])}quadratic($,_,te){this.pen.plot(re=>$*re*re+_*re+te)}line($,_){const{xmin:te,xmax:re}=this.cv,ie=ne=>$*ne+_;this.pen.line([te,ie(te)],[re,ie(re)])}horizontal($){this.cv.lineHori($)}vertical($){this.cv.lineVert($)}linear($,_,te){$===0&&_!==0&&this.horizontal(-te/_),_==0&&$!==0&&this.vertical(-te/$),$!==0&&_!==0&&this.line(-$/_,-te/_)}through($,_){let te=this.cv.pj($),re=this.cv.pj(_),[ie,ne,ae]=lin().byTwoPoints(te,re).toLinear();this.linear(ie,ne,ae)}perpBisector($,_){let[te,re,ie]=lin().byBisector($,_).toLinear();this.linear(te,re,ie)}}class PenFill{constructor($,_){this.pen=$,this.cv=_}circle($,_){let te=cal.traceCircle($,_,[0,360]);this.pen.polyfill(...te)}sector($,_,te){this.cv.sectoroidFill($,_,te,[$])}segment($,_,te){this.cv.sectoroidFill($,_,te,[])}sectoroid($,_,te,re){this.cv.sectoroidFill($,_,te,re)}rect($,_){let[te,re]=$,[ie,ne]=_;this.pen.polyfill([te,re],[ie,re],[ie,ne],[te,ne])}}class PenShade{constructor($,_){this.pen=$,this.cv=_}circle($,_){let te=cal.traceCircle($,_,[0,360]);this.pen.polyshade(...te)}sector($,_,te){this.cv.sectoroidShade($,_,te,[$])}segment($,_,te){this.cv.sectoroidShade($,_,te,[])}sectoroid($,_,te,re){this.cv.sectoroidShade($,_,te,re)}rect($,_){let[te,re]=$,[ie,ne]=_;this.pen.polyshade([te,re],[ie,re],[ie,ne],[te,ne])}}class PenLabel{constructor($,_){this.pen=$,this.cv=_}point($,_="",te,re=15){te!==void 0?this.cv.labelPoint(_,$,te,re):this.cv.labelPointAuto(_,$,re)}points($){for(let _ in $)this.point($[_],_)}vertices($){this.cv.save(),this.pen.set.labelCenter(...Object.values($)),this.points($),this.cv.restore()}angle([$,_,te],re,ie=0,ne=-1){ne<0&&(ne=28+this.cv.getAngleAllowance($,_,te,40,1.5)),this.cv.labelAngle(re,[$,_,te],ie,ne)}line([$,_],te,re=0,ie=15){this.cv.labelLine(te,[$,_],re,ie)}polygon($,_){let te=this.cv.pjs($);this.cv.labelPoint(String(_),Mid(...te),0,0)}coordinates($,_,te=15){let[re,ie]=$;re=Fix(re,1),ie=Fix(ie,1);let ne=`(${re}, ${ie})`;this.point($,ne,_,te)}}class PenAxis{constructor($,_){this.pen=$,this.cv=_}x($="x"){this.cv.xAxis(),this.cv.xAxisLabel($)}y($="y"){this.cv.yAxis(),this.cv.yAxisLabel($)}xy($="x",_="y"){this.x($),this.y(_)}}class PenTick{constructor($,_){this.pen=$,this.cv=_}x($=1,_=!0){this.cv.xAxisTick($),_&&this.cv.xAxisTickMark($)}y($=1,_=!0){this.cv.yAxisTick($),_&&this.cv.yAxisTickMark($)}xy($=1,_=!0){this.x($,_),this.y($,_)}}class PenGrid{constructor($,_){this.pen=$,this.cv=_}x($=1){this.cv.xAxisGrid($)}y($=1){this.cv.yAxisGrid($)}xy($=1){this.x($),this.y($)}}class PenLinProg{constructor($,_){this.pen=$,this.cv=_}drawConstraints(...$){for(let _ of toReins($))_.canEqual()?this.pen.graph.linear(..._.toLinear()):(this.pen.set.dash(!0),this.pen.graph.linear(..._.toLinear()),this.pen.set.dash())}shadeConstraints($){let _=toReins($).polygon();this.pen.polyshade(..._)}verticesCoord($){let _=toReins($).vertices();for(let te of _)this.pen.label.coordinates(te)}}const DEFAULT_POINT_RADIUS_PIXEL=2,DEFAULT_CUTTER_LENGTH_PIXEL=5;class PenCls{constructor(){this.cv=new Canvas10,this.range=new PenRange(this,this.cv),this.size=new PenSize(this,this.cv),this.set=new PenSettings(this,this.cv),this.graph=new PenGraph(this,this.cv),this.fill=new PenFill(this,this.cv),this.shade=new PenShade(this,this.cv),this.linProg=new PenLinProg(this,this.cv),this.label=new PenLabel(this,this.cv),this.axis=new PenAxis(this,this.cv),this.tick=new PenTick(this,this.cv),this.grid=new PenGrid(this,this.cv),this.d3=new PenD3(this,this.cv),this.range.set([-5,5],[-5,5]),this.size.set(1),this.set.reset()}plot($,_,te){this.cv.plot($,_,te,1e3)}plotDash($,_,te){this.cv.save(),this.set.dash(!0),this.cv.plot($,_,te,1e3),this.cv.restore()}point($,_){this.cv.disc($,DEFAULT_POINT_RADIUS_PIXEL),_!==void 0&&this.label.point($,_)}points($){for(let _ in $)this.point($[_],_)}cutX($,_){typeof $=="number"&&($=[$,0]),this.cv.tickVert($,DEFAULT_CUTTER_LENGTH_PIXEL),_!==void 0&&this.label.point($,_,270)}cutY($,_){typeof $=="number"&&($=[0,$]),this.cv.tickHori($,DEFAULT_CUTTER_LENGTH_PIXEL),_!==void 0&&this.label.point($,_,180)}guideX($,_){let[te,re]=$;this.dash([te,0],$),_!==void 0&&(this.cutX(te),this.label.point([te,0],_,re>=0?270:90))}guideY($,_){let[te,re]=$;this.dash([0,re],$),_!==void 0&&(this.cutY(re),this.label.point([0,re],_,te>=0?180:0))}circle($,_){this.cv.circle($,_)}disc($,_){this.cv.disc($,_)}halo($,_){this.cv.halo($,_)}dot($){this.disc($,4)}hole($){this.cv.save(),this.set.color("white"),this.disc($,4),this.cv.restore(),this.circle($,4)}line($,_,te){this.cv.line([$,_]),te!==void 0&&this.label.line([$,_],te)}dash($,_,te){this.cv.dash([$,_]),te!==void 0&&this.label.line([$,_],te)}arrow($,_,te){this.cv.arrow($,_,5),te!==void 0&&this.label.line([$,_],te)}arrowCompo($,_,te,re){let ie=Move($,te,1),ne=PdFoot($,ie,_);this.arrow($,ne),re!==void 0&&this.angle(ne,$,_,re)}arrowResolve($,_,te,re){this.arrowCompo($,_,te,re),this.arrowCompo($,_,te+90)}length($,_,te){this.cv.line([$,_]),this.cv.tick($,_,5,0),this.cv.tick(_,$,5,0),te!==void 0&&this.label.line([$,_],te)}height($,[_,te],re){let ie=PdFoot(_,te,$);this.dash($,ie),this.rightAngle(_,ie,$),re!==void 0&&(vec2D($,_).cross2D(vec2D($,te))>0?this.label.line([$,ie],re):this.label.line([ie,$],re))}polyline(...$){this.cv.line($)}polygon(...$){this.cv.shape($)}polyfill(...$){this.cv.fill($)}polyshade(...$){this.cv.shade($)}polyshape(...$){this.polygon(...$),this.polyshade(...$)}angle($,_,te,re,ie=1,ne=-1){ne<0&&(ne=15+this.cv.getAngleAllowance($,_,te,40,1.5));let ae=3;this.cv.angle($,_,te,ne,ie,ae),re!==void 0&&re!==""&&this.label.angle([$,_,te],re,void 0,ne<0?ne:ne+13)}equalSide($,_,te=1){this.cv.equalSide($,_,5,te,3)}bisectSide($,_,te=1){[$,_]=this.cv.pjs([$,_]);let re=Mid($,_);this.equalSide($,re,te),this.equalSide(_,re,te)}parallel($,_,te=1){this.cv.parallel($,_,4,te,6)}rightAngle($,_,te,re=12){$=this.cv.pj($),_=this.cv.pj(_),te!=null||(te=Rotate($,90,_)),te=this.cv.pj(te),this.cv.rightAngle($,_,te,re)}compass($){this.cv.compass($,17,20,3.5)}write($,_){this.cv.write(_,$)}background($){this.cv.backgroundURL=$}export($,_){return this.cv.export($,_,!1)}exportTrim($,_){return this.cv.export($,_,!0)}clear(){this.cv.clearImg()}saveImg(){this.cv.saveImg()}restoreImg(){this.cv.restoreImg()}}class AutoPenCls{constructor(){this.pen=new Pen}export($,_){return this.pen.exportTrim($,_)}PrimeFactorization({numbers:$}){function _(ue){const me=[2,3,5,7,11,13,17,19];for(let fe of me)if(HCF(...ue)%fe==0)return fe;return 1}const te=new Pen;te.range.set([-10,10],[-15,5]),te.size.set(4);const re=1,ie=1;function ne(ue,me){for(let fe=0;fe<ue.length;fe++)te.write([me[0]+fe*re,me[1]],ue[fe].toString())}function ae(ue){te.line([ue[0]-.5*re,ue[1]-ie/2],[ue[0]-.5*re,ue[1]+ie/2])}function se(ue,me){for(let fe=0;fe<ue.length;fe++)te.line([me[0]+fe*re-.5*re,me[1]-ie/2],[me[0]+fe*re+.5*re,me[1]-ie/2])}function oe(ue,me){te.write([ue[0]-re,ue[1]],me.toString())}function le(ue,me){const fe=_(ue);return ae(me),se(ue,me),oe(me,fe),ue=ue.map(de=>de/fe),me=[me[0],me[1]-ie],ne(ue,me),[ue,me]}let ce=[1,0];for(ne($,ce);HCF(...$)>1;)[$,ce]=le($,ce);this.pen=te}Inequalities({items:$=[],ticks:_=[],scale:te=1.6,ratio:re=.5}){const ie=5,ne=2;let ae=$.map((ue,me)=>Ze({base:-me*(ne+2)},ue));const se=new Pen;se.range.set([-ie-2,ie+2],[-ae.length*(ne+2)+2,ne+1]),se.size.set(te,te*re),se.set.textLatex(!0);function oe({position:ue,sign:me,num:fe,base:de,vertical:pe}){let ge=me.includes(">")||me.includes("g"),ye=me.includes("=")||me.includes("e"),be=-ie+2*ie*ue,xe=[be,de],Se=[be,de+ne],ve=[ge?be+.4*ie:be-.4*ie,de+ne],$e=[ge?ie:-ie,de+ne],_e=[ge?ie:-ie,de];pe&&(se.set.color("grey"),se.set.dash(10),se.graph.vertical(be),se.set.color(),se.set.dash()),se.polyshade(xe,Se,$e,_e),se.arrow([-ie,de],[ie,de]),se.line(xe,Se),se.arrow(Se,ve),ye?se.dot(Se):se.hole(Se),se.label.point(xe,fe.toString(),270)}function le(ue,me){let fe=-ie+2*ie*ue,de=-(ae.length-1)*(ne+2)-ne/2;se.write([fe,de],me?"\u2714":"\u2718")}ae.forEach(ue=>oe(ue));let ce=ae.map(ue=>ue.position);ce=[0,...ce,1];for(let ue=0;ue<_.length;ue++){let me=(ce[ue]+ce[ue+1])/2;le(me,_[ue])}this.pen=se}TrigSolution({trig:$="sin",k:_=0,scale:te=1.4,ratio:re=.7}){($==="sin"||$==="cos")&&(_>2&&(_=2),.9<_&&_<1&&(_=.9),0<_&&_<.3&&(_=.3),-1<_&&_<-.9&&(_=-.9),-.3<_&&_<0&&(_=-.3),_<-2&&(_=-2)),$==="tan"&&(_>4&&(_=4),_<-4&&(_=-4),0<_&&_<.9&&(_=.9),0>_&&_>-.9&&(_=-.9));let[ie,ne,ae]=TrigRoot($,_);const se=new Pen;let oe=Max(1,Abs(_))+.2;$==="sin"&&se.range.set([-40,390],[-oe,oe]),$==="cos"&&se.range.set([-40,390],[-oe,oe]),$==="tan"&&se.range.set([-40,390],[-5,5]),se.size.set(te,te*re),se.axis.x(),se.axis.y(),($==="sin"||$==="cos")&&se.tick.x(360),$==="tan"&&se.tick.x(180),($==="sin"||$==="cos")&&(se.cutY([0,1]),se.cutY([0,-1]),se.label.point([0,1],"1",180),se.label.point([0,-1],"-1",180)),se.set.weight(1.5),$==="sin"&&se.plot(ce=>sin(ce),0,360),$==="cos"&&se.plot(ce=>cos(ce),0,360),$==="tan"&&(se.plot(ce=>tan(ce),0,360),se.set.color("grey"),se.set.dash([5,10]),se.set.weight(.7),se.graph.vertical(90),se.graph.vertical(270),se.set.color(),se.set.dash(),se.set.weight(1)),se.set.weight(1);function le(ce,ue,me,fe=""){if(ce===void 0)return;let de=0,pe=!1;me==="sin"&&([0,90,180,270,360].includes(ce)&&(pe=!0),ce>0&&ce<90&&(de=0),ce>90&&ce<270&&(de=180),ce>270&&ce<360&&(de=360)),me==="cos"&&([0,90,180,270,360].includes(ce)&&(pe=!0),ce>0&&ce<180&&ce!==90&&(de=0),ce>180&&ce<360&&ce!==270&&(de=360)),me==="tan"&&([0,90,180,270,360].includes(ce)&&(pe=!0),ce>0&&ce<180&&(de=0),ce>180&&ce<360&&(de=180));let ge=[ce,ue],ye=[ce,0],be=[de,0];se.set.color(),se.point(ge),se.set.color("red"),ue!==0&&se.arrow(ge,ye),ue>=0&&se.label.point(ye,fe,270),ue<0&&se.label.point(ye,fe,90),!pe&&(se.set.weight(3),se.set.color("blue"),se.line(be,ye),se.set.weight(1),se.set.color("red"))}se.set.color("red"),se.set.dash([5,5]),se.graph.horizontal(_),se.set.dash(),$==="sin"&&(_===0&&(le(ie,_,"sin","0"),le(ne,_,"sin","180"),le(ae,_,"sin","360")),_===1&&le(ie,_,"sin","90"),_===-1&&le(ie,_,"sin","270"),_>-1&&_<1&&_!==0&&(le(ie,_,"sin","\u03B1"),le(ne,_,"sin","\u03B2"))),$==="cos"&&(_===0&&(le(ie,_,"cos","90"),le(ne,_,"cos","270")),_===1&&(le(ie,_,"cos","0"),le(ne,_,"cos","360")),_===-1&&le(ie,_,"cos","180"),_>-1&&_<1&&_!==0&&(le(ie,_,"cos","\u03B1"),le(ne,_,"cos","\u03B2"))),$==="tan"&&(_===0&&(le(ie,_,"tan","0"),le(ne,_,"tan","180"),le(ae,_,"tan","360")),_!==0&&(le(ie,_,"tan","\u03B1"),le(ne,_,"tan","\u03B2"))),this.pen=se}QuadraticInequality({quadratic:$,sign:_,scale:te=1,ratio:re=.8}){let ie=$[0],ne=$[1],ae=$[2],se=_.includes(">")||_.includes("g"),oe=_.includes("=")||_.includes("e"),le,ce;try{[le,ce]=QuadraticRoot(ie,ne,ae)}catch{[le,ce]=[void 0,void 0]}le!==void 0&&ce!==void 0&&([le,ce]=[Max(le,ce),Min(le,ce)],le=Fix(le,2),ce=Fix(ce,2));const ue=new Pen;if(ue.range.set([-5,5],[-5,5]),ue.size.set(te,te*re),ue.set.textLatex(!0),ue.axis.x(""),le!==void 0&&ce!==void 0&&le!==ce){ue.plot(de=>Sign(ie)*(de**2-4));let me=[2,0],fe=[-2,0];ue.cutX(me),ue.cutX(fe),ue.set.weight(3),ue.set.color("red"),ie>0&&(se?(ue.plot(de=>Sign(ie)*(de**2-4),-5,-2),ue.plot(de=>Sign(ie)*(de**2-4),2,5)):ue.plot(de=>Sign(ie)*(de**2-4),-2,2)),ie<0&&(se?ue.plot(de=>Sign(ie)*(de**2-4),-2,2):(ue.plot(de=>Sign(ie)*(de**2-4),-5,-2),ue.plot(de=>Sign(ie)*(de**2-4),2,5))),ue.set.weight(),ue.set.color(),ue.label.point(me,le.toString(),ie>0?315:45),ue.label.point(fe,ce.toString(),ie>0?225:135)}if(le===void 0&&ce===void 0&&((ie>0&&se||ie<0&&!se)&&(ue.set.weight(3),ue.set.color("red")),ie>0&&ue.plot(me=>me**2+2),ie<0&&ue.plot(me=>-(me**2)-2)),le!==void 0&&ce!==void 0&&le===ce){let me=ie>0?fe=>fe**2:fe=>-(fe**2);ue.plot(me),ue.label.point([0,0],le.toString(),ie>0?270:90),ie>0&&(ue.set.weight(3),ue.set.color("red"),se&&oe&&ue.plot(me),se&&!oe&&(ue.plot(me),ue.set.color(),ue.hole([0,0])),!se&&oe&&(ue.set.color("red"),ue.dot([0,0]))),ie<0&&(ue.set.weight(3),ue.set.color("red"),!se&&oe&&ue.plot(me),!se&&!oe&&(ue.plot(me),ue.set.color(),ue.hole([0,0])),se&&oe&&(ue.set.color("red"),ue.dot([0,0])))}this.pen=ue}Triangle({vertices:$,triangle:_={},labels:te=["","",""],heights:re=[!1,!1,!1],scale:ie=1.6}){let ne=$[0],ae=$[1],se=$[2],oe=Math.max(ne[0],ae[0],se[0]),le=Math.min(ne[0],ae[0],se[0]),ce=(oe+le)/2,ue=Math.max(ne[1],ae[1],se[1]),me=Math.min(ne[1],ae[1],se[1]),fe=(ue+me)/2,de=oe-le,pe=ue-me,ge=Math.max(de,pe)*.8,ye=Mid(ne,ae,se),be=_,xe=be.sideA,Se=be.sideB,ve=be.sideC,$e=be.angleA,_e=be.angleB,Me=be.angleC,Ce=te[0],we=te[1],Ie=te[2];const ke=new Pen;ke.range.set([ce-ge,ce+ge],[fe-ge,fe+ge]),ke.size.set(ie);function Te(Le,De){let Re=PdFoot(De[0],De[1],Le);ke.set.dash([5,5]),ke.set.color("grey"),ke.line(Le,Re),Re[0]===De[0][0]&&Re[1]===De[0][1]?ke.line(Re,De[1]):ke.line(Re,De[0]),ke.set.dash(),Re[0]===De[0][0]&&Re[1]===De[0][1]?ke.rightAngle(Le,Re,De[1]):ke.rightAngle(Le,Re,De[0]),ke.set.color()}re[0]&&Te(ne,[ae,se]),re[1]&&Te(ae,[se,ne]),re[2]&&Te(se,[ne,ae]),ke.polygon(ne,ae,se),ke.set.textItalic(!0),Ce&&ke.label.point(ne,Ce.toString(),Dir(ye,ne)),we&&ke.label.point(ae,we.toString(),Dir(ye,ae)),Ie&&ke.label.point(se,Ie.toString(),Dir(ye,se)),ke.set.textItalic();let Ee=[ae[0]-ne[0],ae[1]-ne[1]],Ae=[se[0]-ae[0],se[1]-ae[1]],He=Ee[0]*Ae[1]-Ee[1]*Ae[0]>0;function Be(Le,De,Re){Le&&(typeof Le=="string"&&!/\d/.test(Le)&&ke.set.textItalic(!0),He?ke.label.line([De,Re],Le.toString()):ke.label.line([Re,De],Le.toString()),ke.set.textItalic())}Be(ve,ne,ae),Be(xe,ae,se),Be(Se,se,ne);function Fe(Le,De,Re,Ge){Le&&(typeof Le=="string"&&ke.set.textItalic(!0),typeof Le=="number"&&(Le=Le+"\xB0"),ke.angle(De,Re,Ge,Le),ke.set.textItalic())}Fe($e,ae,ne,se),Fe(_e,se,ae,ne),Fe(Me,ne,se,ae),this.pen=ke}LinearProgram({constraints:$=[],field:_=[0,0,0],contours:te=[],labelConstraints:re=[],highlights:ie=[],ranges:ne=[[-10,10],[-10,10]],resolution:ae=.2,grid:se=0,subGrid:oe=0,tick:le=0,showLine:ce=!0,showShade:ue=!0,showVertex:me=!1,showVertexCoordinates:fe=!1,showVertexLabel:de=!1,showVertexMax:pe=!1,showVertexMin:ge=!1,showIntegral:ye=!1,showIntegralLabel:be=!1,showIntegralMax:xe=!1,showIntegralMin:Se=!1,contourColor:ve="grey",constraintColors:$e=[]}){function _e(Pe){const[Ne,ze,qe]=_,[je,Ve]=Pe;return Fix(Ne*je+ze*Ve+qe,1)}let Me=FeasiblePolygon(...$),Ce=[];(ye||xe||Se)&&(Ce=FeasibleIntegral(...$));const we=new Pen;let[[Ie,ke],[Te,Ee]]=ne,Ae=.7;Ie-=Ae,ke+=Ae,Te-=Ae,Ee+=Ae,we.range.set([Ie,ke],[Te,Ee]),we.size.resolution(ae),we.axis.x(""),we.axis.y(""),se>0&&(we.set.alpha(.6),we.grid.x(se),we.grid.y(se),we.set.alpha()),oe>0&&(we.set.alpha(.4),we.grid.x(se),we.grid.y(se),we.set.alpha()),le>0&&(we.set.color("grey"),we.set.textSize(.8),we.tick.x(le),we.tick.y(le),we.set.color(),we.set.textSize());function He(){var Pe;for(let Ne=0;Ne<$.length;Ne++){let[ze,qe,je,Ve]=$[Ne];ineq(je).canEqual()||we.set.dash([5,5]),we.set.color((Pe=$e[Ne])!=null?Pe:"black"),we.graph.linear(ze,qe,-Ve),we.set.color(),we.set.dash()}}re.push((Pe,Ne)=>Pe>Ie),re.push((Pe,Ne)=>Pe<ke),re.push((Pe,Ne)=>Ne>Te),re.push((Pe,Ne)=>Ne<Ee);function Be(Pe){we.set.textAlign("left"),we.label.point(Pe,_e(Pe).toString(),60,10),we.set.textAlign()}function Fe(Pe=!1){Ce.forEach(Ne=>{we.point(Ne),Pe&&re.every(ze=>ze(...Ne))&&Be(Ne)})}function Le(Pe=!1,Ne=!1){Me.forEach(ze=>{we.point(ze),Pe&&we.label.coordinates(ze,270),Ne&&re.every(qe=>qe(...ze))&&Be(ze)})}function De(){we.polyshade(...Me)}function Re(Pe){we.graph.linear(_[0],_[1],_[2]-Pe)}function Ge(Pe=ve){we.set.color(Pe),te.forEach(Re),we.set.color()}function Oe({point:Pe=[0,0],color:Ne="red",circle:ze=!0,contour:qe=!0,coordinates:je=!0,label:Ve=!0}){we.set.color(Ne),we.point(Pe),ze&&we.circle(Pe,5),qe&&Re(_e(Pe)),je&&we.label.coordinates(Pe,270),Ve&&Be(Pe),we.set.color()}function Ue(){ie.forEach(Pe=>Oe(Pe))}ce&&He(),ye&&Fe(be),ue&&De(),me&&Le(fe,de),Ue(),Ge(),pe&&Oe({point:MaximizePoint(Me,_),color:"red"}),ge&&Oe({point:MinimizePoint(Me,_),color:"blue"}),xe&&Oe({point:MaximizePoint(Ce,_),color:"red"}),Se&&Oe({point:MinimizePoint(Ce,_),color:"blue"}),this.pen=we}DotPattern({a:$,p:_,q:te,n:re,offset:ie}){const ne=new Pen;ne.range.set([-2,30],[-4,10]),ne.size.resolution(.08);function ae(oe,le,ce=0){for(let ue=1+ce;ue<=oe+ce;ue++)ne.point([ue,le])}ae($+(re-1)*_,1);for(let oe=2;oe<=re;oe++)ae(te+(re-oe)*_,oe,(oe-1)*ie);let se="";re===1&&(se="1st"),re===2&&(se="2nd"),re===3&&(se="3rd"),re>=3&&(se=re+"th"),ne.write([(1+$+(re-1)*_)/2,-1],se+" pattern"),this.pen=ne}PieChart({categories:$,labels:_,angles:te,angleLabels:re,size:ie=2}){var oe;const ne=new Pen;ne.range.set([-1.2,1.2],[-1.2,1.2]),ne.size.set(ie),ne.graph.circle([0,0],1),ne.set.angle("polar");let ae=[0,0];ne.line(ae,[1,0]);let se=0;for(let le=0;le<te.length;le++){let ce=te[le],ue=se+ce,me=se+ce/2;ne.line(ae,PolToRect([1,ue])),$[le]===""?ne.write(PolToRect([.7,me]),_[le]):_[le]===""?ne.write(PolToRect([.7,me]),$[le]):(ne.label.point(PolToRect([.7,me]),$[le],90,10),ne.label.point(PolToRect([.7,me]),_[le],270,10)),re[le]!==void 0&&ne.angle(PolToRect([1,se]),ae,PolToRect([1,ue]),(oe=re[le])!=null?oe:te[le]+"\xB0"),se+=ce}this.pen=ne}HeightChart({categories:$,data:_,xLabel:te="",yLabel:re="",interval:ie=5,subInterval:ne=1,barWidth:ae=1,barGap:se=1,showBar:oe=!1,showLine:le=!1}){const ce=new Pen;let ue=ae+se/2,me=ue+$.length*(ae+se)+ue,fe=Max(..._),de=Ceil(fe/ie),pe=de*(ie/ne),ge=de*ie*1.1;ce.range.set([-me*.5,me],[-ge,ge]),ce.size.resolution(.2,1.4/ge),ce.line([0,0],[me,0]),ce.arrow([0,0],[0,ge]),ce.set.textDir(90),ce.write([-1.5,ge/2],re),ce.set.textDir(),ce.label.point([me/2,0],te,270,40);function ye(Se){ce.line([0,Se],[me,Se])}for(let Se=1;Se<=de;Se++){let ve=Se*ie;ce.set.alpha(.2),ye(ve),ce.cutY([0,ve]),ce.set.alpha(),ce.label.point([0,ve],ve.toString(),180)}for(let Se=1;Se<=pe;Se++)ce.set.alpha(.1),ye(Se*ne),ce.set.alpha();function be(Se,ve,$e){ce.set.color("grey"),ce.polyfill([Se,0],[Se,$e],[Se+ve,$e],[Se+ve,0]),ce.set.color(),ce.polygon([Se,0],[Se,$e],[Se+ve,$e],[Se+ve,0])}function xe(Se,ve,$e){ce.label.point([Se+ve/2,0],$e,270,15)}if(oe)for(let Se=0;Se<$.length;Se++){let ve=ue+Se*(ae+se)+se/2;be(ve,ae,_[Se]),xe(ve,ae,$[Se])}if(le){let Se=[];for(let ve=0;ve<$.length;ve++){let $e=ue+ve*(ae+se)+se/2,_e=[$e+ae/2,_[ve]];ce.point(_e),Se.push(_e),xe($e,ae,$[ve])}ce.set.weight(2),ce.polyline(...Se),ce.set.weight()}this.pen=ce}Boxplot({summary:$=[0,0,0,0,0],labels:_=[null,null,null,null,null],size:te=2,tick:re=1,start:ie,end:ne,showDash:ae=!1,showValue:se=!1,showTick:oe=!1}){var Le,De,Re,Ge,Oe;const le=new Pen;let[ce,ue,me,fe,de]=$,pe=ae?1:.5,ge=1,ye=pe,be=ye+ge,xe=(ye+be)/2,Se=[ce,xe],ve=[de,xe],$e=[ue,be],_e=[ue,ye],Me=[ue,xe],Ce=[me,be],we=[me,ye],Ie=[fe,be],ke=[fe,ye],Te=[fe,xe],Ee=[ce,0],Ae=[de,0],He=[ue,0],Be=[me,0],Fe=[fe,0];ie!=null||(ie=ce-(de-ce)*.2),ne!=null||(ne=de+(de-ce)*.2),le.range.set([ie,ne],[-(be+1),be+1]),le.size.set(te,1),oe&&le.tick.x(re),le.axis.x(""),le.polygon($e,_e,ke,Ie),le.line(Ce,we),le.line(Se,Me),le.line(ve,Te),ae&&(le.dash(Se,Ee),le.dash(_e,He),le.dash(we,Be),le.dash(ke,Fe),le.dash(ve,Ae)),se&&(le.cutX(Ee),le.label.point(Ee,(Le=_[0])!=null?Le:String(ce),270),le.cutX(He),le.label.point(He,(De=_[1])!=null?De:String(ue),270),le.cutX(Be),le.label.point(Be,(Re=_[2])!=null?Re:String(me),270),le.cutX(Fe),le.label.point(Fe,(Ge=_[3])!=null?Ge:String(fe),270),le.cutX(Ae),le.label.point(Ae,(Oe=_[4])!=null?Oe:String(de),270)),this.pen=le}RegularPolygon({side:$,diagonal:_=!1,reflectional:te=!1,rotational:re=!1}){const ie=new Pen;ie.range.square(1.3),ie.size.set(1.5);let ne=RegularPolygon($,[0,0],1,0);if(ie.polygon(...ne),_){ie.set.alpha(.3);for(let ae=0;ae<$;ae++)for(let se=ae+1;se<$;se++)ie.line(ne[ae],ne[se]);ie.set.alpha()}if(te){if(ie.set.alpha(.5),ie.set.dash(!0),$%2==0){ie.set.color("red");for(let ae=0;ae<$;ae+=2)ie.graph.through([0,0],PolToRect([1,ae*180/$]));ie.set.color("blue");for(let ae=1;ae<$;ae+=2)ie.graph.through([0,0],PolToRect([1,ae*180/$]))}else for(let ae=0;ae<$;ae++)ie.graph.through([0,0],PolToRect([1,ae*180/$]));ie.set.alpha(),ie.set.dash()}if(re)for(let ae=0;ae<$;ae++)ie.line(ne[ae],[0,0]);this.pen=ie}TreeDiagram({titles:$,probabilities:_,events:te,select:re,circleSize:ie}){const ne=new Pen;ne.range.set([-5,15],[-12,12]),ne.size.resolution(.12);function ae(Se,ve,$e,_e,Me,Ce){let we=MoveX(ve,2);ne.write(we,_e),ne.line(Se,ve,$e),Me&&(ne.set.weight(3),ne.line(Se,ve,$e),Ce&&ne.halo(we,ie!=null?ie:30),ne.set.weight())}function se(Se,ve,$e,_e,Me,[Ce,we],[Ie,ke],Te,[Ee,Ae]=["",0]){let He=MoveX(Se,ve),Be,Fe;typeof Me=="number"?(Be=String(Round(Me,5)),Fe=String(Round(1-Me,5))):(Be=Me[0],Fe=Me[1]);let Le=MoveY(Se,$e),De=MoveY(He,_e);ae(Le,De,Be,Ce,Ie,Te);let Re=MoveY(Se,-$e),Ge=MoveY(He,-_e);if(ae(Re,Ge,Fe,we,ke,Te),Ee&&Ae){let Oe=Mid(Se,He),Ue=MoveY(Oe,Ae);ne.write(Ue,Ee)}}let oe=re.includes(1),le=re.includes(2),ce=re.includes(3),ue=re.includes(4),[me,fe]=$,[[de],[pe,ge]]=_,[[ye],[be,xe]]=te;se([0,0],2,2,4,de,ye,[oe||le,ce||ue],!1,[me,8]),se([6,4],3,1,2,pe,be,[oe,le],!0,[fe,5]),se([6,-4],3,1,2,ge,xe,[ce,ue],!0),this.pen=ne}}class PhyPenCls{constructor(){this.pen=new Pen}export($,_){return this.pen.exportTrim($,_)}Projectile({speed:$,angle:_=0,time:te,arrowScale:re=.5,ground:ie=!1}){let ne=new Pen,ae=$*cos(_),se=$*sin(_);te!=null||(te=2*se/9.81);let oe=fe=>ae*fe,le=fe=>se*fe-.5*9.81*fe*fe,ce=[0,0],ue=[ae*re,se*re],me=[oe(te),le(te)];ne.range.capture(ce,ue,me),ne.size.lock(1.5),ne.disc(ce,5),ne.arrow(ce,ue),ne.set.color("grey"),ne.plotDash(fe=>[oe(fe),le(fe)],0,te),ne.circle(me,5),ie&&ne.graph.horizontal(0),this.pen=ne}CarOnBankedRoad({carMid:$=10,carWidth:_=3,wheelHeight:te=1,carHeight:re=2,angle:ie=25,angleLabel:ne="\u03B8",weight:ae=4,weightLabel:se="mg",normal:oe=5,normalLabel:le="R",friction:ce=0,frictionLabel:ue="f",showAllForces:me=!1}){let fe=[0,0],de=$-_/2,pe=$+_/2,ge=[de,0],ye=[pe,0],be=MoveY(ge,te),xe=MoveY(be,re),Se=MoveY(ye,te),ve=MoveY(Se,re);[ge,ye,be,xe,Se,ve]=[ge,ye,be,xe,Se,ve].map(Ee=>Rotate(Ee,ie,fe));let $e=[2*pe,0],_e=Rotate($e,ie,fe),Me=Mid(be,xe,Se,ve),Ce=MoveY(Me,-ae),we=Move(Me,90+ie,oe),Ie=ce>0?ge:ye,ke=Move(Ie,ce>0?180+ie:ie,Math.abs(ce)),Te=new Pen;Te.range.capture(fe,ge,ye,be,xe,Se,ve,we,ke),Te.size.lock(1.3),Te.set.labelCenter(Me),Te.set.textLatex(!0),Te.polygon(be,xe,ve,Se),Te.line(fe,$e),Te.line(fe,_e),Te.angle(_e,fe,$e,ne),Te.set.weight(4),Te.line(ge,be),Te.line(ye,Se),me&&(Te.set.weight(3),Te.set.color("red"),Te.set.lineLabel("left"),Te.arrow(Me,Ce,se),Te.set.lineLabel(),Te.set.weight(3),Te.set.color("purple"),Te.arrow(Me,we),Te.label.point(we,le),Te.set.weight(2),Te.arrowResolve(Me,we,90,ne),ce!==0&&(Te.set.weight(3),Te.set.color("blue"),Te.arrow(Ie,ke),Te.label.point(ke,ue),Te.set.weight(2),Te.arrowResolve(Ie,ke,0,ne))),this.pen=Te}AirplaneTurning({wingWidth:$=7,planeRadius:_=1,angle:te=35,angleLabel:re="\u03B8",weight:ie=4,weightLabel:ne="mg",lift:ae=5,liftLabel:se="L",showAllForces:oe=!1}){let le=[0,0],ce=[-$,0],ue=[+$,0];[ce,ue]=[ce,ue].map(pe=>Rotate(pe,te,le));let me=MoveY(le,-ie),fe=Move(le,90+te,ae),de=new Pen;de.range.capture(ce,ue,me,fe),de.size.lock(1.3),de.set.labelCenter(le),de.set.textLatex(!0),de.graph.circle(le,_),de.shade.circle(le,_),de.set.weight(3),de.line(ce,ue),de.set.weight(),de.set.dash(!0),de.graph.horizontal(0),de.set.dash(),de.angle(ue,le,[1,0],re),oe&&(de.set.weight(3),de.set.color("red"),de.set.lineLabel("left"),de.arrow(le,me,ne),de.set.lineLabel(),de.set.weight(3),de.set.color("purple"),de.arrow(le,fe),de.label.point(fe,se),de.set.weight(2),de.arrowResolve(le,fe,90,re)),this.pen=de}ConicalPendulum({bobRadius:$=1,length:_=15,angle:te=50,angleLabel:re="\u03B8",weight:ie=7,weightLabel:ne="mg",tension:ae=10,tensionLabel:se="T",showAllForces:oe=!1}){let le=[0,0],ce=Rotate([0,-_],te,le),ue=[0,ce[1]],me=MoveY(ce,-ie),fe=Move(ce,90+te,ae),de=new Pen;de.set.border(.3),de.range.capture(le,ce,ue,ReflectY(ce),me),de.size.lock(1.3),de.set.textLatex(!0),de.set.color("grey"),de.plotDash(pe=>[ce[0]*cos(pe)+ue[0],1*sin(pe)+ue[1]],0,360),de.set.color(),de.dash(le,ue),de.line(le,ce),de.fill.circle(ce,$),de.angle(ce,le,ue,re),oe&&(de.set.color("red"),de.set.weight(3),de.arrow(ce,me,ne),de.set.color("blue"),de.arrow(ce,fe),de.set.weight(2),de.arrowResolve(ce,fe,90,re),de.set.weight(),de.label.point(fe,se)),this.pen=de}SatelliteOrbit({planetRadius:$=1.3,orbitRadius:_=2,angle:te=30,showHeight:re=!1}){let ie=new Pen,ne=[0,0],ae=PolToRect([_,te]),se=PolToRect([_,-te]),oe=[-$,0],le=PolToRect([$,te]),ce=[0,-$];ie.range.capture([ne,_]),ie.size.set(1.2),ie.shade.circle(ne,$),ie.graph.circle(ne,$),ie.label.point(ce,"M",270),ie.point(ae,"m"),ie.point(ne),re&&(ie.set.color("red"),ie.line(le,ae,"h")),ie.set.color("blue"),ie.line(ne,se,"r"),ie.set.color("grey"),ie.line(ne,oe,"R"),ie.set.color(),ie.set.dash(!0),ie.graph.circle(ne,_),this.pen=ie}}globalThis.Pen=PenCls,globalThis.AutoPen=AutoPenCls,globalThis.PhyPen=PhyPenCls;class QuestionHTML{constructor($=""){this.body=new DOMParser().parseFromString($,"text/html").getElementsByTagName("body")[0]}export(){return this.body.innerHTML}get li(){return[...this.body.getElementsByTagName("li")]}get ul(){return this.body.getElementsByTagName("ul")[0]}cloneLi($,_=1){for(let te=1;te<=_;te++)this.ul.appendChild(this.li[$].cloneNode(!0))}printInWhole($,_){this.body.innerHTML=PrintVariable(this.body.innerHTML,$,_)}printInLi($,_,te){let re=this.li[$];re.innerHTML=PrintVariable(re.innerHTML,_,te)}isLiDuplicated(){let $=this.li.map(_=>_.innerHTML.replace(/\s+/g,""));return new Set($).size!==$.length}shuffleLi($=!0){let _=this.li.map(re=>re.innerHTML),te;$?te=RndShuffle(..._):te=[..._];for(let re=0;re<te.length;re++)this.li[re].innerHTML=te[re];return _.map(re=>te.indexOf(re))}}function PrintVariable(ee,$,_){let te=(re,ie,ne="")=>{ee=ee.replace(new RegExp(ie+$+ne,"g"),()=>ParseForPrint(_,re))};return te("*","\\*\\*"),te("/","\\*\\/"),te("//","\\*\\/\\/"),te("/()","\\*\\/\\(","\\)"),te("()","\\*\\(","\\)"),te("!","\\*\\!"),te("||","\\*\\|","\\|"),te("+","\\*\\^\\+\\_"),te("-","\\*\\^\\-\\_"),te(">","\\*\\^\\\\gt\\_"),te("<","\\*\\^\\\\lt\\_"),te(">=","\\*\\^\\\\ge\\_"),te("<=","\\*\\^\\\\le\\_"),te("%","\\*\\%"),te("\\%","\\*\\\\\\%"),te(":","\\*\\:"),te("","\\*"),te("|.","\\*\\|\\."),te(".","\\*\\."),te("=","\\*\\="),te("==","\\*\\=\\="),te("=.","\\*\\=\\."),te("==.","\\*\\=\\=\\."),ee}function numberDefault(ee){let $=ee;return owl.zero($)?0:(IsInteger($)?$=Fix($,0):$=Math.abs($)>100?Fix($,2):Round($,5),$)}function ParseForPrint(ee,$=""){let _=typeof ee;if($===""){if(_==="number")return String(numberDefault(ee));if(_==="boolean")return ee?"\u2714":"\u2718";if(owl.quantity(ee)){let{val:te,unit:re}=ee;return String(numberDefault(te))+re}if(owl.point2D(ee))return Coord(ee);if(owl.combo(ee))return ink.printCombo(ee);if(owl.polynomial(ee))return PolyPrint(ee);if(owl.trigValue(ee))return ink.printTrigValue(ee);if(owl.trigExp(ee))return ink.printTrigExp(ee);if(owl.constraint(ee))return ink.printConstraint(ee);if(owl.constraints(ee))return ink.printConstraints(ee)}if($==="*"){if(_==="number"){let te=cal.blur(Round(ee,3)),re=Math.abs(te);return String(re>=1e4||re<=.01?Sci(te):te)}if(owl.quantity(ee)){let{val:te,unit:re}=ee,ie=cal.blur(Round(te,3)),ne=Math.abs(ie);return String(ne>=1e4||ne<=.01?Sci(ie):ie)+re}}if($==="/"&&_==="number"){let[te,re]=ToFrac(ee);return Dfrac(te,re)}if($==="/()"&&_==="number"){let[te,re]=ToFrac(ee);return re===1&&te>=0?Dfrac(te,re):re===1&&te<0?"("+Dfrac(te,re)+")":"\\left ( "+Dfrac(te,re)+" \\right )"}if($==="//"&&_==="number"){let[te,re]=ToFrac(ee);return Dfrac(te,re).replace(/dfrac/g,"frac")}if($==="()"&&_==="number"){let te=numberDefault(ee);return String(te>=0?te:"("+te+")")}if($==="!"){if(_==="number")return ink.printSurd(ee);if(owl.point2D(ee)){let[te,re]=ee;return"("+ink.printSurd(te)+","+ink.printSurd(re)+")"}}if($==="+"&&_==="number")return ee>=0?"+":"-";if($==="-"&&_==="number")return ee>=0?"-":"+";if($==="||"&&_==="number")return String(numberDefault(Math.abs(ee)));if($===">"){if(_==="boolean")return ee?"\\gt":"\\lt";if(_==="number")return ee>0?"\\gt":ee<0?"\\lt":"="}if($==="<"){if(_==="boolean")return ee?"\\lt":"\\gt";if(_==="number")return ee>0?"\\lt":ee<0?"\\gt":"="}if($===">="){if(_==="boolean")return ee?"\\ge":"\\le";if(_==="number")return ee>0?"\\ge":ee<0?"\\le":"="}if($==="<="){if(_==="boolean")return ee?"\\le":"\\ge";if(_==="number")return ee>0?"\\le":ee<0?"\\ge":"="}if($==="%"&&_==="number")return numberDefault(ee*100)+"%";if($==="\\%"&&_==="number")return numberDefault(ee*100)+"\\%";if($===":"){if(owl.ntuple(ee))return toNumbers(ee).ratio().join(":");if(_==="number"){let[te,re]=cal.toFraction(ee);return te+":"+re}}if($==="|."&&owl.array(ee))return ink.printOrTrigRoots(ee);if($==="."&&owl.point2D(ee))return ink.printPointPolar(ee);if($==="="&&owl.labeledValue(ee)){let te=[...ee];return te[0]=numberDefault(te[0]),ink.printLabeledValue(te,1,!1)}if($==="=="&&owl.labeledValue2(ee)){let te=[...ee];return te[0]=numberDefault(te[0]),ink.printLabeledValue(te,2,!1)}if($==="=."&&owl.labeledValue(ee)){let te=[...ee];return te[0]=numberDefault(te[0]),ink.printLabeledValue(te,1,!0)}if($==="==."&&owl.labeledValue2(ee)){let te=[...ee];return te[0]=numberDefault(te[0]),ink.printLabeledValue(te,2,!0)}return String(ee)}function detectVarErr(ee){return ee instanceof Error&&ee.message==="Cannot convert a Symbol value to a number"?CustomError("VariableError","A variable is used before a value is defined."):ee}function evaluate(code,context){let{a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z}=context.dict,sections=context.sections,answer=context.answer,options=context.options,shuffle=context.shuffle,question=context.qn,solution=context.sol,result;try{result=eval(code)}catch(ee){throw detectVarErr(ee)}typeof answer=="number"&&(answer=["A","B","C","D"][answer]),context.dict.update({a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z});let newContext={dict:context.dict,sections,answer,options,shuffle,qn:question,sol:solution};return{result,context:newContext}}function htmlDecode(ee){return ee.replace(/&amp;|&lt;|&gt;|&#39;|&quot;/g,$=>({"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&quot;":'"'})[$]||$)}function evalInline(code,dict){code=htmlDecode(code);try{return eval(code)}catch(ee){throw detectVarErr(ee)}}function intrapolate(ee,$){function _(te,re){ee=ee.replace(new RegExp(String.raw`\*${re}\\\{([^\{\}]*)\\\}`,"g"),(ie,ne)=>{let ae=evalInline(ne);return ParseForPrint(ae,te)}),ee=ee.replace(new RegExp(String.raw`\*${re}\{([^\{\}]*)\}`,"g"),(ie,ne)=>{let ae=evalInline(ne);return ParseForPrint(ae,te)})}return _("",""),_("/","\\/"),_("*","\\*"),ee}function DropVersion(ee,$,_){let te=$+"."+_;return ee.replace(new RegExp("<p>##"+te+"<\\/p>((\\s|\\S)(?!##))*<p>##<\\/p>","g"),"")}function DropTags(ee){return ee=ee.replace(new RegExp("<[^#<]*##[^#>]*>","g"),""),ee}function KeepVersion(ee,$,_){for(let te=0;te<10;te++)te!==_&&(ee=DropVersion(ee,$,te));return ee}function ExecSection(ee,$,_){for(let te=0;te<$.length;te++){let[re,ie]=$[te];ee=KeepVersion(ee,re.toString(),ie)}return ee=DropCondition(ee),ee=DropTags(ee),ee}function DropCondition(ee,$){return ee.replace(new RegExp("<p>##{([^{}]*)}<\\/p>((\\s|\\S)(?!##))*<p>##<\\/p>","g"),(_,te)=>evalInline(te)?_:"")}function or(...ee){return"("+ee.join("|")+")"}const s=String.raw`(?:\s|&nbsp;)*`,p=String.raw`\+`,m=String.raw`\-`,e=String.raw`(?:\=|\>|\<|&lt;|&gt;|\\ge|\\le|\\gt|\\lt)`,l=String.raw`[\(\[\{]`,r=String.raw`[\)\]\}]`,pl=String.raw`[\(\[]`,c=String.raw`\,`,v=String.raw`(?:[A-Za-z]|\\alpha|\\beta|\\theta|\\phi|\\pi|\\sigma|\\mu|||||||)`,f=String.raw`(?:\\sin|\\cos|\\tan|\\log|\\ln)`,sl=String.raw`\\`,left=String.raw`\\left`,sq=String.raw`\\sqrt`,endtag=String.raw`(?=[^<>]*</span>)`;function regReplace(ee,$,_){return ee.replace(new RegExp($,"g"),_)}function handleSigns(ee){return ee=regReplace(ee,p+s+m,"-"),ee=regReplace(ee,m+s+p,"-"),ee=regReplace(ee,or(l,e,c)+s+m+s+m,"$1"),ee=regReplace(ee,"(,)"+s+m+s+m,"$1"),ee=regReplace(ee,m+s+m,"+"),ee=regReplace(ee,m+s+m,"+"),ee}function handlePower(ee){return ee=regReplace(ee,String.raw`\^\{1\}`,""),ee}function handleSqrt(ee){return ee=regReplace(ee,String.raw`\\sqrt\[2\]`,"\\sqrt"),ee}function handleCoeff(ee){return ee=regReplace(ee,or(p,m,e,l,sl,r,c)+s+1+s+or(v,f,pl,left,sq)+endtag,"$1 $2"),ee}function handlePrime(ee){return ee=regReplace(ee,"("+v+")'"+endtag,"$1 \\prime "),ee}function dress(ee){return ee=handleSigns(ee),ee=handlePower(ee),ee=handleSqrt(ee),ee=handleCoeff(ee),ee=handlePrime(ee),ee}class OptionShuffler{constructor($,_,te,re){this.qn=$,this.sol=_,this.ans=te,this.shuffle=re,this.perm=[],this.valid=!1,this.Qn=new QuestionHTML($),!!this.Qn.ul&&this.Qn.li.length!==0&&(this.valid=!0)}AreOptionsDuplicated(){return this.Qn.isLiDuplicated()}genQn(){return this.valid?(this.perm=this.Qn.shuffleLi(this.shuffle),this.Qn.export()):this.qn}mapLetter($){let _=["A","B","C","D","E","F"].indexOf($),te=this.perm[_];return["A","B","C","D","E","F"][te]}genAns(){return this.valid?this.mapLetter(this.ans):"X"}genSol(){if(!this.valid)return this.sol;let $="<p>Answer: "+this.genAns()+"</p><p><b>Solution:</b></p>"+this.sol,_=["A","B","C","D","E","F"];_.length=this.perm.length;for(let te of _)$=$.replace(new RegExp("{#"+te+"}","g"),this.mapLetter(te));return $}}function Produce(ee,$){return Array.isArray($)&&$!==ee?RndShuffle(...$):RndShake(ee)}function ExecInstructions(ee,$){let _={},te;for(te in ee)_[te]=Produce($[te],ee[te]);return _}function AutoOptions(ee,$,_){if(owl.emptyObject(ee))return $;let te=new QuestionHTML($),re=ExecInstructions(ee,_);if(te.li.length===1){te.cloneLi(0,3);for(let ie in re)te.printInLi(1,ie,re[ie][0]),te.printInLi(2,ie,re[ie][1]),te.printInLi(3,ie,re[ie][2]);return te.export()}if(te.li.length===2){te.cloneLi(0),te.cloneLi(1);for(let ie in re)te.printInLi(2,ie,re[ie][0]),te.printInLi(3,ie,re[ie][0]);return te.export()}return $}class Config{constructor($=[],_="A",te={},re=!0){this.sections=$,this.answer=_,this.options=te,this.shuffle=re}}class Dict{constructor($=Symbol(),_=Symbol(),te=Symbol(),re=Symbol(),ie=Symbol(),ne=Symbol(),ae=Symbol(),se=Symbol(),oe=Symbol(),le=Symbol(),ce=Symbol(),ue=Symbol(),me=Symbol(),fe=Symbol(),de=Symbol(),pe=Symbol(),ge=Symbol(),ye=Symbol(),be=Symbol(),xe=Symbol(),Se=Symbol(),ve=Symbol(),$e=Symbol(),_e=Symbol(),Me=Symbol(),Ce=Symbol(),we=Symbol(),Ie=Symbol(),ke=Symbol(),Te=Symbol(),Ee=Symbol(),Ae=Symbol(),He=Symbol(),Be=Symbol(),Fe=Symbol(),Le=Symbol(),De=Symbol(),Re=Symbol(),Ge=Symbol(),Oe=Symbol(),Ue=Symbol(),Pe=Symbol(),Ne=Symbol(),ze=Symbol(),qe=Symbol(),je=Symbol(),Ve=Symbol(),Je=Symbol(),Xe=Symbol(),Qe=Symbol(),We=Symbol(),Ye=Symbol()){this.a=$,this.b=_,this.c=te,this.d=re,this.e=ie,this.f=ne,this.g=ae,this.h=se,this.i=oe,this.j=le,this.k=ce,this.l=ue,this.m=me,this.n=fe,this.o=de,this.p=pe,this.q=ge,this.r=ye,this.s=be,this.t=xe,this.u=Se,this.v=ve,this.w=$e,this.x=_e,this.y=Me,this.z=Ce,this.A=we,this.B=Ie,this.C=ke,this.D=Te,this.E=Ee,this.F=Ae,this.G=He,this.H=Be,this.I=Fe,this.J=Le,this.K=De,this.L=Re,this.M=Ge,this.N=Oe,this.O=Ue,this.P=Pe,this.Q=Ne,this.R=ze,this.S=qe,this.T=je,this.U=Ve,this.V=Je,this.W=Xe,this.X=Qe,this.Y=We,this.Z=Ye,this.variables=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]}update($){for(let _ of this.variables)_ in $&&(this[_]=$[_])}checked(){for(let $ of this.variables){let _=this[$];if(_===void 0||typeof _=="number"&&!Number.isFinite(_))return!1}return!0}substitute($){for(let _ of this.variables){let te=this[_];typeof te!="symbol"&&($=PrintVariable($,_,te))}return $}}class SourceLocation{constructor($,_,te){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=$,this.start=_,this.end=te}static range($,_){return _?!$||!$.loc||!_.loc||$.loc.lexer!==_.loc.lexer?null:new SourceLocation($.loc.lexer,$.loc.start,_.loc.end):$&&$.loc}}class Token{constructor($,_){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=$,this.loc=_}range($,_){return new Token(_,SourceLocation.range(this,$))}}class ParseError{constructor($,_){this.position=void 0;var te="KaTeX parse error: "+$,re,ie=_&&_.loc;if(ie&&ie.start<=ie.end){var ne=ie.lexer.input;re=ie.start;var ae=ie.end;re===ne.length?te+=" at end of input: ":te+=" at position "+(re+1)+": ";var se=ne.slice(re,ae).replace(/[^]/g,"$&\u0332"),oe;re>15?oe="\u2026"+ne.slice(re-15,re):oe=ne.slice(0,re);var le;ae+15<ne.length?le=ne.slice(ae,ae+15)+"\u2026":le=ne.slice(ae),te+=oe+se+le}var ce=new Error(te);return ce.name="ParseError",ce.__proto__=ParseError.prototype,ce.position=re,ce}}ParseError.prototype.__proto__=Error.prototype;var contains=function ee($,_){return $.indexOf(_)!==-1},deflt=function ee($,_){return $===void 0?_:$},uppercase=/([A-Z])/g,hyphenate=function ee($){return $.replace(uppercase,"-$1").toLowerCase()},ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;function escape(ee){return String(ee).replace(ESCAPE_REGEX,$=>ESCAPE_LOOKUP[$])}var getBaseElem=function ee($){return $.type==="ordgroup"||$.type==="color"?$.body.length===1?ee($.body[0]):$:$.type==="font"?ee($.body):$},isCharacterBox=function ee($){var _=getBaseElem($);return _.type==="mathord"||_.type==="textord"||_.type==="atom"},assert=function ee($){if(!$)throw new Error("Expected non-null, but got "+String($));return $},protocolFromUrl=function ee($){var _=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec($);return _!=null?_[1]:"_relative"},utils={contains,deflt,escape,hyphenate,getBaseElem,isCharacterBox,protocolFromUrl};class Settings{constructor($){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,$=$||{},this.displayMode=utils.deflt($.displayMode,!1),this.output=utils.deflt($.output,"htmlAndMathml"),this.leqno=utils.deflt($.leqno,!1),this.fleqn=utils.deflt($.fleqn,!1),this.throwOnError=utils.deflt($.throwOnError,!0),this.errorColor=utils.deflt($.errorColor,"#cc0000"),this.macros=$.macros||{},this.minRuleThickness=Math.max(0,utils.deflt($.minRuleThickness,0)),this.colorIsTextColor=utils.deflt($.colorIsTextColor,!1),this.strict=utils.deflt($.strict,"warn"),this.trust=utils.deflt($.trust,!1),this.maxSize=Math.max(0,utils.deflt($.maxSize,1/0)),this.maxExpand=Math.max(0,utils.deflt($.maxExpand,1e3)),this.globalGroup=utils.deflt($.globalGroup,!1)}reportNonstrict($,_,te){var re=this.strict;if(typeof re=="function"&&(re=re($,_,te)),!(!re||re==="ignore")){if(re===!0||re==="error")throw new ParseError("LaTeX-incompatible input and strict mode is set to 'error': "+(_+" ["+$+"]"),te);re==="warn"?typeof console!="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(_+" ["+$+"]")):typeof console!="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+re+"': "+_+" ["+$+"]"))}}useStrictBehavior($,_,te){var re=this.strict;if(typeof re=="function")try{re=re($,_,te)}catch{re="error"}return!re||re==="ignore"?!1:re===!0||re==="error"?!0:re==="warn"?(typeof console!="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(_+" ["+$+"]")),!1):(typeof console!="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+re+"': "+_+" ["+$+"]")),!1)}isTrusted($){$.url&&!$.protocol&&($.protocol=utils.protocolFromUrl($.url));var _=typeof this.trust=="function"?this.trust($):this.trust;return Boolean(_)}}class Style{constructor($,_,te){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=$,this.size=_,this.cramped=te}sup(){return styles[sup[this.id]]}sub(){return styles[sub[this.id]]}fracNum(){return styles[fracNum[this.id]]}fracDen(){return styles[fracDen[this.id]]}cramp(){return styles[cramp[this.id]]}text(){return styles[text$1[this.id]]}isTight(){return this.size>=2}}var D=0,Dc=1,T=2,Tc=3,S=4,Sc=5,SS=6,SSc=7,styles=[new Style(D,0,!1),new Style(Dc,0,!0),new Style(T,1,!1),new Style(Tc,1,!0),new Style(S,2,!1),new Style(Sc,2,!0),new Style(SS,3,!1),new Style(SSc,3,!0)],sup=[S,Sc,S,Sc,SS,SSc,SS,SSc],sub=[Sc,Sc,Sc,Sc,SSc,SSc,SSc,SSc],fracNum=[T,Tc,S,Sc,SS,SSc,SS,SSc],fracDen=[Tc,Tc,Sc,Sc,SSc,SSc,SSc,SSc],cramp=[Dc,Dc,Tc,Tc,Sc,Sc,SSc,SSc],text$1=[D,Dc,T,Tc,T,Tc,T,Tc],Style$1={DISPLAY:styles[D],TEXT:styles[T],SCRIPT:styles[S],SCRIPTSCRIPT:styles[SS]},scriptData=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function scriptFromCodepoint(ee){for(var $=0;$<scriptData.length;$++)for(var _=scriptData[$],te=0;te<_.blocks.length;te++){var re=_.blocks[te];if(ee>=re[0]&&ee<=re[1])return _.name}return null}var allBlocks=[];scriptData.forEach(ee=>ee.blocks.forEach($=>allBlocks.push(...$)));function supportedCodepoint(ee){for(var $=0;$<allBlocks.length;$+=2)if(ee>=allBlocks[$]&&ee<=allBlocks[$+1])return!0;return!1}var hLinePad=80,sqrtMain=function ee($,_){return"M95,"+(622+$+_)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+$/2.075+" -"+$+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+$)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+$)+" "+_+"h400000v"+(40+$)+"h-400000z"},sqrtSize1=function ee($,_){return"M263,"+(601+$+_)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+$/2.084+" -"+$+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+$)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+$)+" "+_+"h400000v"+(40+$)+"h-400000z"},sqrtSize2=function ee($,_){return"M983 "+(10+$+_)+`
l`+$/3.13+" -"+$+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+$)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+$)+" "+_+"h400000v"+(40+$)+"h-400000z"},sqrtSize3=function ee($,_){return"M424,"+(2398+$+_)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+$/4.223+" -"+$+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+$)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+$)+" "+_+`
h400000v`+(40+$)+"h-400000z"},sqrtSize4=function ee($,_){return"M473,"+(2713+$+_)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+$/5.298+" -"+$+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+$)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+$)+" "+_+"h400000v"+(40+$)+"H1017.7z"},phasePath=function ee($){var _=$/2;return"M400000 "+$+" H0 L"+_+" 0 l65 45 L145 "+($-80)+" H400000z"},sqrtTall=function ee($,_,te){var re=te-54-_-$;return"M702 "+($+_)+"H400000"+(40+$)+`
H742v`+re+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+_+"H400000v"+(40+$)+"H742z"},sqrtPath=function ee($,_,te){_=1e3*_;var re="";switch($){case"sqrtMain":re=sqrtMain(_,hLinePad);break;case"sqrtSize1":re=sqrtSize1(_,hLinePad);break;case"sqrtSize2":re=sqrtSize2(_,hLinePad);break;case"sqrtSize3":re=sqrtSize3(_,hLinePad);break;case"sqrtSize4":re=sqrtSize4(_,hLinePad);break;case"sqrtTall":re=sqrtTall(_,hLinePad,te)}return re},innerPath=function ee($,_){switch($){case"\u239C":return"M291 0 H417 V"+_+" H291z M291 0 H417 V"+_+" H291z";case"\u2223":return"M145 0 H188 V"+_+" H145z M145 0 H188 V"+_+" H145z";case"\u2225":return"M145 0 H188 V"+_+" H145z M145 0 H188 V"+_+" H145z"+("M367 0 H410 V"+_+" H367z M367 0 H410 V"+_+" H367z");case"\u239F":return"M457 0 H583 V"+_+" H457z M457 0 H583 V"+_+" H457z";case"\u23A2":return"M319 0 H403 V"+_+" H319z M319 0 H403 V"+_+" H319z";case"\u23A5":return"M263 0 H347 V"+_+" H263z M263 0 H347 V"+_+" H263z";case"\u23AA":return"M384 0 H504 V"+_+" H384z M384 0 H504 V"+_+" H384z";case"\u23D0":return"M312 0 H355 V"+_+" H312z M312 0 H355 V"+_+" H312z";case"\u2016":return"M257 0 H300 V"+_+" H257z M257 0 H300 V"+_+" H257z"+("M478 0 H521 V"+_+" H478z M478 0 H521 V"+_+" H478z");default:return""}},path={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`};class DocumentFragment{constructor($){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=$,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass($){return utils.contains(this.classes,$)}toNode(){for(var $=document.createDocumentFragment(),_=0;_<this.children.length;_++)$.appendChild(this.children[_].toNode());return $}toMarkup(){for(var $="",_=0;_<this.children.length;_++)$+=this.children[_].toMarkup();return $}toText(){var $=_=>_.toText();return this.children.map($).join("")}}var fontMetricsData={"AMS-Regular":{"32":[0,0,0,0,.25],"65":[0,.68889,0,0,.72222],"66":[0,.68889,0,0,.66667],"67":[0,.68889,0,0,.72222],"68":[0,.68889,0,0,.72222],"69":[0,.68889,0,0,.66667],"70":[0,.68889,0,0,.61111],"71":[0,.68889,0,0,.77778],"72":[0,.68889,0,0,.77778],"73":[0,.68889,0,0,.38889],"74":[.16667,.68889,0,0,.5],"75":[0,.68889,0,0,.77778],"76":[0,.68889,0,0,.66667],"77":[0,.68889,0,0,.94445],"78":[0,.68889,0,0,.72222],"79":[.16667,.68889,0,0,.77778],"80":[0,.68889,0,0,.61111],"81":[.16667,.68889,0,0,.77778],"82":[0,.68889,0,0,.72222],"83":[0,.68889,0,0,.55556],"84":[0,.68889,0,0,.66667],"85":[0,.68889,0,0,.72222],"86":[0,.68889,0,0,.72222],"87":[0,.68889,0,0,1],"88":[0,.68889,0,0,.72222],"89":[0,.68889,0,0,.72222],"90":[0,.68889,0,0,.66667],"107":[0,.68889,0,0,.55556],"160":[0,0,0,0,.25],"165":[0,.675,.025,0,.75],"174":[.15559,.69224,0,0,.94666],"240":[0,.68889,0,0,.55556],"295":[0,.68889,0,0,.54028],"710":[0,.825,0,0,2.33334],"732":[0,.9,0,0,2.33334],"770":[0,.825,0,0,2.33334],"771":[0,.9,0,0,2.33334],"989":[.08167,.58167,0,0,.77778],"1008":[0,.43056,.04028,0,.66667],"8245":[0,.54986,0,0,.275],"8463":[0,.68889,0,0,.54028],"8487":[0,.68889,0,0,.72222],"8498":[0,.68889,0,0,.55556],"8502":[0,.68889,0,0,.66667],"8503":[0,.68889,0,0,.44445],"8504":[0,.68889,0,0,.66667],"8513":[0,.68889,0,0,.63889],"8592":[-.03598,.46402,0,0,.5],"8594":[-.03598,.46402,0,0,.5],"8602":[-.13313,.36687,0,0,1],"8603":[-.13313,.36687,0,0,1],"8606":[.01354,.52239,0,0,1],"8608":[.01354,.52239,0,0,1],"8610":[.01354,.52239,0,0,1.11111],"8611":[.01354,.52239,0,0,1.11111],"8619":[0,.54986,0,0,1],"8620":[0,.54986,0,0,1],"8621":[-.13313,.37788,0,0,1.38889],"8622":[-.13313,.36687,0,0,1],"8624":[0,.69224,0,0,.5],"8625":[0,.69224,0,0,.5],"8630":[0,.43056,0,0,1],"8631":[0,.43056,0,0,1],"8634":[.08198,.58198,0,0,.77778],"8635":[.08198,.58198,0,0,.77778],"8638":[.19444,.69224,0,0,.41667],"8639":[.19444,.69224,0,0,.41667],"8642":[.19444,.69224,0,0,.41667],"8643":[.19444,.69224,0,0,.41667],"8644":[.1808,.675,0,0,1],"8646":[.1808,.675,0,0,1],"8647":[.1808,.675,0,0,1],"8648":[.19444,.69224,0,0,.83334],"8649":[.1808,.675,0,0,1],"8650":[.19444,.69224,0,0,.83334],"8651":[.01354,.52239,0,0,1],"8652":[.01354,.52239,0,0,1],"8653":[-.13313,.36687,0,0,1],"8654":[-.13313,.36687,0,0,1],"8655":[-.13313,.36687,0,0,1],"8666":[.13667,.63667,0,0,1],"8667":[.13667,.63667,0,0,1],"8669":[-.13313,.37788,0,0,1],"8672":[-.064,.437,0,0,1.334],"8674":[-.064,.437,0,0,1.334],"8705":[0,.825,0,0,.5],"8708":[0,.68889,0,0,.55556],"8709":[.08167,.58167,0,0,.77778],"8717":[0,.43056,0,0,.42917],"8722":[-.03598,.46402,0,0,.5],"8724":[.08198,.69224,0,0,.77778],"8726":[.08167,.58167,0,0,.77778],"8733":[0,.69224,0,0,.77778],"8736":[0,.69224,0,0,.72222],"8737":[0,.69224,0,0,.72222],"8738":[.03517,.52239,0,0,.72222],"8739":[.08167,.58167,0,0,.22222],"8740":[.25142,.74111,0,0,.27778],"8741":[.08167,.58167,0,0,.38889],"8742":[.25142,.74111,0,0,.5],"8756":[0,.69224,0,0,.66667],"8757":[0,.69224,0,0,.66667],"8764":[-.13313,.36687,0,0,.77778],"8765":[-.13313,.37788,0,0,.77778],"8769":[-.13313,.36687,0,0,.77778],"8770":[-.03625,.46375,0,0,.77778],"8774":[.30274,.79383,0,0,.77778],"8776":[-.01688,.48312,0,0,.77778],"8778":[.08167,.58167,0,0,.77778],"8782":[.06062,.54986,0,0,.77778],"8783":[.06062,.54986,0,0,.77778],"8785":[.08198,.58198,0,0,.77778],"8786":[.08198,.58198,0,0,.77778],"8787":[.08198,.58198,0,0,.77778],"8790":[0,.69224,0,0,.77778],"8791":[.22958,.72958,0,0,.77778],"8796":[.08198,.91667,0,0,.77778],"8806":[.25583,.75583,0,0,.77778],"8807":[.25583,.75583,0,0,.77778],"8808":[.25142,.75726,0,0,.77778],"8809":[.25142,.75726,0,0,.77778],"8812":[.25583,.75583,0,0,.5],"8814":[.20576,.70576,0,0,.77778],"8815":[.20576,.70576,0,0,.77778],"8816":[.30274,.79383,0,0,.77778],"8817":[.30274,.79383,0,0,.77778],"8818":[.22958,.72958,0,0,.77778],"8819":[.22958,.72958,0,0,.77778],"8822":[.1808,.675,0,0,.77778],"8823":[.1808,.675,0,0,.77778],"8828":[.13667,.63667,0,0,.77778],"8829":[.13667,.63667,0,0,.77778],"8830":[.22958,.72958,0,0,.77778],"8831":[.22958,.72958,0,0,.77778],"8832":[.20576,.70576,0,0,.77778],"8833":[.20576,.70576,0,0,.77778],"8840":[.30274,.79383,0,0,.77778],"8841":[.30274,.79383,0,0,.77778],"8842":[.13597,.63597,0,0,.77778],"8843":[.13597,.63597,0,0,.77778],"8847":[.03517,.54986,0,0,.77778],"8848":[.03517,.54986,0,0,.77778],"8858":[.08198,.58198,0,0,.77778],"8859":[.08198,.58198,0,0,.77778],"8861":[.08198,.58198,0,0,.77778],"8862":[0,.675,0,0,.77778],"8863":[0,.675,0,0,.77778],"8864":[0,.675,0,0,.77778],"8865":[0,.675,0,0,.77778],"8872":[0,.69224,0,0,.61111],"8873":[0,.69224,0,0,.72222],"8874":[0,.69224,0,0,.88889],"8876":[0,.68889,0,0,.61111],"8877":[0,.68889,0,0,.61111],"8878":[0,.68889,0,0,.72222],"8879":[0,.68889,0,0,.72222],"8882":[.03517,.54986,0,0,.77778],"8883":[.03517,.54986,0,0,.77778],"8884":[.13667,.63667,0,0,.77778],"8885":[.13667,.63667,0,0,.77778],"8888":[0,.54986,0,0,1.11111],"8890":[.19444,.43056,0,0,.55556],"8891":[.19444,.69224,0,0,.61111],"8892":[.19444,.69224,0,0,.61111],"8901":[0,.54986,0,0,.27778],"8903":[.08167,.58167,0,0,.77778],"8905":[.08167,.58167,0,0,.77778],"8906":[.08167,.58167,0,0,.77778],"8907":[0,.69224,0,0,.77778],"8908":[0,.69224,0,0,.77778],"8909":[-.03598,.46402,0,0,.77778],"8910":[0,.54986,0,0,.76042],"8911":[0,.54986,0,0,.76042],"8912":[.03517,.54986,0,0,.77778],"8913":[.03517,.54986,0,0,.77778],"8914":[0,.54986,0,0,.66667],"8915":[0,.54986,0,0,.66667],"8916":[0,.69224,0,0,.66667],"8918":[.0391,.5391,0,0,.77778],"8919":[.0391,.5391,0,0,.77778],"8920":[.03517,.54986,0,0,1.33334],"8921":[.03517,.54986,0,0,1.33334],"8922":[.38569,.88569,0,0,.77778],"8923":[.38569,.88569,0,0,.77778],"8926":[.13667,.63667,0,0,.77778],"8927":[.13667,.63667,0,0,.77778],"8928":[.30274,.79383,0,0,.77778],"8929":[.30274,.79383,0,0,.77778],"8934":[.23222,.74111,0,0,.77778],"8935":[.23222,.74111,0,0,.77778],"8936":[.23222,.74111,0,0,.77778],"8937":[.23222,.74111,0,0,.77778],"8938":[.20576,.70576,0,0,.77778],"8939":[.20576,.70576,0,0,.77778],"8940":[.30274,.79383,0,0,.77778],"8941":[.30274,.79383,0,0,.77778],"8994":[.19444,.69224,0,0,.77778],"8995":[.19444,.69224,0,0,.77778],"9416":[.15559,.69224,0,0,.90222],"9484":[0,.69224,0,0,.5],"9488":[0,.69224,0,0,.5],"9492":[0,.37788,0,0,.5],"9496":[0,.37788,0,0,.5],"9585":[.19444,.68889,0,0,.88889],"9586":[.19444,.74111,0,0,.88889],"9632":[0,.675,0,0,.77778],"9633":[0,.675,0,0,.77778],"9650":[0,.54986,0,0,.72222],"9651":[0,.54986,0,0,.72222],"9654":[.03517,.54986,0,0,.77778],"9660":[0,.54986,0,0,.72222],"9661":[0,.54986,0,0,.72222],"9664":[.03517,.54986,0,0,.77778],"9674":[.11111,.69224,0,0,.66667],"9733":[.19444,.69224,0,0,.94445],"10003":[0,.69224,0,0,.83334],"10016":[0,.69224,0,0,.83334],"10731":[.11111,.69224,0,0,.66667],"10846":[.19444,.75583,0,0,.61111],"10877":[.13667,.63667,0,0,.77778],"10878":[.13667,.63667,0,0,.77778],"10885":[.25583,.75583,0,0,.77778],"10886":[.25583,.75583,0,0,.77778],"10887":[.13597,.63597,0,0,.77778],"10888":[.13597,.63597,0,0,.77778],"10889":[.26167,.75726,0,0,.77778],"10890":[.26167,.75726,0,0,.77778],"10891":[.48256,.98256,0,0,.77778],"10892":[.48256,.98256,0,0,.77778],"10901":[.13667,.63667,0,0,.77778],"10902":[.13667,.63667,0,0,.77778],"10933":[.25142,.75726,0,0,.77778],"10934":[.25142,.75726,0,0,.77778],"10935":[.26167,.75726,0,0,.77778],"10936":[.26167,.75726,0,0,.77778],"10937":[.26167,.75726,0,0,.77778],"10938":[.26167,.75726,0,0,.77778],"10949":[.25583,.75583,0,0,.77778],"10950":[.25583,.75583,0,0,.77778],"10955":[.28481,.79383,0,0,.77778],"10956":[.28481,.79383,0,0,.77778],"57350":[.08167,.58167,0,0,.22222],"57351":[.08167,.58167,0,0,.38889],"57352":[.08167,.58167,0,0,.77778],"57353":[0,.43056,.04028,0,.66667],"57356":[.25142,.75726,0,0,.77778],"57357":[.25142,.75726,0,0,.77778],"57358":[.41951,.91951,0,0,.77778],"57359":[.30274,.79383,0,0,.77778],"57360":[.30274,.79383,0,0,.77778],"57361":[.41951,.91951,0,0,.77778],"57366":[.25142,.75726,0,0,.77778],"57367":[.25142,.75726,0,0,.77778],"57368":[.25142,.75726,0,0,.77778],"57369":[.25142,.75726,0,0,.77778],"57370":[.13597,.63597,0,0,.77778],"57371":[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{"32":[0,0,0,0,.25],"65":[0,.68333,0,.19445,.79847],"66":[0,.68333,.03041,.13889,.65681],"67":[0,.68333,.05834,.13889,.52653],"68":[0,.68333,.02778,.08334,.77139],"69":[0,.68333,.08944,.11111,.52778],"70":[0,.68333,.09931,.11111,.71875],"71":[.09722,.68333,.0593,.11111,.59487],"72":[0,.68333,.00965,.11111,.84452],"73":[0,.68333,.07382,0,.54452],"74":[.09722,.68333,.18472,.16667,.67778],"75":[0,.68333,.01445,.05556,.76195],"76":[0,.68333,0,.13889,.68972],"77":[0,.68333,0,.13889,1.2009],"78":[0,.68333,.14736,.08334,.82049],"79":[0,.68333,.02778,.11111,.79611],"80":[0,.68333,.08222,.08334,.69556],"81":[.09722,.68333,0,.11111,.81667],"82":[0,.68333,0,.08334,.8475],"83":[0,.68333,.075,.13889,.60556],"84":[0,.68333,.25417,0,.54464],"85":[0,.68333,.09931,.08334,.62583],"86":[0,.68333,.08222,0,.61278],"87":[0,.68333,.08222,.08334,.98778],"88":[0,.68333,.14643,.13889,.7133],"89":[.09722,.68333,.08222,.08334,.66834],"90":[0,.68333,.07944,.13889,.72473],"160":[0,0,0,0,.25]},"Fraktur-Regular":{"32":[0,0,0,0,.25],"33":[0,.69141,0,0,.29574],"34":[0,.69141,0,0,.21471],"38":[0,.69141,0,0,.73786],"39":[0,.69141,0,0,.21201],"40":[.24982,.74947,0,0,.38865],"41":[.24982,.74947,0,0,.38865],"42":[0,.62119,0,0,.27764],"43":[.08319,.58283,0,0,.75623],"44":[0,.10803,0,0,.27764],"45":[.08319,.58283,0,0,.75623],"46":[0,.10803,0,0,.27764],"47":[.24982,.74947,0,0,.50181],"48":[0,.47534,0,0,.50181],"49":[0,.47534,0,0,.50181],"50":[0,.47534,0,0,.50181],"51":[.18906,.47534,0,0,.50181],"52":[.18906,.47534,0,0,.50181],"53":[.18906,.47534,0,0,.50181],"54":[0,.69141,0,0,.50181],"55":[.18906,.47534,0,0,.50181],"56":[0,.69141,0,0,.50181],"57":[.18906,.47534,0,0,.50181],"58":[0,.47534,0,0,.21606],"59":[.12604,.47534,0,0,.21606],"61":[-.13099,.36866,0,0,.75623],"63":[0,.69141,0,0,.36245],"65":[0,.69141,0,0,.7176],"66":[0,.69141,0,0,.88397],"67":[0,.69141,0,0,.61254],"68":[0,.69141,0,0,.83158],"69":[0,.69141,0,0,.66278],"70":[.12604,.69141,0,0,.61119],"71":[0,.69141,0,0,.78539],"72":[.06302,.69141,0,0,.7203],"73":[0,.69141,0,0,.55448],"74":[.12604,.69141,0,0,.55231],"75":[0,.69141,0,0,.66845],"76":[0,.69141,0,0,.66602],"77":[0,.69141,0,0,1.04953],"78":[0,.69141,0,0,.83212],"79":[0,.69141,0,0,.82699],"80":[.18906,.69141,0,0,.82753],"81":[.03781,.69141,0,0,.82699],"82":[0,.69141,0,0,.82807],"83":[0,.69141,0,0,.82861],"84":[0,.69141,0,0,.66899],"85":[0,.69141,0,0,.64576],"86":[0,.69141,0,0,.83131],"87":[0,.69141,0,0,1.04602],"88":[0,.69141,0,0,.71922],"89":[.18906,.69141,0,0,.83293],"90":[.12604,.69141,0,0,.60201],"91":[.24982,.74947,0,0,.27764],"93":[.24982,.74947,0,0,.27764],"94":[0,.69141,0,0,.49965],"97":[0,.47534,0,0,.50046],"98":[0,.69141,0,0,.51315],"99":[0,.47534,0,0,.38946],"100":[0,.62119,0,0,.49857],"101":[0,.47534,0,0,.40053],"102":[.18906,.69141,0,0,.32626],"103":[.18906,.47534,0,0,.5037],"104":[.18906,.69141,0,0,.52126],"105":[0,.69141,0,0,.27899],"106":[0,.69141,0,0,.28088],"107":[0,.69141,0,0,.38946],"108":[0,.69141,0,0,.27953],"109":[0,.47534,0,0,.76676],"110":[0,.47534,0,0,.52666],"111":[0,.47534,0,0,.48885],"112":[.18906,.52396,0,0,.50046],"113":[.18906,.47534,0,0,.48912],"114":[0,.47534,0,0,.38919],"115":[0,.47534,0,0,.44266],"116":[0,.62119,0,0,.33301],"117":[0,.47534,0,0,.5172],"118":[0,.52396,0,0,.5118],"119":[0,.52396,0,0,.77351],"120":[.18906,.47534,0,0,.38865],"121":[.18906,.47534,0,0,.49884],"122":[.18906,.47534,0,0,.39054],"160":[0,0,0,0,.25],"8216":[0,.69141,0,0,.21471],"8217":[0,.69141,0,0,.21471],"58112":[0,.62119,0,0,.49749],"58113":[0,.62119,0,0,.4983],"58114":[.18906,.69141,0,0,.33328],"58115":[.18906,.69141,0,0,.32923],"58116":[.18906,.47534,0,0,.50343],"58117":[0,.69141,0,0,.33301],"58118":[0,.62119,0,0,.33409],"58119":[0,.47534,0,0,.50073]},"Main-Bold":{"32":[0,0,0,0,.25],"33":[0,.69444,0,0,.35],"34":[0,.69444,0,0,.60278],"35":[.19444,.69444,0,0,.95833],"36":[.05556,.75,0,0,.575],"37":[.05556,.75,0,0,.95833],"38":[0,.69444,0,0,.89444],"39":[0,.69444,0,0,.31944],"40":[.25,.75,0,0,.44722],"41":[.25,.75,0,0,.44722],"42":[0,.75,0,0,.575],"43":[.13333,.63333,0,0,.89444],"44":[.19444,.15556,0,0,.31944],"45":[0,.44444,0,0,.38333],"46":[0,.15556,0,0,.31944],"47":[.25,.75,0,0,.575],"48":[0,.64444,0,0,.575],"49":[0,.64444,0,0,.575],"50":[0,.64444,0,0,.575],"51":[0,.64444,0,0,.575],"52":[0,.64444,0,0,.575],"53":[0,.64444,0,0,.575],"54":[0,.64444,0,0,.575],"55":[0,.64444,0,0,.575],"56":[0,.64444,0,0,.575],"57":[0,.64444,0,0,.575],"58":[0,.44444,0,0,.31944],"59":[.19444,.44444,0,0,.31944],"60":[.08556,.58556,0,0,.89444],"61":[-.10889,.39111,0,0,.89444],"62":[.08556,.58556,0,0,.89444],"63":[0,.69444,0,0,.54305],"64":[0,.69444,0,0,.89444],"65":[0,.68611,0,0,.86944],"66":[0,.68611,0,0,.81805],"67":[0,.68611,0,0,.83055],"68":[0,.68611,0,0,.88194],"69":[0,.68611,0,0,.75555],"70":[0,.68611,0,0,.72361],"71":[0,.68611,0,0,.90416],"72":[0,.68611,0,0,.9],"73":[0,.68611,0,0,.43611],"74":[0,.68611,0,0,.59444],"75":[0,.68611,0,0,.90138],"76":[0,.68611,0,0,.69166],"77":[0,.68611,0,0,1.09166],"78":[0,.68611,0,0,.9],"79":[0,.68611,0,0,.86388],"80":[0,.68611,0,0,.78611],"81":[.19444,.68611,0,0,.86388],"82":[0,.68611,0,0,.8625],"83":[0,.68611,0,0,.63889],"84":[0,.68611,0,0,.8],"85":[0,.68611,0,0,.88472],"86":[0,.68611,.01597,0,.86944],"87":[0,.68611,.01597,0,1.18888],"88":[0,.68611,0,0,.86944],"89":[0,.68611,.02875,0,.86944],"90":[0,.68611,0,0,.70277],"91":[.25,.75,0,0,.31944],"92":[.25,.75,0,0,.575],"93":[.25,.75,0,0,.31944],"94":[0,.69444,0,0,.575],"95":[.31,.13444,.03194,0,.575],"97":[0,.44444,0,0,.55902],"98":[0,.69444,0,0,.63889],"99":[0,.44444,0,0,.51111],"100":[0,.69444,0,0,.63889],"101":[0,.44444,0,0,.52708],"102":[0,.69444,.10903,0,.35139],"103":[.19444,.44444,.01597,0,.575],"104":[0,.69444,0,0,.63889],"105":[0,.69444,0,0,.31944],"106":[.19444,.69444,0,0,.35139],"107":[0,.69444,0,0,.60694],"108":[0,.69444,0,0,.31944],"109":[0,.44444,0,0,.95833],"110":[0,.44444,0,0,.63889],"111":[0,.44444,0,0,.575],"112":[.19444,.44444,0,0,.63889],"113":[.19444,.44444,0,0,.60694],"114":[0,.44444,0,0,.47361],"115":[0,.44444,0,0,.45361],"116":[0,.63492,0,0,.44722],"117":[0,.44444,0,0,.63889],"118":[0,.44444,.01597,0,.60694],"119":[0,.44444,.01597,0,.83055],"120":[0,.44444,0,0,.60694],"121":[.19444,.44444,.01597,0,.60694],"122":[0,.44444,0,0,.51111],"123":[.25,.75,0,0,.575],"124":[.25,.75,0,0,.31944],"125":[.25,.75,0,0,.575],"126":[.35,.34444,0,0,.575],"160":[0,0,0,0,.25],"163":[0,.69444,0,0,.86853],"168":[0,.69444,0,0,.575],"172":[0,.44444,0,0,.76666],"176":[0,.69444,0,0,.86944],"177":[.13333,.63333,0,0,.89444],"184":[.17014,0,0,0,.51111],"198":[0,.68611,0,0,1.04166],"215":[.13333,.63333,0,0,.89444],"216":[.04861,.73472,0,0,.89444],"223":[0,.69444,0,0,.59722],"230":[0,.44444,0,0,.83055],"247":[.13333,.63333,0,0,.89444],"248":[.09722,.54167,0,0,.575],"305":[0,.44444,0,0,.31944],"338":[0,.68611,0,0,1.16944],"339":[0,.44444,0,0,.89444],"567":[.19444,.44444,0,0,.35139],"710":[0,.69444,0,0,.575],"711":[0,.63194,0,0,.575],"713":[0,.59611,0,0,.575],"714":[0,.69444,0,0,.575],"715":[0,.69444,0,0,.575],"728":[0,.69444,0,0,.575],"729":[0,.69444,0,0,.31944],"730":[0,.69444,0,0,.86944],"732":[0,.69444,0,0,.575],"733":[0,.69444,0,0,.575],"915":[0,.68611,0,0,.69166],"916":[0,.68611,0,0,.95833],"920":[0,.68611,0,0,.89444],"923":[0,.68611,0,0,.80555],"926":[0,.68611,0,0,.76666],"928":[0,.68611,0,0,.9],"931":[0,.68611,0,0,.83055],"933":[0,.68611,0,0,.89444],"934":[0,.68611,0,0,.83055],"936":[0,.68611,0,0,.89444],"937":[0,.68611,0,0,.83055],"8211":[0,.44444,.03194,0,.575],"8212":[0,.44444,.03194,0,1.14999],"8216":[0,.69444,0,0,.31944],"8217":[0,.69444,0,0,.31944],"8220":[0,.69444,0,0,.60278],"8221":[0,.69444,0,0,.60278],"8224":[.19444,.69444,0,0,.51111],"8225":[.19444,.69444,0,0,.51111],"8242":[0,.55556,0,0,.34444],"8407":[0,.72444,.15486,0,.575],"8463":[0,.69444,0,0,.66759],"8465":[0,.69444,0,0,.83055],"8467":[0,.69444,0,0,.47361],"8472":[.19444,.44444,0,0,.74027],"8476":[0,.69444,0,0,.83055],"8501":[0,.69444,0,0,.70277],"8592":[-.10889,.39111,0,0,1.14999],"8593":[.19444,.69444,0,0,.575],"8594":[-.10889,.39111,0,0,1.14999],"8595":[.19444,.69444,0,0,.575],"8596":[-.10889,.39111,0,0,1.14999],"8597":[.25,.75,0,0,.575],"8598":[.19444,.69444,0,0,1.14999],"8599":[.19444,.69444,0,0,1.14999],"8600":[.19444,.69444,0,0,1.14999],"8601":[.19444,.69444,0,0,1.14999],"8636":[-.10889,.39111,0,0,1.14999],"8637":[-.10889,.39111,0,0,1.14999],"8640":[-.10889,.39111,0,0,1.14999],"8641":[-.10889,.39111,0,0,1.14999],"8656":[-.10889,.39111,0,0,1.14999],"8657":[.19444,.69444,0,0,.70277],"8658":[-.10889,.39111,0,0,1.14999],"8659":[.19444,.69444,0,0,.70277],"8660":[-.10889,.39111,0,0,1.14999],"8661":[.25,.75,0,0,.70277],"8704":[0,.69444,0,0,.63889],"8706":[0,.69444,.06389,0,.62847],"8707":[0,.69444,0,0,.63889],"8709":[.05556,.75,0,0,.575],"8711":[0,.68611,0,0,.95833],"8712":[.08556,.58556,0,0,.76666],"8715":[.08556,.58556,0,0,.76666],"8722":[.13333,.63333,0,0,.89444],"8723":[.13333,.63333,0,0,.89444],"8725":[.25,.75,0,0,.575],"8726":[.25,.75,0,0,.575],"8727":[-.02778,.47222,0,0,.575],"8728":[-.02639,.47361,0,0,.575],"8729":[-.02639,.47361,0,0,.575],"8730":[.18,.82,0,0,.95833],"8733":[0,.44444,0,0,.89444],"8734":[0,.44444,0,0,1.14999],"8736":[0,.69224,0,0,.72222],"8739":[.25,.75,0,0,.31944],"8741":[.25,.75,0,0,.575],"8743":[0,.55556,0,0,.76666],"8744":[0,.55556,0,0,.76666],"8745":[0,.55556,0,0,.76666],"8746":[0,.55556,0,0,.76666],"8747":[.19444,.69444,.12778,0,.56875],"8764":[-.10889,.39111,0,0,.89444],"8768":[.19444,.69444,0,0,.31944],"8771":[.00222,.50222,0,0,.89444],"8773":[.027,.638,0,0,.894],"8776":[.02444,.52444,0,0,.89444],"8781":[.00222,.50222,0,0,.89444],"8801":[.00222,.50222,0,0,.89444],"8804":[.19667,.69667,0,0,.89444],"8805":[.19667,.69667,0,0,.89444],"8810":[.08556,.58556,0,0,1.14999],"8811":[.08556,.58556,0,0,1.14999],"8826":[.08556,.58556,0,0,.89444],"8827":[.08556,.58556,0,0,.89444],"8834":[.08556,.58556,0,0,.89444],"8835":[.08556,.58556,0,0,.89444],"8838":[.19667,.69667,0,0,.89444],"8839":[.19667,.69667,0,0,.89444],"8846":[0,.55556,0,0,.76666],"8849":[.19667,.69667,0,0,.89444],"8850":[.19667,.69667,0,0,.89444],"8851":[0,.55556,0,0,.76666],"8852":[0,.55556,0,0,.76666],"8853":[.13333,.63333,0,0,.89444],"8854":[.13333,.63333,0,0,.89444],"8855":[.13333,.63333,0,0,.89444],"8856":[.13333,.63333,0,0,.89444],"8857":[.13333,.63333,0,0,.89444],"8866":[0,.69444,0,0,.70277],"8867":[0,.69444,0,0,.70277],"8868":[0,.69444,0,0,.89444],"8869":[0,.69444,0,0,.89444],"8900":[-.02639,.47361,0,0,.575],"8901":[-.02639,.47361,0,0,.31944],"8902":[-.02778,.47222,0,0,.575],"8968":[.25,.75,0,0,.51111],"8969":[.25,.75,0,0,.51111],"8970":[.25,.75,0,0,.51111],"8971":[.25,.75,0,0,.51111],"8994":[-.13889,.36111,0,0,1.14999],"8995":[-.13889,.36111,0,0,1.14999],"9651":[.19444,.69444,0,0,1.02222],"9657":[-.02778,.47222,0,0,.575],"9661":[.19444,.69444,0,0,1.02222],"9667":[-.02778,.47222,0,0,.575],"9711":[.19444,.69444,0,0,1.14999],"9824":[.12963,.69444,0,0,.89444],"9825":[.12963,.69444,0,0,.89444],"9826":[.12963,.69444,0,0,.89444],"9827":[.12963,.69444,0,0,.89444],"9837":[0,.75,0,0,.44722],"9838":[.19444,.69444,0,0,.44722],"9839":[.19444,.69444,0,0,.44722],"10216":[.25,.75,0,0,.44722],"10217":[.25,.75,0,0,.44722],"10815":[0,.68611,0,0,.9],"10927":[.19667,.69667,0,0,.89444],"10928":[.19667,.69667,0,0,.89444],"57376":[.19444,.69444,0,0,0]},"Main-BoldItalic":{"32":[0,0,0,0,.25],"33":[0,.69444,.11417,0,.38611],"34":[0,.69444,.07939,0,.62055],"35":[.19444,.69444,.06833,0,.94444],"37":[.05556,.75,.12861,0,.94444],"38":[0,.69444,.08528,0,.88555],"39":[0,.69444,.12945,0,.35555],"40":[.25,.75,.15806,0,.47333],"41":[.25,.75,.03306,0,.47333],"42":[0,.75,.14333,0,.59111],"43":[.10333,.60333,.03306,0,.88555],"44":[.19444,.14722,0,0,.35555],"45":[0,.44444,.02611,0,.41444],"46":[0,.14722,0,0,.35555],"47":[.25,.75,.15806,0,.59111],"48":[0,.64444,.13167,0,.59111],"49":[0,.64444,.13167,0,.59111],"50":[0,.64444,.13167,0,.59111],"51":[0,.64444,.13167,0,.59111],"52":[.19444,.64444,.13167,0,.59111],"53":[0,.64444,.13167,0,.59111],"54":[0,.64444,.13167,0,.59111],"55":[.19444,.64444,.13167,0,.59111],"56":[0,.64444,.13167,0,.59111],"57":[0,.64444,.13167,0,.59111],"58":[0,.44444,.06695,0,.35555],"59":[.19444,.44444,.06695,0,.35555],"61":[-.10889,.39111,.06833,0,.88555],"63":[0,.69444,.11472,0,.59111],"64":[0,.69444,.09208,0,.88555],"65":[0,.68611,0,0,.86555],"66":[0,.68611,.0992,0,.81666],"67":[0,.68611,.14208,0,.82666],"68":[0,.68611,.09062,0,.87555],"69":[0,.68611,.11431,0,.75666],"70":[0,.68611,.12903,0,.72722],"71":[0,.68611,.07347,0,.89527],"72":[0,.68611,.17208,0,.8961],"73":[0,.68611,.15681,0,.47166],"74":[0,.68611,.145,0,.61055],"75":[0,.68611,.14208,0,.89499],"76":[0,.68611,0,0,.69777],"77":[0,.68611,.17208,0,1.07277],"78":[0,.68611,.17208,0,.8961],"79":[0,.68611,.09062,0,.85499],"80":[0,.68611,.0992,0,.78721],"81":[.19444,.68611,.09062,0,.85499],"82":[0,.68611,.02559,0,.85944],"83":[0,.68611,.11264,0,.64999],"84":[0,.68611,.12903,0,.7961],"85":[0,.68611,.17208,0,.88083],"86":[0,.68611,.18625,0,.86555],"87":[0,.68611,.18625,0,1.15999],"88":[0,.68611,.15681,0,.86555],"89":[0,.68611,.19803,0,.86555],"90":[0,.68611,.14208,0,.70888],"91":[.25,.75,.1875,0,.35611],"93":[.25,.75,.09972,0,.35611],"94":[0,.69444,.06709,0,.59111],"95":[.31,.13444,.09811,0,.59111],"97":[0,.44444,.09426,0,.59111],"98":[0,.69444,.07861,0,.53222],"99":[0,.44444,.05222,0,.53222],"100":[0,.69444,.10861,0,.59111],"101":[0,.44444,.085,0,.53222],"102":[.19444,.69444,.21778,0,.4],"103":[.19444,.44444,.105,0,.53222],"104":[0,.69444,.09426,0,.59111],"105":[0,.69326,.11387,0,.35555],"106":[.19444,.69326,.1672,0,.35555],"107":[0,.69444,.11111,0,.53222],"108":[0,.69444,.10861,0,.29666],"109":[0,.44444,.09426,0,.94444],"110":[0,.44444,.09426,0,.64999],"111":[0,.44444,.07861,0,.59111],"112":[.19444,.44444,.07861,0,.59111],"113":[.19444,.44444,.105,0,.53222],"114":[0,.44444,.11111,0,.50167],"115":[0,.44444,.08167,0,.48694],"116":[0,.63492,.09639,0,.385],"117":[0,.44444,.09426,0,.62055],"118":[0,.44444,.11111,0,.53222],"119":[0,.44444,.11111,0,.76777],"120":[0,.44444,.12583,0,.56055],"121":[.19444,.44444,.105,0,.56166],"122":[0,.44444,.13889,0,.49055],"126":[.35,.34444,.11472,0,.59111],"160":[0,0,0,0,.25],"168":[0,.69444,.11473,0,.59111],"176":[0,.69444,0,0,.94888],"184":[.17014,0,0,0,.53222],"198":[0,.68611,.11431,0,1.02277],"216":[.04861,.73472,.09062,0,.88555],"223":[.19444,.69444,.09736,0,.665],"230":[0,.44444,.085,0,.82666],"248":[.09722,.54167,.09458,0,.59111],"305":[0,.44444,.09426,0,.35555],"338":[0,.68611,.11431,0,1.14054],"339":[0,.44444,.085,0,.82666],"567":[.19444,.44444,.04611,0,.385],"710":[0,.69444,.06709,0,.59111],"711":[0,.63194,.08271,0,.59111],"713":[0,.59444,.10444,0,.59111],"714":[0,.69444,.08528,0,.59111],"715":[0,.69444,0,0,.59111],"728":[0,.69444,.10333,0,.59111],"729":[0,.69444,.12945,0,.35555],"730":[0,.69444,0,0,.94888],"732":[0,.69444,.11472,0,.59111],"733":[0,.69444,.11472,0,.59111],"915":[0,.68611,.12903,0,.69777],"916":[0,.68611,0,0,.94444],"920":[0,.68611,.09062,0,.88555],"923":[0,.68611,0,0,.80666],"926":[0,.68611,.15092,0,.76777],"928":[0,.68611,.17208,0,.8961],"931":[0,.68611,.11431,0,.82666],"933":[0,.68611,.10778,0,.88555],"934":[0,.68611,.05632,0,.82666],"936":[0,.68611,.10778,0,.88555],"937":[0,.68611,.0992,0,.82666],"8211":[0,.44444,.09811,0,.59111],"8212":[0,.44444,.09811,0,1.18221],"8216":[0,.69444,.12945,0,.35555],"8217":[0,.69444,.12945,0,.35555],"8220":[0,.69444,.16772,0,.62055],"8221":[0,.69444,.07939,0,.62055]},"Main-Italic":{"32":[0,0,0,0,.25],"33":[0,.69444,.12417,0,.30667],"34":[0,.69444,.06961,0,.51444],"35":[.19444,.69444,.06616,0,.81777],"37":[.05556,.75,.13639,0,.81777],"38":[0,.69444,.09694,0,.76666],"39":[0,.69444,.12417,0,.30667],"40":[.25,.75,.16194,0,.40889],"41":[.25,.75,.03694,0,.40889],"42":[0,.75,.14917,0,.51111],"43":[.05667,.56167,.03694,0,.76666],"44":[.19444,.10556,0,0,.30667],"45":[0,.43056,.02826,0,.35778],"46":[0,.10556,0,0,.30667],"47":[.25,.75,.16194,0,.51111],"48":[0,.64444,.13556,0,.51111],"49":[0,.64444,.13556,0,.51111],"50":[0,.64444,.13556,0,.51111],"51":[0,.64444,.13556,0,.51111],"52":[.19444,.64444,.13556,0,.51111],"53":[0,.64444,.13556,0,.51111],"54":[0,.64444,.13556,0,.51111],"55":[.19444,.64444,.13556,0,.51111],"56":[0,.64444,.13556,0,.51111],"57":[0,.64444,.13556,0,.51111],"58":[0,.43056,.0582,0,.30667],"59":[.19444,.43056,.0582,0,.30667],"61":[-.13313,.36687,.06616,0,.76666],"63":[0,.69444,.1225,0,.51111],"64":[0,.69444,.09597,0,.76666],"65":[0,.68333,0,0,.74333],"66":[0,.68333,.10257,0,.70389],"67":[0,.68333,.14528,0,.71555],"68":[0,.68333,.09403,0,.755],"69":[0,.68333,.12028,0,.67833],"70":[0,.68333,.13305,0,.65277],"71":[0,.68333,.08722,0,.77361],"72":[0,.68333,.16389,0,.74333],"73":[0,.68333,.15806,0,.38555],"74":[0,.68333,.14028,0,.525],"75":[0,.68333,.14528,0,.76888],"76":[0,.68333,0,0,.62722],"77":[0,.68333,.16389,0,.89666],"78":[0,.68333,.16389,0,.74333],"79":[0,.68333,.09403,0,.76666],"80":[0,.68333,.10257,0,.67833],"81":[.19444,.68333,.09403,0,.76666],"82":[0,.68333,.03868,0,.72944],"83":[0,.68333,.11972,0,.56222],"84":[0,.68333,.13305,0,.71555],"85":[0,.68333,.16389,0,.74333],"86":[0,.68333,.18361,0,.74333],"87":[0,.68333,.18361,0,.99888],"88":[0,.68333,.15806,0,.74333],"89":[0,.68333,.19383,0,.74333],"90":[0,.68333,.14528,0,.61333],"91":[.25,.75,.1875,0,.30667],"93":[.25,.75,.10528,0,.30667],"94":[0,.69444,.06646,0,.51111],"95":[.31,.12056,.09208,0,.51111],"97":[0,.43056,.07671,0,.51111],"98":[0,.69444,.06312,0,.46],"99":[0,.43056,.05653,0,.46],"100":[0,.69444,.10333,0,.51111],"101":[0,.43056,.07514,0,.46],"102":[.19444,.69444,.21194,0,.30667],"103":[.19444,.43056,.08847,0,.46],"104":[0,.69444,.07671,0,.51111],"105":[0,.65536,.1019,0,.30667],"106":[.19444,.65536,.14467,0,.30667],"107":[0,.69444,.10764,0,.46],"108":[0,.69444,.10333,0,.25555],"109":[0,.43056,.07671,0,.81777],"110":[0,.43056,.07671,0,.56222],"111":[0,.43056,.06312,0,.51111],"112":[.19444,.43056,.06312,0,.51111],"113":[.19444,.43056,.08847,0,.46],"114":[0,.43056,.10764,0,.42166],"115":[0,.43056,.08208,0,.40889],"116":[0,.61508,.09486,0,.33222],"117":[0,.43056,.07671,0,.53666],"118":[0,.43056,.10764,0,.46],"119":[0,.43056,.10764,0,.66444],"120":[0,.43056,.12042,0,.46389],"121":[.19444,.43056,.08847,0,.48555],"122":[0,.43056,.12292,0,.40889],"126":[.35,.31786,.11585,0,.51111],"160":[0,0,0,0,.25],"168":[0,.66786,.10474,0,.51111],"176":[0,.69444,0,0,.83129],"184":[.17014,0,0,0,.46],"198":[0,.68333,.12028,0,.88277],"216":[.04861,.73194,.09403,0,.76666],"223":[.19444,.69444,.10514,0,.53666],"230":[0,.43056,.07514,0,.71555],"248":[.09722,.52778,.09194,0,.51111],"338":[0,.68333,.12028,0,.98499],"339":[0,.43056,.07514,0,.71555],"710":[0,.69444,.06646,0,.51111],"711":[0,.62847,.08295,0,.51111],"713":[0,.56167,.10333,0,.51111],"714":[0,.69444,.09694,0,.51111],"715":[0,.69444,0,0,.51111],"728":[0,.69444,.10806,0,.51111],"729":[0,.66786,.11752,0,.30667],"730":[0,.69444,0,0,.83129],"732":[0,.66786,.11585,0,.51111],"733":[0,.69444,.1225,0,.51111],"915":[0,.68333,.13305,0,.62722],"916":[0,.68333,0,0,.81777],"920":[0,.68333,.09403,0,.76666],"923":[0,.68333,0,0,.69222],"926":[0,.68333,.15294,0,.66444],"928":[0,.68333,.16389,0,.74333],"931":[0,.68333,.12028,0,.71555],"933":[0,.68333,.11111,0,.76666],"934":[0,.68333,.05986,0,.71555],"936":[0,.68333,.11111,0,.76666],"937":[0,.68333,.10257,0,.71555],"8211":[0,.43056,.09208,0,.51111],"8212":[0,.43056,.09208,0,1.02222],"8216":[0,.69444,.12417,0,.30667],"8217":[0,.69444,.12417,0,.30667],"8220":[0,.69444,.1685,0,.51444],"8221":[0,.69444,.06961,0,.51444],"8463":[0,.68889,0,0,.54028]},"Main-Regular":{"32":[0,0,0,0,.25],"33":[0,.69444,0,0,.27778],"34":[0,.69444,0,0,.5],"35":[.19444,.69444,0,0,.83334],"36":[.05556,.75,0,0,.5],"37":[.05556,.75,0,0,.83334],"38":[0,.69444,0,0,.77778],"39":[0,.69444,0,0,.27778],"40":[.25,.75,0,0,.38889],"41":[.25,.75,0,0,.38889],"42":[0,.75,0,0,.5],"43":[.08333,.58333,0,0,.77778],"44":[.19444,.10556,0,0,.27778],"45":[0,.43056,0,0,.33333],"46":[0,.10556,0,0,.27778],"47":[.25,.75,0,0,.5],"48":[0,.64444,0,0,.5],"49":[0,.64444,0,0,.5],"50":[0,.64444,0,0,.5],"51":[0,.64444,0,0,.5],"52":[0,.64444,0,0,.5],"53":[0,.64444,0,0,.5],"54":[0,.64444,0,0,.5],"55":[0,.64444,0,0,.5],"56":[0,.64444,0,0,.5],"57":[0,.64444,0,0,.5],"58":[0,.43056,0,0,.27778],"59":[.19444,.43056,0,0,.27778],"60":[.0391,.5391,0,0,.77778],"61":[-.13313,.36687,0,0,.77778],"62":[.0391,.5391,0,0,.77778],"63":[0,.69444,0,0,.47222],"64":[0,.69444,0,0,.77778],"65":[0,.68333,0,0,.75],"66":[0,.68333,0,0,.70834],"67":[0,.68333,0,0,.72222],"68":[0,.68333,0,0,.76389],"69":[0,.68333,0,0,.68056],"70":[0,.68333,0,0,.65278],"71":[0,.68333,0,0,.78472],"72":[0,.68333,0,0,.75],"73":[0,.68333,0,0,.36111],"74":[0,.68333,0,0,.51389],"75":[0,.68333,0,0,.77778],"76":[0,.68333,0,0,.625],"77":[0,.68333,0,0,.91667],"78":[0,.68333,0,0,.75],"79":[0,.68333,0,0,.77778],"80":[0,.68333,0,0,.68056],"81":[.19444,.68333,0,0,.77778],"82":[0,.68333,0,0,.73611],"83":[0,.68333,0,0,.55556],"84":[0,.68333,0,0,.72222],"85":[0,.68333,0,0,.75],"86":[0,.68333,.01389,0,.75],"87":[0,.68333,.01389,0,1.02778],"88":[0,.68333,0,0,.75],"89":[0,.68333,.025,0,.75],"90":[0,.68333,0,0,.61111],"91":[.25,.75,0,0,.27778],"92":[.25,.75,0,0,.5],"93":[.25,.75,0,0,.27778],"94":[0,.69444,0,0,.5],"95":[.31,.12056,.02778,0,.5],"97":[0,.43056,0,0,.5],"98":[0,.69444,0,0,.55556],"99":[0,.43056,0,0,.44445],"100":[0,.69444,0,0,.55556],"101":[0,.43056,0,0,.44445],"102":[0,.69444,.07778,0,.30556],"103":[.19444,.43056,.01389,0,.5],"104":[0,.69444,0,0,.55556],"105":[0,.66786,0,0,.27778],"106":[.19444,.66786,0,0,.30556],"107":[0,.69444,0,0,.52778],"108":[0,.69444,0,0,.27778],"109":[0,.43056,0,0,.83334],"110":[0,.43056,0,0,.55556],"111":[0,.43056,0,0,.5],"112":[.19444,.43056,0,0,.55556],"113":[.19444,.43056,0,0,.52778],"114":[0,.43056,0,0,.39167],"115":[0,.43056,0,0,.39445],"116":[0,.61508,0,0,.38889],"117":[0,.43056,0,0,.55556],"118":[0,.43056,.01389,0,.52778],"119":[0,.43056,.01389,0,.72222],"120":[0,.43056,0,0,.52778],"121":[.19444,.43056,.01389,0,.52778],"122":[0,.43056,0,0,.44445],"123":[.25,.75,0,0,.5],"124":[.25,.75,0,0,.27778],"125":[.25,.75,0,0,.5],"126":[.35,.31786,0,0,.5],"160":[0,0,0,0,.25],"163":[0,.69444,0,0,.76909],"167":[.19444,.69444,0,0,.44445],"168":[0,.66786,0,0,.5],"172":[0,.43056,0,0,.66667],"176":[0,.69444,0,0,.75],"177":[.08333,.58333,0,0,.77778],"182":[.19444,.69444,0,0,.61111],"184":[.17014,0,0,0,.44445],"198":[0,.68333,0,0,.90278],"215":[.08333,.58333,0,0,.77778],"216":[.04861,.73194,0,0,.77778],"223":[0,.69444,0,0,.5],"230":[0,.43056,0,0,.72222],"247":[.08333,.58333,0,0,.77778],"248":[.09722,.52778,0,0,.5],"305":[0,.43056,0,0,.27778],"338":[0,.68333,0,0,1.01389],"339":[0,.43056,0,0,.77778],"567":[.19444,.43056,0,0,.30556],"710":[0,.69444,0,0,.5],"711":[0,.62847,0,0,.5],"713":[0,.56778,0,0,.5],"714":[0,.69444,0,0,.5],"715":[0,.69444,0,0,.5],"728":[0,.69444,0,0,.5],"729":[0,.66786,0,0,.27778],"730":[0,.69444,0,0,.75],"732":[0,.66786,0,0,.5],"733":[0,.69444,0,0,.5],"915":[0,.68333,0,0,.625],"916":[0,.68333,0,0,.83334],"920":[0,.68333,0,0,.77778],"923":[0,.68333,0,0,.69445],"926":[0,.68333,0,0,.66667],"928":[0,.68333,0,0,.75],"931":[0,.68333,0,0,.72222],"933":[0,.68333,0,0,.77778],"934":[0,.68333,0,0,.72222],"936":[0,.68333,0,0,.77778],"937":[0,.68333,0,0,.72222],"8211":[0,.43056,.02778,0,.5],"8212":[0,.43056,.02778,0,1],"8216":[0,.69444,0,0,.27778],"8217":[0,.69444,0,0,.27778],"8220":[0,.69444,0,0,.5],"8221":[0,.69444,0,0,.5],"8224":[.19444,.69444,0,0,.44445],"8225":[.19444,.69444,0,0,.44445],"8230":[0,.123,0,0,1.172],"8242":[0,.55556,0,0,.275],"8407":[0,.71444,.15382,0,.5],"8463":[0,.68889,0,0,.54028],"8465":[0,.69444,0,0,.72222],"8467":[0,.69444,0,.11111,.41667],"8472":[.19444,.43056,0,.11111,.63646],"8476":[0,.69444,0,0,.72222],"8501":[0,.69444,0,0,.61111],"8592":[-.13313,.36687,0,0,1],"8593":[.19444,.69444,0,0,.5],"8594":[-.13313,.36687,0,0,1],"8595":[.19444,.69444,0,0,.5],"8596":[-.13313,.36687,0,0,1],"8597":[.25,.75,0,0,.5],"8598":[.19444,.69444,0,0,1],"8599":[.19444,.69444,0,0,1],"8600":[.19444,.69444,0,0,1],"8601":[.19444,.69444,0,0,1],"8614":[.011,.511,0,0,1],"8617":[.011,.511,0,0,1.126],"8618":[.011,.511,0,0,1.126],"8636":[-.13313,.36687,0,0,1],"8637":[-.13313,.36687,0,0,1],"8640":[-.13313,.36687,0,0,1],"8641":[-.13313,.36687,0,0,1],"8652":[.011,.671,0,0,1],"8656":[-.13313,.36687,0,0,1],"8657":[.19444,.69444,0,0,.61111],"8658":[-.13313,.36687,0,0,1],"8659":[.19444,.69444,0,0,.61111],"8660":[-.13313,.36687,0,0,1],"8661":[.25,.75,0,0,.61111],"8704":[0,.69444,0,0,.55556],"8706":[0,.69444,.05556,.08334,.5309],"8707":[0,.69444,0,0,.55556],"8709":[.05556,.75,0,0,.5],"8711":[0,.68333,0,0,.83334],"8712":[.0391,.5391,0,0,.66667],"8715":[.0391,.5391,0,0,.66667],"8722":[.08333,.58333,0,0,.77778],"8723":[.08333,.58333,0,0,.77778],"8725":[.25,.75,0,0,.5],"8726":[.25,.75,0,0,.5],"8727":[-.03472,.46528,0,0,.5],"8728":[-.05555,.44445,0,0,.5],"8729":[-.05555,.44445,0,0,.5],"8730":[.2,.8,0,0,.83334],"8733":[0,.43056,0,0,.77778],"8734":[0,.43056,0,0,1],"8736":[0,.69224,0,0,.72222],"8739":[.25,.75,0,0,.27778],"8741":[.25,.75,0,0,.5],"8743":[0,.55556,0,0,.66667],"8744":[0,.55556,0,0,.66667],"8745":[0,.55556,0,0,.66667],"8746":[0,.55556,0,0,.66667],"8747":[.19444,.69444,.11111,0,.41667],"8764":[-.13313,.36687,0,0,.77778],"8768":[.19444,.69444,0,0,.27778],"8771":[-.03625,.46375,0,0,.77778],"8773":[-.022,.589,0,0,.778],"8776":[-.01688,.48312,0,0,.77778],"8781":[-.03625,.46375,0,0,.77778],"8784":[-.133,.673,0,0,.778],"8801":[-.03625,.46375,0,0,.77778],"8804":[.13597,.63597,0,0,.77778],"8805":[.13597,.63597,0,0,.77778],"8810":[.0391,.5391,0,0,1],"8811":[.0391,.5391,0,0,1],"8826":[.0391,.5391,0,0,.77778],"8827":[.0391,.5391,0,0,.77778],"8834":[.0391,.5391,0,0,.77778],"8835":[.0391,.5391,0,0,.77778],"8838":[.13597,.63597,0,0,.77778],"8839":[.13597,.63597,0,0,.77778],"8846":[0,.55556,0,0,.66667],"8849":[.13597,.63597,0,0,.77778],"8850":[.13597,.63597,0,0,.77778],"8851":[0,.55556,0,0,.66667],"8852":[0,.55556,0,0,.66667],"8853":[.08333,.58333,0,0,.77778],"8854":[.08333,.58333,0,0,.77778],"8855":[.08333,.58333,0,0,.77778],"8856":[.08333,.58333,0,0,.77778],"8857":[.08333,.58333,0,0,.77778],"8866":[0,.69444,0,0,.61111],"8867":[0,.69444,0,0,.61111],"8868":[0,.69444,0,0,.77778],"8869":[0,.69444,0,0,.77778],"8872":[.249,.75,0,0,.867],"8900":[-.05555,.44445,0,0,.5],"8901":[-.05555,.44445,0,0,.27778],"8902":[-.03472,.46528,0,0,.5],"8904":[.005,.505,0,0,.9],"8942":[.03,.903,0,0,.278],"8943":[-.19,.313,0,0,1.172],"8945":[-.1,.823,0,0,1.282],"8968":[.25,.75,0,0,.44445],"8969":[.25,.75,0,0,.44445],"8970":[.25,.75,0,0,.44445],"8971":[.25,.75,0,0,.44445],"8994":[-.14236,.35764,0,0,1],"8995":[-.14236,.35764,0,0,1],"9136":[.244,.744,0,0,.412],"9137":[.244,.745,0,0,.412],"9651":[.19444,.69444,0,0,.88889],"9657":[-.03472,.46528,0,0,.5],"9661":[.19444,.69444,0,0,.88889],"9667":[-.03472,.46528,0,0,.5],"9711":[.19444,.69444,0,0,1],"9824":[.12963,.69444,0,0,.77778],"9825":[.12963,.69444,0,0,.77778],"9826":[.12963,.69444,0,0,.77778],"9827":[.12963,.69444,0,0,.77778],"9837":[0,.75,0,0,.38889],"9838":[.19444,.69444,0,0,.38889],"9839":[.19444,.69444,0,0,.38889],"10216":[.25,.75,0,0,.38889],"10217":[.25,.75,0,0,.38889],"10222":[.244,.744,0,0,.412],"10223":[.244,.745,0,0,.412],"10229":[.011,.511,0,0,1.609],"10230":[.011,.511,0,0,1.638],"10231":[.011,.511,0,0,1.859],"10232":[.024,.525,0,0,1.609],"10233":[.024,.525,0,0,1.638],"10234":[.024,.525,0,0,1.858],"10236":[.011,.511,0,0,1.638],"10815":[0,.68333,0,0,.75],"10927":[.13597,.63597,0,0,.77778],"10928":[.13597,.63597,0,0,.77778],"57376":[.19444,.69444,0,0,0]},"Math-BoldItalic":{"32":[0,0,0,0,.25],"48":[0,.44444,0,0,.575],"49":[0,.44444,0,0,.575],"50":[0,.44444,0,0,.575],"51":[.19444,.44444,0,0,.575],"52":[.19444,.44444,0,0,.575],"53":[.19444,.44444,0,0,.575],"54":[0,.64444,0,0,.575],"55":[.19444,.44444,0,0,.575],"56":[0,.64444,0,0,.575],"57":[.19444,.44444,0,0,.575],"65":[0,.68611,0,0,.86944],"66":[0,.68611,.04835,0,.8664],"67":[0,.68611,.06979,0,.81694],"68":[0,.68611,.03194,0,.93812],"69":[0,.68611,.05451,0,.81007],"70":[0,.68611,.15972,0,.68889],"71":[0,.68611,0,0,.88673],"72":[0,.68611,.08229,0,.98229],"73":[0,.68611,.07778,0,.51111],"74":[0,.68611,.10069,0,.63125],"75":[0,.68611,.06979,0,.97118],"76":[0,.68611,0,0,.75555],"77":[0,.68611,.11424,0,1.14201],"78":[0,.68611,.11424,0,.95034],"79":[0,.68611,.03194,0,.83666],"80":[0,.68611,.15972,0,.72309],"81":[.19444,.68611,0,0,.86861],"82":[0,.68611,.00421,0,.87235],"83":[0,.68611,.05382,0,.69271],"84":[0,.68611,.15972,0,.63663],"85":[0,.68611,.11424,0,.80027],"86":[0,.68611,.25555,0,.67778],"87":[0,.68611,.15972,0,1.09305],"88":[0,.68611,.07778,0,.94722],"89":[0,.68611,.25555,0,.67458],"90":[0,.68611,.06979,0,.77257],"97":[0,.44444,0,0,.63287],"98":[0,.69444,0,0,.52083],"99":[0,.44444,0,0,.51342],"100":[0,.69444,0,0,.60972],"101":[0,.44444,0,0,.55361],"102":[.19444,.69444,.11042,0,.56806],"103":[.19444,.44444,.03704,0,.5449],"104":[0,.69444,0,0,.66759],"105":[0,.69326,0,0,.4048],"106":[.19444,.69326,.0622,0,.47083],"107":[0,.69444,.01852,0,.6037],"108":[0,.69444,.0088,0,.34815],"109":[0,.44444,0,0,1.0324],"110":[0,.44444,0,0,.71296],"111":[0,.44444,0,0,.58472],"112":[.19444,.44444,0,0,.60092],"113":[.19444,.44444,.03704,0,.54213],"114":[0,.44444,.03194,0,.5287],"115":[0,.44444,0,0,.53125],"116":[0,.63492,0,0,.41528],"117":[0,.44444,0,0,.68102],"118":[0,.44444,.03704,0,.56666],"119":[0,.44444,.02778,0,.83148],"120":[0,.44444,0,0,.65903],"121":[.19444,.44444,.03704,0,.59028],"122":[0,.44444,.04213,0,.55509],"160":[0,0,0,0,.25],"915":[0,.68611,.15972,0,.65694],"916":[0,.68611,0,0,.95833],"920":[0,.68611,.03194,0,.86722],"923":[0,.68611,0,0,.80555],"926":[0,.68611,.07458,0,.84125],"928":[0,.68611,.08229,0,.98229],"931":[0,.68611,.05451,0,.88507],"933":[0,.68611,.15972,0,.67083],"934":[0,.68611,0,0,.76666],"936":[0,.68611,.11653,0,.71402],"937":[0,.68611,.04835,0,.8789],"945":[0,.44444,0,0,.76064],"946":[.19444,.69444,.03403,0,.65972],"947":[.19444,.44444,.06389,0,.59003],"948":[0,.69444,.03819,0,.52222],"949":[0,.44444,0,0,.52882],"950":[.19444,.69444,.06215,0,.50833],"951":[.19444,.44444,.03704,0,.6],"952":[0,.69444,.03194,0,.5618],"953":[0,.44444,0,0,.41204],"954":[0,.44444,0,0,.66759],"955":[0,.69444,0,0,.67083],"956":[.19444,.44444,0,0,.70787],"957":[0,.44444,.06898,0,.57685],"958":[.19444,.69444,.03021,0,.50833],"959":[0,.44444,0,0,.58472],"960":[0,.44444,.03704,0,.68241],"961":[.19444,.44444,0,0,.6118],"962":[.09722,.44444,.07917,0,.42361],"963":[0,.44444,.03704,0,.68588],"964":[0,.44444,.13472,0,.52083],"965":[0,.44444,.03704,0,.63055],"966":[.19444,.44444,0,0,.74722],"967":[.19444,.44444,0,0,.71805],"968":[.19444,.69444,.03704,0,.75833],"969":[0,.44444,.03704,0,.71782],"977":[0,.69444,0,0,.69155],"981":[.19444,.69444,0,0,.7125],"982":[0,.44444,.03194,0,.975],"1009":[.19444,.44444,0,0,.6118],"1013":[0,.44444,0,0,.48333],"57649":[0,.44444,0,0,.39352],"57911":[.19444,.44444,0,0,.43889]},"Math-Italic":{"32":[0,0,0,0,.25],"48":[0,.43056,0,0,.5],"49":[0,.43056,0,0,.5],"50":[0,.43056,0,0,.5],"51":[.19444,.43056,0,0,.5],"52":[.19444,.43056,0,0,.5],"53":[.19444,.43056,0,0,.5],"54":[0,.64444,0,0,.5],"55":[.19444,.43056,0,0,.5],"56":[0,.64444,0,0,.5],"57":[.19444,.43056,0,0,.5],"65":[0,.68333,0,.13889,.75],"66":[0,.68333,.05017,.08334,.75851],"67":[0,.68333,.07153,.08334,.71472],"68":[0,.68333,.02778,.05556,.82792],"69":[0,.68333,.05764,.08334,.7382],"70":[0,.68333,.13889,.08334,.64306],"71":[0,.68333,0,.08334,.78625],"72":[0,.68333,.08125,.05556,.83125],"73":[0,.68333,.07847,.11111,.43958],"74":[0,.68333,.09618,.16667,.55451],"75":[0,.68333,.07153,.05556,.84931],"76":[0,.68333,0,.02778,.68056],"77":[0,.68333,.10903,.08334,.97014],"78":[0,.68333,.10903,.08334,.80347],"79":[0,.68333,.02778,.08334,.76278],"80":[0,.68333,.13889,.08334,.64201],"81":[.19444,.68333,0,.08334,.79056],"82":[0,.68333,.00773,.08334,.75929],"83":[0,.68333,.05764,.08334,.6132],"84":[0,.68333,.13889,.08334,.58438],"85":[0,.68333,.10903,.02778,.68278],"86":[0,.68333,.22222,0,.58333],"87":[0,.68333,.13889,0,.94445],"88":[0,.68333,.07847,.08334,.82847],"89":[0,.68333,.22222,0,.58056],"90":[0,.68333,.07153,.08334,.68264],"97":[0,.43056,0,0,.52859],"98":[0,.69444,0,0,.42917],"99":[0,.43056,0,.05556,.43276],"100":[0,.69444,0,.16667,.52049],"101":[0,.43056,0,.05556,.46563],"102":[.19444,.69444,.10764,.16667,.48959],"103":[.19444,.43056,.03588,.02778,.47697],"104":[0,.69444,0,0,.57616],"105":[0,.65952,0,0,.34451],"106":[.19444,.65952,.05724,0,.41181],"107":[0,.69444,.03148,0,.5206],"108":[0,.69444,.01968,.08334,.29838],"109":[0,.43056,0,0,.87801],"110":[0,.43056,0,0,.60023],"111":[0,.43056,0,.05556,.48472],"112":[.19444,.43056,0,.08334,.50313],"113":[.19444,.43056,.03588,.08334,.44641],"114":[0,.43056,.02778,.05556,.45116],"115":[0,.43056,0,.05556,.46875],"116":[0,.61508,0,.08334,.36111],"117":[0,.43056,0,.02778,.57246],"118":[0,.43056,.03588,.02778,.48472],"119":[0,.43056,.02691,.08334,.71592],"120":[0,.43056,0,.02778,.57153],"121":[.19444,.43056,.03588,.05556,.49028],"122":[0,.43056,.04398,.05556,.46505],"160":[0,0,0,0,.25],"915":[0,.68333,.13889,.08334,.61528],"916":[0,.68333,0,.16667,.83334],"920":[0,.68333,.02778,.08334,.76278],"923":[0,.68333,0,.16667,.69445],"926":[0,.68333,.07569,.08334,.74236],"928":[0,.68333,.08125,.05556,.83125],"931":[0,.68333,.05764,.08334,.77986],"933":[0,.68333,.13889,.05556,.58333],"934":[0,.68333,0,.08334,.66667],"936":[0,.68333,.11,.05556,.61222],"937":[0,.68333,.05017,.08334,.7724],"945":[0,.43056,.0037,.02778,.6397],"946":[.19444,.69444,.05278,.08334,.56563],"947":[.19444,.43056,.05556,0,.51773],"948":[0,.69444,.03785,.05556,.44444],"949":[0,.43056,0,.08334,.46632],"950":[.19444,.69444,.07378,.08334,.4375],"951":[.19444,.43056,.03588,.05556,.49653],"952":[0,.69444,.02778,.08334,.46944],"953":[0,.43056,0,.05556,.35394],"954":[0,.43056,0,0,.57616],"955":[0,.69444,0,0,.58334],"956":[.19444,.43056,0,.02778,.60255],"957":[0,.43056,.06366,.02778,.49398],"958":[.19444,.69444,.04601,.11111,.4375],"959":[0,.43056,0,.05556,.48472],"960":[0,.43056,.03588,0,.57003],"961":[.19444,.43056,0,.08334,.51702],"962":[.09722,.43056,.07986,.08334,.36285],"963":[0,.43056,.03588,0,.57141],"964":[0,.43056,.1132,.02778,.43715],"965":[0,.43056,.03588,.02778,.54028],"966":[.19444,.43056,0,.08334,.65417],"967":[.19444,.43056,0,.05556,.62569],"968":[.19444,.69444,.03588,.11111,.65139],"969":[0,.43056,.03588,0,.62245],"977":[0,.69444,0,.08334,.59144],"981":[.19444,.69444,0,.08334,.59583],"982":[0,.43056,.02778,0,.82813],"1009":[.19444,.43056,0,.08334,.51702],"1013":[0,.43056,0,.05556,.4059],"57649":[0,.43056,0,.02778,.32246],"57911":[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{"32":[0,0,0,0,.25],"33":[0,.69444,0,0,.36667],"34":[0,.69444,0,0,.55834],"35":[.19444,.69444,0,0,.91667],"36":[.05556,.75,0,0,.55],"37":[.05556,.75,0,0,1.02912],"38":[0,.69444,0,0,.83056],"39":[0,.69444,0,0,.30556],"40":[.25,.75,0,0,.42778],"41":[.25,.75,0,0,.42778],"42":[0,.75,0,0,.55],"43":[.11667,.61667,0,0,.85556],"44":[.10556,.13056,0,0,.30556],"45":[0,.45833,0,0,.36667],"46":[0,.13056,0,0,.30556],"47":[.25,.75,0,0,.55],"48":[0,.69444,0,0,.55],"49":[0,.69444,0,0,.55],"50":[0,.69444,0,0,.55],"51":[0,.69444,0,0,.55],"52":[0,.69444,0,0,.55],"53":[0,.69444,0,0,.55],"54":[0,.69444,0,0,.55],"55":[0,.69444,0,0,.55],"56":[0,.69444,0,0,.55],"57":[0,.69444,0,0,.55],"58":[0,.45833,0,0,.30556],"59":[.10556,.45833,0,0,.30556],"61":[-.09375,.40625,0,0,.85556],"63":[0,.69444,0,0,.51945],"64":[0,.69444,0,0,.73334],"65":[0,.69444,0,0,.73334],"66":[0,.69444,0,0,.73334],"67":[0,.69444,0,0,.70278],"68":[0,.69444,0,0,.79445],"69":[0,.69444,0,0,.64167],"70":[0,.69444,0,0,.61111],"71":[0,.69444,0,0,.73334],"72":[0,.69444,0,0,.79445],"73":[0,.69444,0,0,.33056],"74":[0,.69444,0,0,.51945],"75":[0,.69444,0,0,.76389],"76":[0,.69444,0,0,.58056],"77":[0,.69444,0,0,.97778],"78":[0,.69444,0,0,.79445],"79":[0,.69444,0,0,.79445],"80":[0,.69444,0,0,.70278],"81":[.10556,.69444,0,0,.79445],"82":[0,.69444,0,0,.70278],"83":[0,.69444,0,0,.61111],"84":[0,.69444,0,0,.73334],"85":[0,.69444,0,0,.76389],"86":[0,.69444,.01528,0,.73334],"87":[0,.69444,.01528,0,1.03889],"88":[0,.69444,0,0,.73334],"89":[0,.69444,.0275,0,.73334],"90":[0,.69444,0,0,.67223],"91":[.25,.75,0,0,.34306],"93":[.25,.75,0,0,.34306],"94":[0,.69444,0,0,.55],"95":[.35,.10833,.03056,0,.55],"97":[0,.45833,0,0,.525],"98":[0,.69444,0,0,.56111],"99":[0,.45833,0,0,.48889],"100":[0,.69444,0,0,.56111],"101":[0,.45833,0,0,.51111],"102":[0,.69444,.07639,0,.33611],"103":[.19444,.45833,.01528,0,.55],"104":[0,.69444,0,0,.56111],"105":[0,.69444,0,0,.25556],"106":[.19444,.69444,0,0,.28611],"107":[0,.69444,0,0,.53056],"108":[0,.69444,0,0,.25556],"109":[0,.45833,0,0,.86667],"110":[0,.45833,0,0,.56111],"111":[0,.45833,0,0,.55],"112":[.19444,.45833,0,0,.56111],"113":[.19444,.45833,0,0,.56111],"114":[0,.45833,.01528,0,.37222],"115":[0,.45833,0,0,.42167],"116":[0,.58929,0,0,.40417],"117":[0,.45833,0,0,.56111],"118":[0,.45833,.01528,0,.5],"119":[0,.45833,.01528,0,.74445],"120":[0,.45833,0,0,.5],"121":[.19444,.45833,.01528,0,.5],"122":[0,.45833,0,0,.47639],"126":[.35,.34444,0,0,.55],"160":[0,0,0,0,.25],"168":[0,.69444,0,0,.55],"176":[0,.69444,0,0,.73334],"180":[0,.69444,0,0,.55],"184":[.17014,0,0,0,.48889],"305":[0,.45833,0,0,.25556],"567":[.19444,.45833,0,0,.28611],"710":[0,.69444,0,0,.55],"711":[0,.63542,0,0,.55],"713":[0,.63778,0,0,.55],"728":[0,.69444,0,0,.55],"729":[0,.69444,0,0,.30556],"730":[0,.69444,0,0,.73334],"732":[0,.69444,0,0,.55],"733":[0,.69444,0,0,.55],"915":[0,.69444,0,0,.58056],"916":[0,.69444,0,0,.91667],"920":[0,.69444,0,0,.85556],"923":[0,.69444,0,0,.67223],"926":[0,.69444,0,0,.73334],"928":[0,.69444,0,0,.79445],"931":[0,.69444,0,0,.79445],"933":[0,.69444,0,0,.85556],"934":[0,.69444,0,0,.79445],"936":[0,.69444,0,0,.85556],"937":[0,.69444,0,0,.79445],"8211":[0,.45833,.03056,0,.55],"8212":[0,.45833,.03056,0,1.10001],"8216":[0,.69444,0,0,.30556],"8217":[0,.69444,0,0,.30556],"8220":[0,.69444,0,0,.55834],"8221":[0,.69444,0,0,.55834]},"SansSerif-Italic":{"32":[0,0,0,0,.25],"33":[0,.69444,.05733,0,.31945],"34":[0,.69444,.00316,0,.5],"35":[.19444,.69444,.05087,0,.83334],"36":[.05556,.75,.11156,0,.5],"37":[.05556,.75,.03126,0,.83334],"38":[0,.69444,.03058,0,.75834],"39":[0,.69444,.07816,0,.27778],"40":[.25,.75,.13164,0,.38889],"41":[.25,.75,.02536,0,.38889],"42":[0,.75,.11775,0,.5],"43":[.08333,.58333,.02536,0,.77778],"44":[.125,.08333,0,0,.27778],"45":[0,.44444,.01946,0,.33333],"46":[0,.08333,0,0,.27778],"47":[.25,.75,.13164,0,.5],"48":[0,.65556,.11156,0,.5],"49":[0,.65556,.11156,0,.5],"50":[0,.65556,.11156,0,.5],"51":[0,.65556,.11156,0,.5],"52":[0,.65556,.11156,0,.5],"53":[0,.65556,.11156,0,.5],"54":[0,.65556,.11156,0,.5],"55":[0,.65556,.11156,0,.5],"56":[0,.65556,.11156,0,.5],"57":[0,.65556,.11156,0,.5],"58":[0,.44444,.02502,0,.27778],"59":[.125,.44444,.02502,0,.27778],"61":[-.13,.37,.05087,0,.77778],"63":[0,.69444,.11809,0,.47222],"64":[0,.69444,.07555,0,.66667],"65":[0,.69444,0,0,.66667],"66":[0,.69444,.08293,0,.66667],"67":[0,.69444,.11983,0,.63889],"68":[0,.69444,.07555,0,.72223],"69":[0,.69444,.11983,0,.59722],"70":[0,.69444,.13372,0,.56945],"71":[0,.69444,.11983,0,.66667],"72":[0,.69444,.08094,0,.70834],"73":[0,.69444,.13372,0,.27778],"74":[0,.69444,.08094,0,.47222],"75":[0,.69444,.11983,0,.69445],"76":[0,.69444,0,0,.54167],"77":[0,.69444,.08094,0,.875],"78":[0,.69444,.08094,0,.70834],"79":[0,.69444,.07555,0,.73611],"80":[0,.69444,.08293,0,.63889],"81":[.125,.69444,.07555,0,.73611],"82":[0,.69444,.08293,0,.64584],"83":[0,.69444,.09205,0,.55556],"84":[0,.69444,.13372,0,.68056],"85":[0,.69444,.08094,0,.6875],"86":[0,.69444,.1615,0,.66667],"87":[0,.69444,.1615,0,.94445],"88":[0,.69444,.13372,0,.66667],"89":[0,.69444,.17261,0,.66667],"90":[0,.69444,.11983,0,.61111],"91":[.25,.75,.15942,0,.28889],"93":[.25,.75,.08719,0,.28889],"94":[0,.69444,.0799,0,.5],"95":[.35,.09444,.08616,0,.5],"97":[0,.44444,.00981,0,.48056],"98":[0,.69444,.03057,0,.51667],"99":[0,.44444,.08336,0,.44445],"100":[0,.69444,.09483,0,.51667],"101":[0,.44444,.06778,0,.44445],"102":[0,.69444,.21705,0,.30556],"103":[.19444,.44444,.10836,0,.5],"104":[0,.69444,.01778,0,.51667],"105":[0,.67937,.09718,0,.23889],"106":[.19444,.67937,.09162,0,.26667],"107":[0,.69444,.08336,0,.48889],"108":[0,.69444,.09483,0,.23889],"109":[0,.44444,.01778,0,.79445],"110":[0,.44444,.01778,0,.51667],"111":[0,.44444,.06613,0,.5],"112":[.19444,.44444,.0389,0,.51667],"113":[.19444,.44444,.04169,0,.51667],"114":[0,.44444,.10836,0,.34167],"115":[0,.44444,.0778,0,.38333],"116":[0,.57143,.07225,0,.36111],"117":[0,.44444,.04169,0,.51667],"118":[0,.44444,.10836,0,.46111],"119":[0,.44444,.10836,0,.68334],"120":[0,.44444,.09169,0,.46111],"121":[.19444,.44444,.10836,0,.46111],"122":[0,.44444,.08752,0,.43472],"126":[.35,.32659,.08826,0,.5],"160":[0,0,0,0,.25],"168":[0,.67937,.06385,0,.5],"176":[0,.69444,0,0,.73752],"184":[.17014,0,0,0,.44445],"305":[0,.44444,.04169,0,.23889],"567":[.19444,.44444,.04169,0,.26667],"710":[0,.69444,.0799,0,.5],"711":[0,.63194,.08432,0,.5],"713":[0,.60889,.08776,0,.5],"714":[0,.69444,.09205,0,.5],"715":[0,.69444,0,0,.5],"728":[0,.69444,.09483,0,.5],"729":[0,.67937,.07774,0,.27778],"730":[0,.69444,0,0,.73752],"732":[0,.67659,.08826,0,.5],"733":[0,.69444,.09205,0,.5],"915":[0,.69444,.13372,0,.54167],"916":[0,.69444,0,0,.83334],"920":[0,.69444,.07555,0,.77778],"923":[0,.69444,0,0,.61111],"926":[0,.69444,.12816,0,.66667],"928":[0,.69444,.08094,0,.70834],"931":[0,.69444,.11983,0,.72222],"933":[0,.69444,.09031,0,.77778],"934":[0,.69444,.04603,0,.72222],"936":[0,.69444,.09031,0,.77778],"937":[0,.69444,.08293,0,.72222],"8211":[0,.44444,.08616,0,.5],"8212":[0,.44444,.08616,0,1],"8216":[0,.69444,.07816,0,.27778],"8217":[0,.69444,.07816,0,.27778],"8220":[0,.69444,.14205,0,.5],"8221":[0,.69444,.00316,0,.5]},"SansSerif-Regular":{"32":[0,0,0,0,.25],"33":[0,.69444,0,0,.31945],"34":[0,.69444,0,0,.5],"35":[.19444,.69444,0,0,.83334],"36":[.05556,.75,0,0,.5],"37":[.05556,.75,0,0,.83334],"38":[0,.69444,0,0,.75834],"39":[0,.69444,0,0,.27778],"40":[.25,.75,0,0,.38889],"41":[.25,.75,0,0,.38889],"42":[0,.75,0,0,.5],"43":[.08333,.58333,0,0,.77778],"44":[.125,.08333,0,0,.27778],"45":[0,.44444,0,0,.33333],"46":[0,.08333,0,0,.27778],"47":[.25,.75,0,0,.5],"48":[0,.65556,0,0,.5],"49":[0,.65556,0,0,.5],"50":[0,.65556,0,0,.5],"51":[0,.65556,0,0,.5],"52":[0,.65556,0,0,.5],"53":[0,.65556,0,0,.5],"54":[0,.65556,0,0,.5],"55":[0,.65556,0,0,.5],"56":[0,.65556,0,0,.5],"57":[0,.65556,0,0,.5],"58":[0,.44444,0,0,.27778],"59":[.125,.44444,0,0,.27778],"61":[-.13,.37,0,0,.77778],"63":[0,.69444,0,0,.47222],"64":[0,.69444,0,0,.66667],"65":[0,.69444,0,0,.66667],"66":[0,.69444,0,0,.66667],"67":[0,.69444,0,0,.63889],"68":[0,.69444,0,0,.72223],"69":[0,.69444,0,0,.59722],"70":[0,.69444,0,0,.56945],"71":[0,.69444,0,0,.66667],"72":[0,.69444,0,0,.70834],"73":[0,.69444,0,0,.27778],"74":[0,.69444,0,0,.47222],"75":[0,.69444,0,0,.69445],"76":[0,.69444,0,0,.54167],"77":[0,.69444,0,0,.875],"78":[0,.69444,0,0,.70834],"79":[0,.69444,0,0,.73611],"80":[0,.69444,0,0,.63889],"81":[.125,.69444,0,0,.73611],"82":[0,.69444,0,0,.64584],"83":[0,.69444,0,0,.55556],"84":[0,.69444,0,0,.68056],"85":[0,.69444,0,0,.6875],"86":[0,.69444,.01389,0,.66667],"87":[0,.69444,.01389,0,.94445],"88":[0,.69444,0,0,.66667],"89":[0,.69444,.025,0,.66667],"90":[0,.69444,0,0,.61111],"91":[.25,.75,0,0,.28889],"93":[.25,.75,0,0,.28889],"94":[0,.69444,0,0,.5],"95":[.35,.09444,.02778,0,.5],"97":[0,.44444,0,0,.48056],"98":[0,.69444,0,0,.51667],"99":[0,.44444,0,0,.44445],"100":[0,.69444,0,0,.51667],"101":[0,.44444,0,0,.44445],"102":[0,.69444,.06944,0,.30556],"103":[.19444,.44444,.01389,0,.5],"104":[0,.69444,0,0,.51667],"105":[0,.67937,0,0,.23889],"106":[.19444,.67937,0,0,.26667],"107":[0,.69444,0,0,.48889],"108":[0,.69444,0,0,.23889],"109":[0,.44444,0,0,.79445],"110":[0,.44444,0,0,.51667],"111":[0,.44444,0,0,.5],"112":[.19444,.44444,0,0,.51667],"113":[.19444,.44444,0,0,.51667],"114":[0,.44444,.01389,0,.34167],"115":[0,.44444,0,0,.38333],"116":[0,.57143,0,0,.36111],"117":[0,.44444,0,0,.51667],"118":[0,.44444,.01389,0,.46111],"119":[0,.44444,.01389,0,.68334],"120":[0,.44444,0,0,.46111],"121":[.19444,.44444,.01389,0,.46111],"122":[0,.44444,0,0,.43472],"126":[.35,.32659,0,0,.5],"160":[0,0,0,0,.25],"168":[0,.67937,0,0,.5],"176":[0,.69444,0,0,.66667],"184":[.17014,0,0,0,.44445],"305":[0,.44444,0,0,.23889],"567":[.19444,.44444,0,0,.26667],"710":[0,.69444,0,0,.5],"711":[0,.63194,0,0,.5],"713":[0,.60889,0,0,.5],"714":[0,.69444,0,0,.5],"715":[0,.69444,0,0,.5],"728":[0,.69444,0,0,.5],"729":[0,.67937,0,0,.27778],"730":[0,.69444,0,0,.66667],"732":[0,.67659,0,0,.5],"733":[0,.69444,0,0,.5],"915":[0,.69444,0,0,.54167],"916":[0,.69444,0,0,.83334],"920":[0,.69444,0,0,.77778],"923":[0,.69444,0,0,.61111],"926":[0,.69444,0,0,.66667],"928":[0,.69444,0,0,.70834],"931":[0,.69444,0,0,.72222],"933":[0,.69444,0,0,.77778],"934":[0,.69444,0,0,.72222],"936":[0,.69444,0,0,.77778],"937":[0,.69444,0,0,.72222],"8211":[0,.44444,.02778,0,.5],"8212":[0,.44444,.02778,0,1],"8216":[0,.69444,0,0,.27778],"8217":[0,.69444,0,0,.27778],"8220":[0,.69444,0,0,.5],"8221":[0,.69444,0,0,.5]},"Script-Regular":{"32":[0,0,0,0,.25],"65":[0,.7,.22925,0,.80253],"66":[0,.7,.04087,0,.90757],"67":[0,.7,.1689,0,.66619],"68":[0,.7,.09371,0,.77443],"69":[0,.7,.18583,0,.56162],"70":[0,.7,.13634,0,.89544],"71":[0,.7,.17322,0,.60961],"72":[0,.7,.29694,0,.96919],"73":[0,.7,.19189,0,.80907],"74":[.27778,.7,.19189,0,1.05159],"75":[0,.7,.31259,0,.91364],"76":[0,.7,.19189,0,.87373],"77":[0,.7,.15981,0,1.08031],"78":[0,.7,.3525,0,.9015],"79":[0,.7,.08078,0,.73787],"80":[0,.7,.08078,0,1.01262],"81":[0,.7,.03305,0,.88282],"82":[0,.7,.06259,0,.85],"83":[0,.7,.19189,0,.86767],"84":[0,.7,.29087,0,.74697],"85":[0,.7,.25815,0,.79996],"86":[0,.7,.27523,0,.62204],"87":[0,.7,.27523,0,.80532],"88":[0,.7,.26006,0,.94445],"89":[0,.7,.2939,0,.70961],"90":[0,.7,.24037,0,.8212],"160":[0,0,0,0,.25]},"Size1-Regular":{"32":[0,0,0,0,.25],"40":[.35001,.85,0,0,.45834],"41":[.35001,.85,0,0,.45834],"47":[.35001,.85,0,0,.57778],"91":[.35001,.85,0,0,.41667],"92":[.35001,.85,0,0,.57778],"93":[.35001,.85,0,0,.41667],"123":[.35001,.85,0,0,.58334],"125":[.35001,.85,0,0,.58334],"160":[0,0,0,0,.25],"710":[0,.72222,0,0,.55556],"732":[0,.72222,0,0,.55556],"770":[0,.72222,0,0,.55556],"771":[0,.72222,0,0,.55556],"8214":[-99e-5,.601,0,0,.77778],"8593":[1e-5,.6,0,0,.66667],"8595":[1e-5,.6,0,0,.66667],"8657":[1e-5,.6,0,0,.77778],"8659":[1e-5,.6,0,0,.77778],"8719":[.25001,.75,0,0,.94445],"8720":[.25001,.75,0,0,.94445],"8721":[.25001,.75,0,0,1.05556],"8730":[.35001,.85,0,0,1],"8739":[-.00599,.606,0,0,.33333],"8741":[-.00599,.606,0,0,.55556],"8747":[.30612,.805,.19445,0,.47222],"8748":[.306,.805,.19445,0,.47222],"8749":[.306,.805,.19445,0,.47222],"8750":[.30612,.805,.19445,0,.47222],"8896":[.25001,.75,0,0,.83334],"8897":[.25001,.75,0,0,.83334],"8898":[.25001,.75,0,0,.83334],"8899":[.25001,.75,0,0,.83334],"8968":[.35001,.85,0,0,.47222],"8969":[.35001,.85,0,0,.47222],"8970":[.35001,.85,0,0,.47222],"8971":[.35001,.85,0,0,.47222],"9168":[-99e-5,.601,0,0,.66667],"10216":[.35001,.85,0,0,.47222],"10217":[.35001,.85,0,0,.47222],"10752":[.25001,.75,0,0,1.11111],"10753":[.25001,.75,0,0,1.11111],"10754":[.25001,.75,0,0,1.11111],"10756":[.25001,.75,0,0,.83334],"10758":[.25001,.75,0,0,.83334]},"Size2-Regular":{"32":[0,0,0,0,.25],"40":[.65002,1.15,0,0,.59722],"41":[.65002,1.15,0,0,.59722],"47":[.65002,1.15,0,0,.81111],"91":[.65002,1.15,0,0,.47222],"92":[.65002,1.15,0,0,.81111],"93":[.65002,1.15,0,0,.47222],"123":[.65002,1.15,0,0,.66667],"125":[.65002,1.15,0,0,.66667],"160":[0,0,0,0,.25],"710":[0,.75,0,0,1],"732":[0,.75,0,0,1],"770":[0,.75,0,0,1],"771":[0,.75,0,0,1],"8719":[.55001,1.05,0,0,1.27778],"8720":[.55001,1.05,0,0,1.27778],"8721":[.55001,1.05,0,0,1.44445],"8730":[.65002,1.15,0,0,1],"8747":[.86225,1.36,.44445,0,.55556],"8748":[.862,1.36,.44445,0,.55556],"8749":[.862,1.36,.44445,0,.55556],"8750":[.86225,1.36,.44445,0,.55556],"8896":[.55001,1.05,0,0,1.11111],"8897":[.55001,1.05,0,0,1.11111],"8898":[.55001,1.05,0,0,1.11111],"8899":[.55001,1.05,0,0,1.11111],"8968":[.65002,1.15,0,0,.52778],"8969":[.65002,1.15,0,0,.52778],"8970":[.65002,1.15,0,0,.52778],"8971":[.65002,1.15,0,0,.52778],"10216":[.65002,1.15,0,0,.61111],"10217":[.65002,1.15,0,0,.61111],"10752":[.55001,1.05,0,0,1.51112],"10753":[.55001,1.05,0,0,1.51112],"10754":[.55001,1.05,0,0,1.51112],"10756":[.55001,1.05,0,0,1.11111],"10758":[.55001,1.05,0,0,1.11111]},"Size3-Regular":{"32":[0,0,0,0,.25],"40":[.95003,1.45,0,0,.73611],"41":[.95003,1.45,0,0,.73611],"47":[.95003,1.45,0,0,1.04445],"91":[.95003,1.45,0,0,.52778],"92":[.95003,1.45,0,0,1.04445],"93":[.95003,1.45,0,0,.52778],"123":[.95003,1.45,0,0,.75],"125":[.95003,1.45,0,0,.75],"160":[0,0,0,0,.25],"710":[0,.75,0,0,1.44445],"732":[0,.75,0,0,1.44445],"770":[0,.75,0,0,1.44445],"771":[0,.75,0,0,1.44445],"8730":[.95003,1.45,0,0,1],"8968":[.95003,1.45,0,0,.58334],"8969":[.95003,1.45,0,0,.58334],"8970":[.95003,1.45,0,0,.58334],"8971":[.95003,1.45,0,0,.58334],"10216":[.95003,1.45,0,0,.75],"10217":[.95003,1.45,0,0,.75]},"Size4-Regular":{"32":[0,0,0,0,.25],"40":[1.25003,1.75,0,0,.79167],"41":[1.25003,1.75,0,0,.79167],"47":[1.25003,1.75,0,0,1.27778],"91":[1.25003,1.75,0,0,.58334],"92":[1.25003,1.75,0,0,1.27778],"93":[1.25003,1.75,0,0,.58334],"123":[1.25003,1.75,0,0,.80556],"125":[1.25003,1.75,0,0,.80556],"160":[0,0,0,0,.25],"710":[0,.825,0,0,1.8889],"732":[0,.825,0,0,1.8889],"770":[0,.825,0,0,1.8889],"771":[0,.825,0,0,1.8889],"8730":[1.25003,1.75,0,0,1],"8968":[1.25003,1.75,0,0,.63889],"8969":[1.25003,1.75,0,0,.63889],"8970":[1.25003,1.75,0,0,.63889],"8971":[1.25003,1.75,0,0,.63889],"9115":[.64502,1.155,0,0,.875],"9116":[1e-5,.6,0,0,.875],"9117":[.64502,1.155,0,0,.875],"9118":[.64502,1.155,0,0,.875],"9119":[1e-5,.6,0,0,.875],"9120":[.64502,1.155,0,0,.875],"9121":[.64502,1.155,0,0,.66667],"9122":[-99e-5,.601,0,0,.66667],"9123":[.64502,1.155,0,0,.66667],"9124":[.64502,1.155,0,0,.66667],"9125":[-99e-5,.601,0,0,.66667],"9126":[.64502,1.155,0,0,.66667],"9127":[1e-5,.9,0,0,.88889],"9128":[.65002,1.15,0,0,.88889],"9129":[.90001,0,0,0,.88889],"9130":[0,.3,0,0,.88889],"9131":[1e-5,.9,0,0,.88889],"9132":[.65002,1.15,0,0,.88889],"9133":[.90001,0,0,0,.88889],"9143":[.88502,.915,0,0,1.05556],"10216":[1.25003,1.75,0,0,.80556],"10217":[1.25003,1.75,0,0,.80556],"57344":[-.00499,.605,0,0,1.05556],"57345":[-.00499,.605,0,0,1.05556],"57680":[0,.12,0,0,.45],"57681":[0,.12,0,0,.45],"57682":[0,.12,0,0,.45],"57683":[0,.12,0,0,.45]},"Typewriter-Regular":{"32":[0,0,0,0,.525],"33":[0,.61111,0,0,.525],"34":[0,.61111,0,0,.525],"35":[0,.61111,0,0,.525],"36":[.08333,.69444,0,0,.525],"37":[.08333,.69444,0,0,.525],"38":[0,.61111,0,0,.525],"39":[0,.61111,0,0,.525],"40":[.08333,.69444,0,0,.525],"41":[.08333,.69444,0,0,.525],"42":[0,.52083,0,0,.525],"43":[-.08056,.53055,0,0,.525],"44":[.13889,.125,0,0,.525],"45":[-.08056,.53055,0,0,.525],"46":[0,.125,0,0,.525],"47":[.08333,.69444,0,0,.525],"48":[0,.61111,0,0,.525],"49":[0,.61111,0,0,.525],"50":[0,.61111,0,0,.525],"51":[0,.61111,0,0,.525],"52":[0,.61111,0,0,.525],"53":[0,.61111,0,0,.525],"54":[0,.61111,0,0,.525],"55":[0,.61111,0,0,.525],"56":[0,.61111,0,0,.525],"57":[0,.61111,0,0,.525],"58":[0,.43056,0,0,.525],"59":[.13889,.43056,0,0,.525],"60":[-.05556,.55556,0,0,.525],"61":[-.19549,.41562,0,0,.525],"62":[-.05556,.55556,0,0,.525],"63":[0,.61111,0,0,.525],"64":[0,.61111,0,0,.525],"65":[0,.61111,0,0,.525],"66":[0,.61111,0,0,.525],"67":[0,.61111,0,0,.525],"68":[0,.61111,0,0,.525],"69":[0,.61111,0,0,.525],"70":[0,.61111,0,0,.525],"71":[0,.61111,0,0,.525],"72":[0,.61111,0,0,.525],"73":[0,.61111,0,0,.525],"74":[0,.61111,0,0,.525],"75":[0,.61111,0,0,.525],"76":[0,.61111,0,0,.525],"77":[0,.61111,0,0,.525],"78":[0,.61111,0,0,.525],"79":[0,.61111,0,0,.525],"80":[0,.61111,0,0,.525],"81":[.13889,.61111,0,0,.525],"82":[0,.61111,0,0,.525],"83":[0,.61111,0,0,.525],"84":[0,.61111,0,0,.525],"85":[0,.61111,0,0,.525],"86":[0,.61111,0,0,.525],"87":[0,.61111,0,0,.525],"88":[0,.61111,0,0,.525],"89":[0,.61111,0,0,.525],"90":[0,.61111,0,0,.525],"91":[.08333,.69444,0,0,.525],"92":[.08333,.69444,0,0,.525],"93":[.08333,.69444,0,0,.525],"94":[0,.61111,0,0,.525],"95":[.09514,0,0,0,.525],"96":[0,.61111,0,0,.525],"97":[0,.43056,0,0,.525],"98":[0,.61111,0,0,.525],"99":[0,.43056,0,0,.525],"100":[0,.61111,0,0,.525],"101":[0,.43056,0,0,.525],"102":[0,.61111,0,0,.525],"103":[.22222,.43056,0,0,.525],"104":[0,.61111,0,0,.525],"105":[0,.61111,0,0,.525],"106":[.22222,.61111,0,0,.525],"107":[0,.61111,0,0,.525],"108":[0,.61111,0,0,.525],"109":[0,.43056,0,0,.525],"110":[0,.43056,0,0,.525],"111":[0,.43056,0,0,.525],"112":[.22222,.43056,0,0,.525],"113":[.22222,.43056,0,0,.525],"114":[0,.43056,0,0,.525],"115":[0,.43056,0,0,.525],"116":[0,.55358,0,0,.525],"117":[0,.43056,0,0,.525],"118":[0,.43056,0,0,.525],"119":[0,.43056,0,0,.525],"120":[0,.43056,0,0,.525],"121":[.22222,.43056,0,0,.525],"122":[0,.43056,0,0,.525],"123":[.08333,.69444,0,0,.525],"124":[.08333,.69444,0,0,.525],"125":[.08333,.69444,0,0,.525],"126":[0,.61111,0,0,.525],"127":[0,.61111,0,0,.525],"160":[0,0,0,0,.525],"176":[0,.61111,0,0,.525],"184":[.19445,0,0,0,.525],"305":[0,.43056,0,0,.525],"567":[.22222,.43056,0,0,.525],"711":[0,.56597,0,0,.525],"713":[0,.56555,0,0,.525],"714":[0,.61111,0,0,.525],"715":[0,.61111,0,0,.525],"728":[0,.61111,0,0,.525],"730":[0,.61111,0,0,.525],"770":[0,.61111,0,0,.525],"771":[0,.61111,0,0,.525],"776":[0,.61111,0,0,.525],"915":[0,.61111,0,0,.525],"916":[0,.61111,0,0,.525],"920":[0,.61111,0,0,.525],"923":[0,.61111,0,0,.525],"926":[0,.61111,0,0,.525],"928":[0,.61111,0,0,.525],"931":[0,.61111,0,0,.525],"933":[0,.61111,0,0,.525],"934":[0,.61111,0,0,.525],"936":[0,.61111,0,0,.525],"937":[0,.61111,0,0,.525],"8216":[0,.61111,0,0,.525],"8217":[0,.61111,0,0,.525],"8242":[0,.61111,0,0,.525],"9251":[.11111,.21944,0,0,.525]}},sigmasAndXis={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},extraCharacterMap={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"};function setFontMetrics(ee,$){fontMetricsData[ee]=$}function getCharacterMetrics(ee,$,_){if(!fontMetricsData[$])throw new Error("Font metrics not found for font: "+$+".");var te=ee.charCodeAt(0),re=fontMetricsData[$][te];if(!re&&ee[0]in extraCharacterMap&&(te=extraCharacterMap[ee[0]].charCodeAt(0),re=fontMetricsData[$][te]),!re&&_==="text"&&supportedCodepoint(te)&&(re=fontMetricsData[$][77]),re)return{depth:re[0],height:re[1],italic:re[2],skew:re[3],width:re[4]}}var fontMetricsBySizeIndex={};function getGlobalMetrics(ee){var $;if(ee>=5?$=0:ee>=3?$=1:$=2,!fontMetricsBySizeIndex[$]){var _=fontMetricsBySizeIndex[$]={cssEmPerMu:sigmasAndXis.quad[$]/18};for(var te in sigmasAndXis)sigmasAndXis.hasOwnProperty(te)&&(_[te]=sigmasAndXis[te][$])}return fontMetricsBySizeIndex[$]}var sizeStyleMap=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],sizeMultipliers=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],sizeAtStyle=function ee($,_){return _.size<2?$:sizeStyleMap[$-1][_.size-1]};class Options{constructor($){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=$.style,this.color=$.color,this.size=$.size||Options.BASESIZE,this.textSize=$.textSize||this.size,this.phantom=!!$.phantom,this.font=$.font||"",this.fontFamily=$.fontFamily||"",this.fontWeight=$.fontWeight||"",this.fontShape=$.fontShape||"",this.sizeMultiplier=sizeMultipliers[this.size-1],this.maxSize=$.maxSize,this.minRuleThickness=$.minRuleThickness,this._fontMetrics=void 0}extend($){var _={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var te in $)$.hasOwnProperty(te)&&(_[te]=$[te]);return new Options(_)}havingStyle($){return this.style===$?this:this.extend({style:$,size:sizeAtStyle(this.textSize,$)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize($){return this.size===$&&this.textSize===$?this:this.extend({style:this.style.text(),size:$,textSize:$,sizeMultiplier:sizeMultipliers[$-1]})}havingBaseStyle($){$=$||this.style.text();var _=sizeAtStyle(Options.BASESIZE,$);return this.size===_&&this.textSize===Options.BASESIZE&&this.style===$?this:this.extend({style:$,size:_})}havingBaseSizing(){var $;switch(this.style.id){case 4:case 5:$=3;break;case 6:case 7:$=1;break;default:$=6}return this.extend({style:this.style.text(),size:$})}withColor($){return this.extend({color:$})}withPhantom(){return this.extend({phantom:!0})}withFont($){return this.extend({font:$})}withTextFontFamily($){return this.extend({fontFamily:$,font:""})}withTextFontWeight($){return this.extend({fontWeight:$,font:""})}withTextFontShape($){return this.extend({fontShape:$,font:""})}sizingClasses($){return $.size!==this.size?["sizing","reset-size"+$.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Options.BASESIZE?["sizing","reset-size"+this.size,"size"+Options.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=getGlobalMetrics(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Options.BASESIZE=6;var ptPerUnit={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},relativeUnit={ex:!0,em:!0,mu:!0},validUnit=function ee($){return typeof $!="string"&&($=$.unit),$ in ptPerUnit||$ in relativeUnit||$==="ex"},calculateSize=function ee($,_){var te;if($.unit in ptPerUnit)te=ptPerUnit[$.unit]/_.fontMetrics().ptPerEm/_.sizeMultiplier;else if($.unit==="mu")te=_.fontMetrics().cssEmPerMu;else{var re;if(_.style.isTight()?re=_.havingStyle(_.style.text()):re=_,$.unit==="ex")te=re.fontMetrics().xHeight;else if($.unit==="em")te=re.fontMetrics().quad;else throw new ParseError("Invalid unit: '"+$.unit+"'");re!==_&&(te*=re.sizeMultiplier/_.sizeMultiplier)}return Math.min($.number*te,_.maxSize)},makeEm=function ee($){return+$.toFixed(4)+"em"},createClass=function ee($){return $.filter(_=>_).join(" ")},initNode=function ee($,_,te){if(this.classes=$||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=te||{},_){_.style.isTight()&&this.classes.push("mtight");var re=_.getColor();re&&(this.style.color=re)}},toNode=function ee($){var _=document.createElement($);_.className=createClass(this.classes);for(var te in this.style)this.style.hasOwnProperty(te)&&(_.style[te]=this.style[te]);for(var re in this.attributes)this.attributes.hasOwnProperty(re)&&_.setAttribute(re,this.attributes[re]);for(var ie=0;ie<this.children.length;ie++)_.appendChild(this.children[ie].toNode());return _},toMarkup=function ee($){var _="<"+$;this.classes.length&&(_+=' class="'+utils.escape(createClass(this.classes))+'"');var te="";for(var re in this.style)this.style.hasOwnProperty(re)&&(te+=utils.hyphenate(re)+":"+this.style[re]+";");te&&(_+=' style="'+utils.escape(te)+'"');for(var ie in this.attributes)this.attributes.hasOwnProperty(ie)&&(_+=" "+ie+'="'+utils.escape(this.attributes[ie])+'"');_+=">";for(var ne=0;ne<this.children.length;ne++)_+=this.children[ne].toMarkup();return _+="</"+$+">",_};class Span{constructor($,_,te,re){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,$,te,re),this.children=_||[]}setAttribute($,_){this.attributes[$]=_}hasClass($){return utils.contains(this.classes,$)}toNode(){return toNode.call(this,"span")}toMarkup(){return toMarkup.call(this,"span")}}class Anchor{constructor($,_,te,re){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,_,re),this.children=te||[],this.setAttribute("href",$)}setAttribute($,_){this.attributes[$]=_}hasClass($){return utils.contains(this.classes,$)}toNode(){return toNode.call(this,"a")}toMarkup(){return toMarkup.call(this,"a")}}class Img{constructor($,_,te){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=_,this.src=$,this.classes=["mord"],this.style=te}hasClass($){return utils.contains(this.classes,$)}toNode(){var $=document.createElement("img");$.src=this.src,$.alt=this.alt,$.className="mord";for(var _ in this.style)this.style.hasOwnProperty(_)&&($.style[_]=this.style[_]);return $}toMarkup(){var $="<img  src='"+this.src+" 'alt='"+this.alt+"' ",_="";for(var te in this.style)this.style.hasOwnProperty(te)&&(_+=utils.hyphenate(te)+":"+this.style[te]+";");return _&&($+=' style="'+utils.escape(_)+'"'),$+="'/>",$}}var iCombinations={\u00EE:"\u0131\u0302",\u00EF:"\u0131\u0308",\u00ED:"\u0131\u0301",\u00EC:"\u0131\u0300"};class SymbolNode{constructor($,_,te,re,ie,ne,ae,se){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=$,this.height=_||0,this.depth=te||0,this.italic=re||0,this.skew=ie||0,this.width=ne||0,this.classes=ae||[],this.style=se||{},this.maxFontSize=0;var oe=scriptFromCodepoint(this.text.charCodeAt(0));oe&&this.classes.push(oe+"_fallback"),/[]/.test(this.text)&&(this.text=iCombinations[this.text])}hasClass($){return utils.contains(this.classes,$)}toNode(){var $=document.createTextNode(this.text),_=null;this.italic>0&&(_=document.createElement("span"),_.style.marginRight=makeEm(this.italic)),this.classes.length>0&&(_=_||document.createElement("span"),_.className=createClass(this.classes));for(var te in this.style)this.style.hasOwnProperty(te)&&(_=_||document.createElement("span"),_.style[te]=this.style[te]);return _?(_.appendChild($),_):$}toMarkup(){var $=!1,_="<span";this.classes.length&&($=!0,_+=' class="',_+=utils.escape(createClass(this.classes)),_+='"');var te="";this.italic>0&&(te+="margin-right:"+this.italic+"em;");for(var re in this.style)this.style.hasOwnProperty(re)&&(te+=utils.hyphenate(re)+":"+this.style[re]+";");te&&($=!0,_+=' style="'+utils.escape(te)+'"');var ie=utils.escape(this.text);return $?(_+=">",_+=ie,_+="</span>",_):ie}}class SvgNode{constructor($,_){this.children=void 0,this.attributes=void 0,this.children=$||[],this.attributes=_||{}}toNode(){var $="http://www.w3.org/2000/svg",_=document.createElementNS($,"svg");for(var te in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,te)&&_.setAttribute(te,this.attributes[te]);for(var re=0;re<this.children.length;re++)_.appendChild(this.children[re].toNode());return _}toMarkup(){var $='<svg xmlns="http://www.w3.org/2000/svg"';for(var _ in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,_)&&($+=" "+_+"='"+this.attributes[_]+"'");$+=">";for(var te=0;te<this.children.length;te++)$+=this.children[te].toMarkup();return $+="</svg>",$}}class PathNode{constructor($,_){this.pathName=void 0,this.alternate=void 0,this.pathName=$,this.alternate=_}toNode(){var $="http://www.w3.org/2000/svg",_=document.createElementNS($,"path");return this.alternate?_.setAttribute("d",this.alternate):_.setAttribute("d",path[this.pathName]),_}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+path[this.pathName]+"'/>"}}class LineNode{constructor($){this.attributes=void 0,this.attributes=$||{}}toNode(){var $="http://www.w3.org/2000/svg",_=document.createElementNS($,"line");for(var te in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,te)&&_.setAttribute(te,this.attributes[te]);return _}toMarkup(){var $="<line";for(var _ in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,_)&&($+=" "+_+"='"+this.attributes[_]+"'");return $+="/>",$}}function assertSymbolDomNode(ee){if(ee instanceof SymbolNode)return ee;throw new Error("Expected symbolNode but got "+String(ee)+".")}function assertSpan(ee){if(ee instanceof Span)return ee;throw new Error("Expected span<HtmlDomNode> but got "+String(ee)+".")}var ATOMS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},NON_ATOMS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},symbols={math:{},text:{}};function defineSymbol(ee,$,_,te,re,ie){symbols[ee][re]={font:$,group:_,replace:te},ie&&te&&(symbols[ee][te]=symbols[ee][re])}var math="math",text="text",main="main",ams="ams",accent="accent-token",bin="bin",close="close",inner="inner",mathord="mathord",op="op-token",open="open",punct="punct",rel="rel",spacing="spacing",textord="textord";defineSymbol(math,main,rel,"\u2261","\\equiv",!0),defineSymbol(math,main,rel,"\u227A","\\prec",!0),defineSymbol(math,main,rel,"\u227B","\\succ",!0),defineSymbol(math,main,rel,"\u223C","\\sim",!0),defineSymbol(math,main,rel,"\u22A5","\\perp"),defineSymbol(math,main,rel,"\u2AAF","\\preceq",!0),defineSymbol(math,main,rel,"\u2AB0","\\succeq",!0),defineSymbol(math,main,rel,"\u2243","\\simeq",!0),defineSymbol(math,main,rel,"\u2223","\\mid",!0),defineSymbol(math,main,rel,"\u226A","\\ll",!0),defineSymbol(math,main,rel,"\u226B","\\gg",!0),defineSymbol(math,main,rel,"\u224D","\\asymp",!0),defineSymbol(math,main,rel,"\u2225","\\parallel"),defineSymbol(math,main,rel,"\u22C8","\\bowtie",!0),defineSymbol(math,main,rel,"\u2323","\\smile",!0),defineSymbol(math,main,rel,"\u2291","\\sqsubseteq",!0),defineSymbol(math,main,rel,"\u2292","\\sqsupseteq",!0),defineSymbol(math,main,rel,"\u2250","\\doteq",!0),defineSymbol(math,main,rel,"\u2322","\\frown",!0),defineSymbol(math,main,rel,"\u220B","\\ni",!0),defineSymbol(math,main,rel,"\u221D","\\propto",!0),defineSymbol(math,main,rel,"\u22A2","\\vdash",!0),defineSymbol(math,main,rel,"\u22A3","\\dashv",!0),defineSymbol(math,main,rel,"\u220B","\\owns"),defineSymbol(math,main,punct,".","\\ldotp"),defineSymbol(math,main,punct,"\u22C5","\\cdotp"),defineSymbol(math,main,textord,"#","\\#"),defineSymbol(text,main,textord,"#","\\#"),defineSymbol(math,main,textord,"&","\\&"),defineSymbol(text,main,textord,"&","\\&"),defineSymbol(math,main,textord,"\u2135","\\aleph",!0),defineSymbol(math,main,textord,"\u2200","\\forall",!0),defineSymbol(math,main,textord,"\u210F","\\hbar",!0),defineSymbol(math,main,textord,"\u2203","\\exists",!0),defineSymbol(math,main,textord,"\u2207","\\nabla",!0),defineSymbol(math,main,textord,"\u266D","\\flat",!0),defineSymbol(math,main,textord,"\u2113","\\ell",!0),defineSymbol(math,main,textord,"\u266E","\\natural",!0),defineSymbol(math,main,textord,"\u2663","\\clubsuit",!0),defineSymbol(math,main,textord,"\u2118","\\wp",!0),defineSymbol(math,main,textord,"\u266F","\\sharp",!0),defineSymbol(math,main,textord,"\u2662","\\diamondsuit",!0),defineSymbol(math,main,textord,"\u211C","\\Re",!0),defineSymbol(math,main,textord,"\u2661","\\heartsuit",!0),defineSymbol(math,main,textord,"\u2111","\\Im",!0),defineSymbol(math,main,textord,"\u2660","\\spadesuit",!0),defineSymbol(math,main,textord,"\xA7","\\S",!0),defineSymbol(text,main,textord,"\xA7","\\S"),defineSymbol(math,main,textord,"\xB6","\\P",!0),defineSymbol(text,main,textord,"\xB6","\\P"),defineSymbol(math,main,textord,"\u2020","\\dag"),defineSymbol(text,main,textord,"\u2020","\\dag"),defineSymbol(text,main,textord,"\u2020","\\textdagger"),defineSymbol(math,main,textord,"\u2021","\\ddag"),defineSymbol(text,main,textord,"\u2021","\\ddag"),defineSymbol(text,main,textord,"\u2021","\\textdaggerdbl"),defineSymbol(math,main,close,"\u23B1","\\rmoustache",!0),defineSymbol(math,main,open,"\u23B0","\\lmoustache",!0),defineSymbol(math,main,close,"\u27EF","\\rgroup",!0),defineSymbol(math,main,open,"\u27EE","\\lgroup",!0),defineSymbol(math,main,bin,"\u2213","\\mp",!0),defineSymbol(math,main,bin,"\u2296","\\ominus",!0),defineSymbol(math,main,bin,"\u228E","\\uplus",!0),defineSymbol(math,main,bin,"\u2293","\\sqcap",!0),defineSymbol(math,main,bin,"\u2217","\\ast"),defineSymbol(math,main,bin,"\u2294","\\sqcup",!0),defineSymbol(math,main,bin,"\u25EF","\\bigcirc",!0),defineSymbol(math,main,bin,"\u2219","\\bullet"),defineSymbol(math,main,bin,"\u2021","\\ddagger"),defineSymbol(math,main,bin,"\u2240","\\wr",!0),defineSymbol(math,main,bin,"\u2A3F","\\amalg"),defineSymbol(math,main,bin,"&","\\And"),defineSymbol(math,main,rel,"\u27F5","\\longleftarrow",!0),defineSymbol(math,main,rel,"\u21D0","\\Leftarrow",!0),defineSymbol(math,main,rel,"\u27F8","\\Longleftarrow",!0),defineSymbol(math,main,rel,"\u27F6","\\longrightarrow",!0),defineSymbol(math,main,rel,"\u21D2","\\Rightarrow",!0),defineSymbol(math,main,rel,"\u27F9","\\Longrightarrow",!0),defineSymbol(math,main,rel,"\u2194","\\leftrightarrow",!0),defineSymbol(math,main,rel,"\u27F7","\\longleftrightarrow",!0),defineSymbol(math,main,rel,"\u21D4","\\Leftrightarrow",!0),defineSymbol(math,main,rel,"\u27FA","\\Longleftrightarrow",!0),defineSymbol(math,main,rel,"\u21A6","\\mapsto",!0),defineSymbol(math,main,rel,"\u27FC","\\longmapsto",!0),defineSymbol(math,main,rel,"\u2197","\\nearrow",!0),defineSymbol(math,main,rel,"\u21A9","\\hookleftarrow",!0),defineSymbol(math,main,rel,"\u21AA","\\hookrightarrow",!0),defineSymbol(math,main,rel,"\u2198","\\searrow",!0),defineSymbol(math,main,rel,"\u21BC","\\leftharpoonup",!0),defineSymbol(math,main,rel,"\u21C0","\\rightharpoonup",!0),defineSymbol(math,main,rel,"\u2199","\\swarrow",!0),defineSymbol(math,main,rel,"\u21BD","\\leftharpoondown",!0),defineSymbol(math,main,rel,"\u21C1","\\rightharpoondown",!0),defineSymbol(math,main,rel,"\u2196","\\nwarrow",!0),defineSymbol(math,main,rel,"\u21CC","\\rightleftharpoons",!0),defineSymbol(math,ams,rel,"\u226E","\\nless",!0),defineSymbol(math,ams,rel,"\uE010","\\@nleqslant"),defineSymbol(math,ams,rel,"\uE011","\\@nleqq"),defineSymbol(math,ams,rel,"\u2A87","\\lneq",!0),defineSymbol(math,ams,rel,"\u2268","\\lneqq",!0),defineSymbol(math,ams,rel,"\uE00C","\\@lvertneqq"),defineSymbol(math,ams,rel,"\u22E6","\\lnsim",!0),defineSymbol(math,ams,rel,"\u2A89","\\lnapprox",!0),defineSymbol(math,ams,rel,"\u2280","\\nprec",!0),defineSymbol(math,ams,rel,"\u22E0","\\npreceq",!0),defineSymbol(math,ams,rel,"\u22E8","\\precnsim",!0),defineSymbol(math,ams,rel,"\u2AB9","\\precnapprox",!0),defineSymbol(math,ams,rel,"\u2241","\\nsim",!0),defineSymbol(math,ams,rel,"\uE006","\\@nshortmid"),defineSymbol(math,ams,rel,"\u2224","\\nmid",!0),defineSymbol(math,ams,rel,"\u22AC","\\nvdash",!0),defineSymbol(math,ams,rel,"\u22AD","\\nvDash",!0),defineSymbol(math,ams,rel,"\u22EA","\\ntriangleleft"),defineSymbol(math,ams,rel,"\u22EC","\\ntrianglelefteq",!0),defineSymbol(math,ams,rel,"\u228A","\\subsetneq",!0),defineSymbol(math,ams,rel,"\uE01A","\\@varsubsetneq"),defineSymbol(math,ams,rel,"\u2ACB","\\subsetneqq",!0),defineSymbol(math,ams,rel,"\uE017","\\@varsubsetneqq"),defineSymbol(math,ams,rel,"\u226F","\\ngtr",!0),defineSymbol(math,ams,rel,"\uE00F","\\@ngeqslant"),defineSymbol(math,ams,rel,"\uE00E","\\@ngeqq"),defineSymbol(math,ams,rel,"\u2A88","\\gneq",!0),defineSymbol(math,ams,rel,"\u2269","\\gneqq",!0),defineSymbol(math,ams,rel,"\uE00D","\\@gvertneqq"),defineSymbol(math,ams,rel,"\u22E7","\\gnsim",!0),defineSymbol(math,ams,rel,"\u2A8A","\\gnapprox",!0),defineSymbol(math,ams,rel,"\u2281","\\nsucc",!0),defineSymbol(math,ams,rel,"\u22E1","\\nsucceq",!0),defineSymbol(math,ams,rel,"\u22E9","\\succnsim",!0),defineSymbol(math,ams,rel,"\u2ABA","\\succnapprox",!0),defineSymbol(math,ams,rel,"\u2246","\\ncong",!0),defineSymbol(math,ams,rel,"\uE007","\\@nshortparallel"),defineSymbol(math,ams,rel,"\u2226","\\nparallel",!0),defineSymbol(math,ams,rel,"\u22AF","\\nVDash",!0),defineSymbol(math,ams,rel,"\u22EB","\\ntriangleright"),defineSymbol(math,ams,rel,"\u22ED","\\ntrianglerighteq",!0),defineSymbol(math,ams,rel,"\uE018","\\@nsupseteqq"),defineSymbol(math,ams,rel,"\u228B","\\supsetneq",!0),defineSymbol(math,ams,rel,"\uE01B","\\@varsupsetneq"),defineSymbol(math,ams,rel,"\u2ACC","\\supsetneqq",!0),defineSymbol(math,ams,rel,"\uE019","\\@varsupsetneqq"),defineSymbol(math,ams,rel,"\u22AE","\\nVdash",!0),defineSymbol(math,ams,rel,"\u2AB5","\\precneqq",!0),defineSymbol(math,ams,rel,"\u2AB6","\\succneqq",!0),defineSymbol(math,ams,rel,"\uE016","\\@nsubseteqq"),defineSymbol(math,ams,bin,"\u22B4","\\unlhd"),defineSymbol(math,ams,bin,"\u22B5","\\unrhd"),defineSymbol(math,ams,rel,"\u219A","\\nleftarrow",!0),defineSymbol(math,ams,rel,"\u219B","\\nrightarrow",!0),defineSymbol(math,ams,rel,"\u21CD","\\nLeftarrow",!0),defineSymbol(math,ams,rel,"\u21CF","\\nRightarrow",!0),defineSymbol(math,ams,rel,"\u21AE","\\nleftrightarrow",!0),defineSymbol(math,ams,rel,"\u21CE","\\nLeftrightarrow",!0),defineSymbol(math,ams,rel,"\u25B3","\\vartriangle"),defineSymbol(math,ams,textord,"\u210F","\\hslash"),defineSymbol(math,ams,textord,"\u25BD","\\triangledown"),defineSymbol(math,ams,textord,"\u25CA","\\lozenge"),defineSymbol(math,ams,textord,"\u24C8","\\circledS"),defineSymbol(math,ams,textord,"\xAE","\\circledR"),defineSymbol(text,ams,textord,"\xAE","\\circledR"),defineSymbol(math,ams,textord,"\u2221","\\measuredangle",!0),defineSymbol(math,ams,textord,"\u2204","\\nexists"),defineSymbol(math,ams,textord,"\u2127","\\mho"),defineSymbol(math,ams,textord,"\u2132","\\Finv",!0),defineSymbol(math,ams,textord,"\u2141","\\Game",!0),defineSymbol(math,ams,textord,"\u2035","\\backprime"),defineSymbol(math,ams,textord,"\u25B2","\\blacktriangle"),defineSymbol(math,ams,textord,"\u25BC","\\blacktriangledown"),defineSymbol(math,ams,textord,"\u25A0","\\blacksquare"),defineSymbol(math,ams,textord,"\u29EB","\\blacklozenge"),defineSymbol(math,ams,textord,"\u2605","\\bigstar"),defineSymbol(math,ams,textord,"\u2222","\\sphericalangle",!0),defineSymbol(math,ams,textord,"\u2201","\\complement",!0),defineSymbol(math,ams,textord,"\xF0","\\eth",!0),defineSymbol(text,main,textord,"\xF0","\xF0"),defineSymbol(math,ams,textord,"\u2571","\\diagup"),defineSymbol(math,ams,textord,"\u2572","\\diagdown"),defineSymbol(math,ams,textord,"\u25A1","\\square"),defineSymbol(math,ams,textord,"\u25A1","\\Box"),defineSymbol(math,ams,textord,"\u25CA","\\Diamond"),defineSymbol(math,ams,textord,"\xA5","\\yen",!0),defineSymbol(text,ams,textord,"\xA5","\\yen",!0),defineSymbol(math,ams,textord,"\u2713","\\checkmark",!0),defineSymbol(text,ams,textord,"\u2713","\\checkmark"),defineSymbol(math,ams,textord,"\u2136","\\beth",!0),defineSymbol(math,ams,textord,"\u2138","\\daleth",!0),defineSymbol(math,ams,textord,"\u2137","\\gimel",!0),defineSymbol(math,ams,textord,"\u03DD","\\digamma",!0),defineSymbol(math,ams,textord,"\u03F0","\\varkappa"),defineSymbol(math,ams,open,"\u250C","\\@ulcorner",!0),defineSymbol(math,ams,close,"\u2510","\\@urcorner",!0),defineSymbol(math,ams,open,"\u2514","\\@llcorner",!0),defineSymbol(math,ams,close,"\u2518","\\@lrcorner",!0),defineSymbol(math,ams,rel,"\u2266","\\leqq",!0),defineSymbol(math,ams,rel,"\u2A7D","\\leqslant",!0),defineSymbol(math,ams,rel,"\u2A95","\\eqslantless",!0),defineSymbol(math,ams,rel,"\u2272","\\lesssim",!0),defineSymbol(math,ams,rel,"\u2A85","\\lessapprox",!0),defineSymbol(math,ams,rel,"\u224A","\\approxeq",!0),defineSymbol(math,ams,bin,"\u22D6","\\lessdot"),defineSymbol(math,ams,rel,"\u22D8","\\lll",!0),defineSymbol(math,ams,rel,"\u2276","\\lessgtr",!0),defineSymbol(math,ams,rel,"\u22DA","\\lesseqgtr",!0),defineSymbol(math,ams,rel,"\u2A8B","\\lesseqqgtr",!0),defineSymbol(math,ams,rel,"\u2251","\\doteqdot"),defineSymbol(math,ams,rel,"\u2253","\\risingdotseq",!0),defineSymbol(math,ams,rel,"\u2252","\\fallingdotseq",!0),defineSymbol(math,ams,rel,"\u223D","\\backsim",!0),defineSymbol(math,ams,rel,"\u22CD","\\backsimeq",!0),defineSymbol(math,ams,rel,"\u2AC5","\\subseteqq",!0),defineSymbol(math,ams,rel,"\u22D0","\\Subset",!0),defineSymbol(math,ams,rel,"\u228F","\\sqsubset",!0),defineSymbol(math,ams,rel,"\u227C","\\preccurlyeq",!0),defineSymbol(math,ams,rel,"\u22DE","\\curlyeqprec",!0),defineSymbol(math,ams,rel,"\u227E","\\precsim",!0),defineSymbol(math,ams,rel,"\u2AB7","\\precapprox",!0),defineSymbol(math,ams,rel,"\u22B2","\\vartriangleleft"),defineSymbol(math,ams,rel,"\u22B4","\\trianglelefteq"),defineSymbol(math,ams,rel,"\u22A8","\\vDash",!0),defineSymbol(math,ams,rel,"\u22AA","\\Vvdash",!0),defineSymbol(math,ams,rel,"\u2323","\\smallsmile"),defineSymbol(math,ams,rel,"\u2322","\\smallfrown"),defineSymbol(math,ams,rel,"\u224F","\\bumpeq",!0),defineSymbol(math,ams,rel,"\u224E","\\Bumpeq",!0),defineSymbol(math,ams,rel,"\u2267","\\geqq",!0),defineSymbol(math,ams,rel,"\u2A7E","\\geqslant",!0),defineSymbol(math,ams,rel,"\u2A96","\\eqslantgtr",!0),defineSymbol(math,ams,rel,"\u2273","\\gtrsim",!0),defineSymbol(math,ams,rel,"\u2A86","\\gtrapprox",!0),defineSymbol(math,ams,bin,"\u22D7","\\gtrdot"),defineSymbol(math,ams,rel,"\u22D9","\\ggg",!0),defineSymbol(math,ams,rel,"\u2277","\\gtrless",!0),defineSymbol(math,ams,rel,"\u22DB","\\gtreqless",!0),defineSymbol(math,ams,rel,"\u2A8C","\\gtreqqless",!0),defineSymbol(math,ams,rel,"\u2256","\\eqcirc",!0),defineSymbol(math,ams,rel,"\u2257","\\circeq",!0),defineSymbol(math,ams,rel,"\u225C","\\triangleq",!0),defineSymbol(math,ams,rel,"\u223C","\\thicksim"),defineSymbol(math,ams,rel,"\u2248","\\thickapprox"),defineSymbol(math,ams,rel,"\u2AC6","\\supseteqq",!0),defineSymbol(math,ams,rel,"\u22D1","\\Supset",!0),defineSymbol(math,ams,rel,"\u2290","\\sqsupset",!0),defineSymbol(math,ams,rel,"\u227D","\\succcurlyeq",!0),defineSymbol(math,ams,rel,"\u22DF","\\curlyeqsucc",!0),defineSymbol(math,ams,rel,"\u227F","\\succsim",!0),defineSymbol(math,ams,rel,"\u2AB8","\\succapprox",!0),defineSymbol(math,ams,rel,"\u22B3","\\vartriangleright"),defineSymbol(math,ams,rel,"\u22B5","\\trianglerighteq"),defineSymbol(math,ams,rel,"\u22A9","\\Vdash",!0),defineSymbol(math,ams,rel,"\u2223","\\shortmid"),defineSymbol(math,ams,rel,"\u2225","\\shortparallel"),defineSymbol(math,ams,rel,"\u226C","\\between",!0),defineSymbol(math,ams,rel,"\u22D4","\\pitchfork",!0),defineSymbol(math,ams,rel,"\u221D","\\varpropto"),defineSymbol(math,ams,rel,"\u25C0","\\blacktriangleleft"),defineSymbol(math,ams,rel,"\u2234","\\therefore",!0),defineSymbol(math,ams,rel,"\u220D","\\backepsilon"),defineSymbol(math,ams,rel,"\u25B6","\\blacktriangleright"),defineSymbol(math,ams,rel,"\u2235","\\because",!0),defineSymbol(math,ams,rel,"\u22D8","\\llless"),defineSymbol(math,ams,rel,"\u22D9","\\gggtr"),defineSymbol(math,ams,bin,"\u22B2","\\lhd"),defineSymbol(math,ams,bin,"\u22B3","\\rhd"),defineSymbol(math,ams,rel,"\u2242","\\eqsim",!0),defineSymbol(math,main,rel,"\u22C8","\\Join"),defineSymbol(math,ams,rel,"\u2251","\\Doteq",!0),defineSymbol(math,ams,bin,"\u2214","\\dotplus",!0),defineSymbol(math,ams,bin,"\u2216","\\smallsetminus"),defineSymbol(math,ams,bin,"\u22D2","\\Cap",!0),defineSymbol(math,ams,bin,"\u22D3","\\Cup",!0),defineSymbol(math,ams,bin,"\u2A5E","\\doublebarwedge",!0),defineSymbol(math,ams,bin,"\u229F","\\boxminus",!0),defineSymbol(math,ams,bin,"\u229E","\\boxplus",!0),defineSymbol(math,ams,bin,"\u22C7","\\divideontimes",!0),defineSymbol(math,ams,bin,"\u22C9","\\ltimes",!0),defineSymbol(math,ams,bin,"\u22CA","\\rtimes",!0),defineSymbol(math,ams,bin,"\u22CB","\\leftthreetimes",!0),defineSymbol(math,ams,bin,"\u22CC","\\rightthreetimes",!0),defineSymbol(math,ams,bin,"\u22CF","\\curlywedge",!0),defineSymbol(math,ams,bin,"\u22CE","\\curlyvee",!0),defineSymbol(math,ams,bin,"\u229D","\\circleddash",!0),defineSymbol(math,ams,bin,"\u229B","\\circledast",!0),defineSymbol(math,ams,bin,"\u22C5","\\centerdot"),defineSymbol(math,ams,bin,"\u22BA","\\intercal",!0),defineSymbol(math,ams,bin,"\u22D2","\\doublecap"),defineSymbol(math,ams,bin,"\u22D3","\\doublecup"),defineSymbol(math,ams,bin,"\u22A0","\\boxtimes",!0),defineSymbol(math,ams,rel,"\u21E2","\\dashrightarrow",!0),defineSymbol(math,ams,rel,"\u21E0","\\dashleftarrow",!0),defineSymbol(math,ams,rel,"\u21C7","\\leftleftarrows",!0),defineSymbol(math,ams,rel,"\u21C6","\\leftrightarrows",!0),defineSymbol(math,ams,rel,"\u21DA","\\Lleftarrow",!0),defineSymbol(math,ams,rel,"\u219E","\\twoheadleftarrow",!0),defineSymbol(math,ams,rel,"\u21A2","\\leftarrowtail",!0),defineSymbol(math,ams,rel,"\u21AB","\\looparrowleft",!0),defineSymbol(math,ams,rel,"\u21CB","\\leftrightharpoons",!0),defineSymbol(math,ams,rel,"\u21B6","\\curvearrowleft",!0),defineSymbol(math,ams,rel,"\u21BA","\\circlearrowleft",!0),defineSymbol(math,ams,rel,"\u21B0","\\Lsh",!0),defineSymbol(math,ams,rel,"\u21C8","\\upuparrows",!0),defineSymbol(math,ams,rel,"\u21BF","\\upharpoonleft",!0),defineSymbol(math,ams,rel,"\u21C3","\\downharpoonleft",!0),defineSymbol(math,main,rel,"\u22B6","\\origof",!0),defineSymbol(math,main,rel,"\u22B7","\\imageof",!0),defineSymbol(math,ams,rel,"\u22B8","\\multimap",!0),defineSymbol(math,ams,rel,"\u21AD","\\leftrightsquigarrow",!0),defineSymbol(math,ams,rel,"\u21C9","\\rightrightarrows",!0),defineSymbol(math,ams,rel,"\u21C4","\\rightleftarrows",!0),defineSymbol(math,ams,rel,"\u21A0","\\twoheadrightarrow",!0),defineSymbol(math,ams,rel,"\u21A3","\\rightarrowtail",!0),defineSymbol(math,ams,rel,"\u21AC","\\looparrowright",!0),defineSymbol(math,ams,rel,"\u21B7","\\curvearrowright",!0),defineSymbol(math,ams,rel,"\u21BB","\\circlearrowright",!0),defineSymbol(math,ams,rel,"\u21B1","\\Rsh",!0),defineSymbol(math,ams,rel,"\u21CA","\\downdownarrows",!0),defineSymbol(math,ams,rel,"\u21BE","\\upharpoonright",!0),defineSymbol(math,ams,rel,"\u21C2","\\downharpoonright",!0),defineSymbol(math,ams,rel,"\u21DD","\\rightsquigarrow",!0),defineSymbol(math,ams,rel,"\u21DD","\\leadsto"),defineSymbol(math,ams,rel,"\u21DB","\\Rrightarrow",!0),defineSymbol(math,ams,rel,"\u21BE","\\restriction"),defineSymbol(math,main,textord,"\u2018","`"),defineSymbol(math,main,textord,"$","\\$"),defineSymbol(text,main,textord,"$","\\$"),defineSymbol(text,main,textord,"$","\\textdollar"),defineSymbol(math,main,textord,"%","\\%"),defineSymbol(text,main,textord,"%","\\%"),defineSymbol(math,main,textord,"_","\\_"),defineSymbol(text,main,textord,"_","\\_"),defineSymbol(text,main,textord,"_","\\textunderscore"),defineSymbol(math,main,textord,"\u2220","\\angle",!0),defineSymbol(math,main,textord,"\u221E","\\infty",!0),defineSymbol(math,main,textord,"\u2032","\\prime"),defineSymbol(math,main,textord,"\u25B3","\\triangle"),defineSymbol(math,main,textord,"\u0393","\\Gamma",!0),defineSymbol(math,main,textord,"\u0394","\\Delta",!0),defineSymbol(math,main,textord,"\u0398","\\Theta",!0),defineSymbol(math,main,textord,"\u039B","\\Lambda",!0),defineSymbol(math,main,textord,"\u039E","\\Xi",!0),defineSymbol(math,main,textord,"\u03A0","\\Pi",!0),defineSymbol(math,main,textord,"\u03A3","\\Sigma",!0),defineSymbol(math,main,textord,"\u03A5","\\Upsilon",!0),defineSymbol(math,main,textord,"\u03A6","\\Phi",!0),defineSymbol(math,main,textord,"\u03A8","\\Psi",!0),defineSymbol(math,main,textord,"\u03A9","\\Omega",!0),defineSymbol(math,main,textord,"A","\u0391"),defineSymbol(math,main,textord,"B","\u0392"),defineSymbol(math,main,textord,"E","\u0395"),defineSymbol(math,main,textord,"Z","\u0396"),defineSymbol(math,main,textord,"H","\u0397"),defineSymbol(math,main,textord,"I","\u0399"),defineSymbol(math,main,textord,"K","\u039A"),defineSymbol(math,main,textord,"M","\u039C"),defineSymbol(math,main,textord,"N","\u039D"),defineSymbol(math,main,textord,"O","\u039F"),defineSymbol(math,main,textord,"P","\u03A1"),defineSymbol(math,main,textord,"T","\u03A4"),defineSymbol(math,main,textord,"X","\u03A7"),defineSymbol(math,main,textord,"\xAC","\\neg",!0),defineSymbol(math,main,textord,"\xAC","\\lnot"),defineSymbol(math,main,textord,"\u22A4","\\top"),defineSymbol(math,main,textord,"\u22A5","\\bot"),defineSymbol(math,main,textord,"\u2205","\\emptyset"),defineSymbol(math,ams,textord,"\u2205","\\varnothing"),defineSymbol(math,main,mathord,"\u03B1","\\alpha",!0),defineSymbol(math,main,mathord,"\u03B2","\\beta",!0),defineSymbol(math,main,mathord,"\u03B3","\\gamma",!0),defineSymbol(math,main,mathord,"\u03B4","\\delta",!0),defineSymbol(math,main,mathord,"\u03F5","\\epsilon",!0),defineSymbol(math,main,mathord,"\u03B6","\\zeta",!0),defineSymbol(math,main,mathord,"\u03B7","\\eta",!0),defineSymbol(math,main,mathord,"\u03B8","\\theta",!0),defineSymbol(math,main,mathord,"\u03B9","\\iota",!0),defineSymbol(math,main,mathord,"\u03BA","\\kappa",!0),defineSymbol(math,main,mathord,"\u03BB","\\lambda",!0),defineSymbol(math,main,mathord,"\u03BC","\\mu",!0),defineSymbol(math,main,mathord,"\u03BD","\\nu",!0),defineSymbol(math,main,mathord,"\u03BE","\\xi",!0),defineSymbol(math,main,mathord,"\u03BF","\\omicron",!0),defineSymbol(math,main,mathord,"\u03C0","\\pi",!0),defineSymbol(math,main,mathord,"\u03C1","\\rho",!0),defineSymbol(math,main,mathord,"\u03C3","\\sigma",!0),defineSymbol(math,main,mathord,"\u03C4","\\tau",!0),defineSymbol(math,main,mathord,"\u03C5","\\upsilon",!0),defineSymbol(math,main,mathord,"\u03D5","\\phi",!0),defineSymbol(math,main,mathord,"\u03C7","\\chi",!0),defineSymbol(math,main,mathord,"\u03C8","\\psi",!0),defineSymbol(math,main,mathord,"\u03C9","\\omega",!0),defineSymbol(math,main,mathord,"\u03B5","\\varepsilon",!0),defineSymbol(math,main,mathord,"\u03D1","\\vartheta",!0),defineSymbol(math,main,mathord,"\u03D6","\\varpi",!0),defineSymbol(math,main,mathord,"\u03F1","\\varrho",!0),defineSymbol(math,main,mathord,"\u03C2","\\varsigma",!0),defineSymbol(math,main,mathord,"\u03C6","\\varphi",!0),defineSymbol(math,main,bin,"\u2217","*",!0),defineSymbol(math,main,bin,"+","+"),defineSymbol(math,main,bin,"\u2212","-",!0),defineSymbol(math,main,bin,"\u22C5","\\cdot",!0),defineSymbol(math,main,bin,"\u2218","\\circ"),defineSymbol(math,main,bin,"\xF7","\\div",!0),defineSymbol(math,main,bin,"\xB1","\\pm",!0),defineSymbol(math,main,bin,"\xD7","\\times",!0),defineSymbol(math,main,bin,"\u2229","\\cap",!0),defineSymbol(math,main,bin,"\u222A","\\cup",!0),defineSymbol(math,main,bin,"\u2216","\\setminus"),defineSymbol(math,main,bin,"\u2227","\\land"),defineSymbol(math,main,bin,"\u2228","\\lor"),defineSymbol(math,main,bin,"\u2227","\\wedge",!0),defineSymbol(math,main,bin,"\u2228","\\vee",!0),defineSymbol(math,main,textord,"\u221A","\\surd"),defineSymbol(math,main,open,"\u27E8","\\langle",!0),defineSymbol(math,main,open,"\u2223","\\lvert"),defineSymbol(math,main,open,"\u2225","\\lVert"),defineSymbol(math,main,close,"?","?"),defineSymbol(math,main,close,"!","!"),defineSymbol(math,main,close,"\u27E9","\\rangle",!0),defineSymbol(math,main,close,"\u2223","\\rvert"),defineSymbol(math,main,close,"\u2225","\\rVert"),defineSymbol(math,main,rel,"=","="),defineSymbol(math,main,rel,":",":"),defineSymbol(math,main,rel,"\u2248","\\approx",!0),defineSymbol(math,main,rel,"\u2245","\\cong",!0),defineSymbol(math,main,rel,"\u2265","\\ge"),defineSymbol(math,main,rel,"\u2265","\\geq",!0),defineSymbol(math,main,rel,"\u2190","\\gets"),defineSymbol(math,main,rel,">","\\gt",!0),defineSymbol(math,main,rel,"\u2208","\\in",!0),defineSymbol(math,main,rel,"\uE020","\\@not"),defineSymbol(math,main,rel,"\u2282","\\subset",!0),defineSymbol(math,main,rel,"\u2283","\\supset",!0),defineSymbol(math,main,rel,"\u2286","\\subseteq",!0),defineSymbol(math,main,rel,"\u2287","\\supseteq",!0),defineSymbol(math,ams,rel,"\u2288","\\nsubseteq",!0),defineSymbol(math,ams,rel,"\u2289","\\nsupseteq",!0),defineSymbol(math,main,rel,"\u22A8","\\models"),defineSymbol(math,main,rel,"\u2190","\\leftarrow",!0),defineSymbol(math,main,rel,"\u2264","\\le"),defineSymbol(math,main,rel,"\u2264","\\leq",!0),defineSymbol(math,main,rel,"<","\\lt",!0),defineSymbol(math,main,rel,"\u2192","\\rightarrow",!0),defineSymbol(math,main,rel,"\u2192","\\to"),defineSymbol(math,ams,rel,"\u2271","\\ngeq",!0),defineSymbol(math,ams,rel,"\u2270","\\nleq",!0),defineSymbol(math,main,spacing,"\xA0","\\ "),defineSymbol(math,main,spacing,"\xA0","\\space"),defineSymbol(math,main,spacing,"\xA0","\\nobreakspace"),defineSymbol(text,main,spacing,"\xA0","\\ "),defineSymbol(text,main,spacing,"\xA0"," "),defineSymbol(text,main,spacing,"\xA0","\\space"),defineSymbol(text,main,spacing,"\xA0","\\nobreakspace"),defineSymbol(math,main,spacing,null,"\\nobreak"),defineSymbol(math,main,spacing,null,"\\allowbreak"),defineSymbol(math,main,punct,",",","),defineSymbol(math,main,punct,";",";"),defineSymbol(math,ams,bin,"\u22BC","\\barwedge",!0),defineSymbol(math,ams,bin,"\u22BB","\\veebar",!0),defineSymbol(math,main,bin,"\u2299","\\odot",!0),defineSymbol(math,main,bin,"\u2295","\\oplus",!0),defineSymbol(math,main,bin,"\u2297","\\otimes",!0),defineSymbol(math,main,textord,"\u2202","\\partial",!0),defineSymbol(math,main,bin,"\u2298","\\oslash",!0),defineSymbol(math,ams,bin,"\u229A","\\circledcirc",!0),defineSymbol(math,ams,bin,"\u22A1","\\boxdot",!0),defineSymbol(math,main,bin,"\u25B3","\\bigtriangleup"),defineSymbol(math,main,bin,"\u25BD","\\bigtriangledown"),defineSymbol(math,main,bin,"\u2020","\\dagger"),defineSymbol(math,main,bin,"\u22C4","\\diamond"),defineSymbol(math,main,bin,"\u22C6","\\star"),defineSymbol(math,main,bin,"\u25C3","\\triangleleft"),defineSymbol(math,main,bin,"\u25B9","\\triangleright"),defineSymbol(math,main,open,"{","\\{"),defineSymbol(text,main,textord,"{","\\{"),defineSymbol(text,main,textord,"{","\\textbraceleft"),defineSymbol(math,main,close,"}","\\}"),defineSymbol(text,main,textord,"}","\\}"),defineSymbol(text,main,textord,"}","\\textbraceright"),defineSymbol(math,main,open,"{","\\lbrace"),defineSymbol(math,main,close,"}","\\rbrace"),defineSymbol(math,main,open,"[","\\lbrack",!0),defineSymbol(text,main,textord,"[","\\lbrack",!0),defineSymbol(math,main,close,"]","\\rbrack",!0),defineSymbol(text,main,textord,"]","\\rbrack",!0),defineSymbol(math,main,open,"(","\\lparen",!0),defineSymbol(math,main,close,")","\\rparen",!0),defineSymbol(text,main,textord,"<","\\textless",!0),defineSymbol(text,main,textord,">","\\textgreater",!0),defineSymbol(math,main,open,"\u230A","\\lfloor",!0),defineSymbol(math,main,close,"\u230B","\\rfloor",!0),defineSymbol(math,main,open,"\u2308","\\lceil",!0),defineSymbol(math,main,close,"\u2309","\\rceil",!0),defineSymbol(math,main,textord,"\\","\\backslash"),defineSymbol(math,main,textord,"\u2223","|"),defineSymbol(math,main,textord,"\u2223","\\vert"),defineSymbol(text,main,textord,"|","\\textbar",!0),defineSymbol(math,main,textord,"\u2225","\\|"),defineSymbol(math,main,textord,"\u2225","\\Vert"),defineSymbol(text,main,textord,"\u2225","\\textbardbl"),defineSymbol(text,main,textord,"~","\\textasciitilde"),defineSymbol(text,main,textord,"\\","\\textbackslash"),defineSymbol(text,main,textord,"^","\\textasciicircum"),defineSymbol(math,main,rel,"\u2191","\\uparrow",!0),defineSymbol(math,main,rel,"\u21D1","\\Uparrow",!0),defineSymbol(math,main,rel,"\u2193","\\downarrow",!0),defineSymbol(math,main,rel,"\u21D3","\\Downarrow",!0),defineSymbol(math,main,rel,"\u2195","\\updownarrow",!0),defineSymbol(math,main,rel,"\u21D5","\\Updownarrow",!0),defineSymbol(math,main,op,"\u2210","\\coprod"),defineSymbol(math,main,op,"\u22C1","\\bigvee"),defineSymbol(math,main,op,"\u22C0","\\bigwedge"),defineSymbol(math,main,op,"\u2A04","\\biguplus"),defineSymbol(math,main,op,"\u22C2","\\bigcap"),defineSymbol(math,main,op,"\u22C3","\\bigcup"),defineSymbol(math,main,op,"\u222B","\\int"),defineSymbol(math,main,op,"\u222B","\\intop"),defineSymbol(math,main,op,"\u222C","\\iint"),defineSymbol(math,main,op,"\u222D","\\iiint"),defineSymbol(math,main,op,"\u220F","\\prod"),defineSymbol(math,main,op,"\u2211","\\sum"),defineSymbol(math,main,op,"\u2A02","\\bigotimes"),defineSymbol(math,main,op,"\u2A01","\\bigoplus"),defineSymbol(math,main,op,"\u2A00","\\bigodot"),defineSymbol(math,main,op,"\u222E","\\oint"),defineSymbol(math,main,op,"\u222F","\\oiint"),defineSymbol(math,main,op,"\u2230","\\oiiint"),defineSymbol(math,main,op,"\u2A06","\\bigsqcup"),defineSymbol(math,main,op,"\u222B","\\smallint"),defineSymbol(text,main,inner,"\u2026","\\textellipsis"),defineSymbol(math,main,inner,"\u2026","\\mathellipsis"),defineSymbol(text,main,inner,"\u2026","\\ldots",!0),defineSymbol(math,main,inner,"\u2026","\\ldots",!0),defineSymbol(math,main,inner,"\u22EF","\\@cdots",!0),defineSymbol(math,main,inner,"\u22F1","\\ddots",!0),defineSymbol(math,main,textord,"\u22EE","\\varvdots"),defineSymbol(math,main,accent,"\u02CA","\\acute"),defineSymbol(math,main,accent,"\u02CB","\\grave"),defineSymbol(math,main,accent,"\xA8","\\ddot"),defineSymbol(math,main,accent,"~","\\tilde"),defineSymbol(math,main,accent,"\u02C9","\\bar"),defineSymbol(math,main,accent,"\u02D8","\\breve"),defineSymbol(math,main,accent,"\u02C7","\\check"),defineSymbol(math,main,accent,"^","\\hat"),defineSymbol(math,main,accent,"\u20D7","\\vec"),defineSymbol(math,main,accent,"\u02D9","\\dot"),defineSymbol(math,main,accent,"\u02DA","\\mathring"),defineSymbol(math,main,mathord,"\uE131","\\@imath"),defineSymbol(math,main,mathord,"\uE237","\\@jmath"),defineSymbol(math,main,textord,"\u0131","\u0131"),defineSymbol(math,main,textord,"\u0237","\u0237"),defineSymbol(text,main,textord,"\u0131","\\i",!0),defineSymbol(text,main,textord,"\u0237","\\j",!0),defineSymbol(text,main,textord,"\xDF","\\ss",!0),defineSymbol(text,main,textord,"\xE6","\\ae",!0),defineSymbol(text,main,textord,"\u0153","\\oe",!0),defineSymbol(text,main,textord,"\xF8","\\o",!0),defineSymbol(text,main,textord,"\xC6","\\AE",!0),defineSymbol(text,main,textord,"\u0152","\\OE",!0),defineSymbol(text,main,textord,"\xD8","\\O",!0),defineSymbol(text,main,accent,"\u02CA","\\'"),defineSymbol(text,main,accent,"\u02CB","\\`"),defineSymbol(text,main,accent,"\u02C6","\\^"),defineSymbol(text,main,accent,"\u02DC","\\~"),defineSymbol(text,main,accent,"\u02C9","\\="),defineSymbol(text,main,accent,"\u02D8","\\u"),defineSymbol(text,main,accent,"\u02D9","\\."),defineSymbol(text,main,accent,"\xB8","\\c"),defineSymbol(text,main,accent,"\u02DA","\\r"),defineSymbol(text,main,accent,"\u02C7","\\v"),defineSymbol(text,main,accent,"\xA8",'\\"'),defineSymbol(text,main,accent,"\u02DD","\\H"),defineSymbol(text,main,accent,"\u25EF","\\textcircled");var ligatures={"--":!0,"---":!0,"``":!0,"''":!0};defineSymbol(text,main,textord,"\u2013","--",!0),defineSymbol(text,main,textord,"\u2013","\\textendash"),defineSymbol(text,main,textord,"\u2014","---",!0),defineSymbol(text,main,textord,"\u2014","\\textemdash"),defineSymbol(text,main,textord,"\u2018","`",!0),defineSymbol(text,main,textord,"\u2018","\\textquoteleft"),defineSymbol(text,main,textord,"\u2019","'",!0),defineSymbol(text,main,textord,"\u2019","\\textquoteright"),defineSymbol(text,main,textord,"\u201C","``",!0),defineSymbol(text,main,textord,"\u201C","\\textquotedblleft"),defineSymbol(text,main,textord,"\u201D","''",!0),defineSymbol(text,main,textord,"\u201D","\\textquotedblright"),defineSymbol(math,main,textord,"\xB0","\\degree",!0),defineSymbol(text,main,textord,"\xB0","\\degree"),defineSymbol(text,main,textord,"\xB0","\\textdegree",!0),defineSymbol(math,main,textord,"\xA3","\\pounds"),defineSymbol(math,main,textord,"\xA3","\\mathsterling",!0),defineSymbol(text,main,textord,"\xA3","\\pounds"),defineSymbol(text,main,textord,"\xA3","\\textsterling",!0),defineSymbol(math,ams,textord,"\u2720","\\maltese"),defineSymbol(text,ams,textord,"\u2720","\\maltese");for(var mathTextSymbols='0123456789/@."',i=0;i<mathTextSymbols.length;i++){var ch=mathTextSymbols.charAt(i);defineSymbol(math,main,textord,ch,ch)}for(var textSymbols='0123456789!@*()-=+";:?/.,',_i=0;_i<textSymbols.length;_i++){var _ch=textSymbols.charAt(_i);defineSymbol(text,main,textord,_ch,_ch)}for(var letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",_i2=0;_i2<letters.length;_i2++){var _ch2=letters.charAt(_i2);defineSymbol(math,main,mathord,_ch2,_ch2),defineSymbol(text,main,textord,_ch2,_ch2)}defineSymbol(math,ams,textord,"C","\u2102"),defineSymbol(text,ams,textord,"C","\u2102"),defineSymbol(math,ams,textord,"H","\u210D"),defineSymbol(text,ams,textord,"H","\u210D"),defineSymbol(math,ams,textord,"N","\u2115"),defineSymbol(text,ams,textord,"N","\u2115"),defineSymbol(math,ams,textord,"P","\u2119"),defineSymbol(text,ams,textord,"P","\u2119"),defineSymbol(math,ams,textord,"Q","\u211A"),defineSymbol(text,ams,textord,"Q","\u211A"),defineSymbol(math,ams,textord,"R","\u211D"),defineSymbol(text,ams,textord,"R","\u211D"),defineSymbol(math,ams,textord,"Z","\u2124"),defineSymbol(text,ams,textord,"Z","\u2124"),defineSymbol(math,main,mathord,"h","\u210E"),defineSymbol(text,main,mathord,"h","\u210E");for(var wideChar="",_i3=0;_i3<letters.length;_i3++){var _ch3=letters.charAt(_i3);wideChar=String.fromCharCode(55349,56320+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56372+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56424+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56580+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56736+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56788+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56840+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56944+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),_i3<26&&(wideChar=String.fromCharCode(55349,56632+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56476+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text,main,textord,_ch3,wideChar))}wideChar=String.fromCharCode(55349,56668),defineSymbol(math,main,mathord,"k",wideChar),defineSymbol(text,main,textord,"k",wideChar);for(var _i4=0;_i4<10;_i4++){var _ch4=_i4.toString();wideChar=String.fromCharCode(55349,57294+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57314+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57324+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57334+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text,main,textord,_ch4,wideChar)}for(var extraLatin="\xD0\xDE\xFE",_i5=0;_i5<extraLatin.length;_i5++){var _ch5=extraLatin.charAt(_i5);defineSymbol(math,main,mathord,_ch5,_ch5),defineSymbol(text,main,textord,_ch5,_ch5)}var wideLatinLetterData=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],wideNumeralData=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],wideCharacterFont=function ee($,_){var te=$.charCodeAt(0),re=$.charCodeAt(1),ie=(te-55296)*1024+(re-56320)+65536,ne=_==="math"?0:1;if(119808<=ie&&ie<120484){var ae=Math.floor((ie-119808)/26);return[wideLatinLetterData[ae][2],wideLatinLetterData[ae][ne]]}else if(120782<=ie&&ie<=120831){var se=Math.floor((ie-120782)/10);return[wideNumeralData[se][2],wideNumeralData[se][ne]]}else{if(ie===120485||ie===120486)return[wideLatinLetterData[0][2],wideLatinLetterData[0][ne]];if(120486<ie&&ie<120782)return["",""];throw new ParseError("Unsupported character: "+$)}},lookupSymbol=function ee($,_,te){return symbols[te][$]&&symbols[te][$].replace&&($=symbols[te][$].replace),{value:$,metrics:getCharacterMetrics($,_,te)}},makeSymbol=function ee($,_,te,re,ie){var ne=lookupSymbol($,_,te),ae=ne.metrics;$=ne.value;var se;if(ae){var oe=ae.italic;(te==="text"||re&&re.font==="mathit")&&(oe=0),se=new SymbolNode($,ae.height,ae.depth,oe,ae.skew,ae.width,ie)}else typeof console!="undefined"&&console.warn("No character metrics "+("for '"+$+"' in style '"+_+"' and mode '"+te+"'")),se=new SymbolNode($,0,0,0,0,0,ie);if(re){se.maxFontSize=re.sizeMultiplier,re.style.isTight()&&se.classes.push("mtight");var le=re.getColor();le&&(se.style.color=le)}return se},mathsym=function ee($,_,te,re){return re===void 0&&(re=[]),te.font==="boldsymbol"&&lookupSymbol($,"Main-Bold",_).metrics?makeSymbol($,"Main-Bold",_,te,re.concat(["mathbf"])):$==="\\"||symbols[_][$].font==="main"?makeSymbol($,"Main-Regular",_,te,re):makeSymbol($,"AMS-Regular",_,te,re.concat(["amsrm"]))},boldsymbol=function ee($,_,te,re,ie){return ie!=="textord"&&lookupSymbol($,"Math-BoldItalic",_).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},makeOrd=function ee($,_,te){var re=$.mode,ie=$.text,ne=["mord"],ae=re==="math"||re==="text"&&_.font,se=ae?_.font:_.fontFamily;if(ie.charCodeAt(0)===55349){var[oe,le]=wideCharacterFont(ie,re);return makeSymbol(ie,oe,re,_,ne.concat(le))}else if(se){var ce,ue;if(se==="boldsymbol"){var me=boldsymbol(ie,re,_,ne,te);ce=me.fontName,ue=[me.fontClass]}else ae?(ce=fontMap[se].fontName,ue=[se]):(ce=retrieveTextFontName(se,_.fontWeight,_.fontShape),ue=[se,_.fontWeight,_.fontShape]);if(lookupSymbol(ie,ce,re).metrics)return makeSymbol(ie,ce,re,_,ne.concat(ue));if(ligatures.hasOwnProperty(ie)&&ce.substr(0,10)==="Typewriter"){for(var fe=[],de=0;de<ie.length;de++)fe.push(makeSymbol(ie[de],ce,re,_,ne.concat(ue)));return makeFragment(fe)}}if(te==="mathord")return makeSymbol(ie,"Math-Italic",re,_,ne.concat(["mathnormal"]));if(te==="textord"){var pe=symbols[re][ie]&&symbols[re][ie].font;if(pe==="ams"){var ge=retrieveTextFontName("amsrm",_.fontWeight,_.fontShape);return makeSymbol(ie,ge,re,_,ne.concat("amsrm",_.fontWeight,_.fontShape))}else if(pe==="main"||!pe){var ye=retrieveTextFontName("textrm",_.fontWeight,_.fontShape);return makeSymbol(ie,ye,re,_,ne.concat(_.fontWeight,_.fontShape))}else{var be=retrieveTextFontName(pe,_.fontWeight,_.fontShape);return makeSymbol(ie,be,re,_,ne.concat(be,_.fontWeight,_.fontShape))}}else throw new Error("unexpected type: "+te+" in makeOrd")},canCombine=(ee,$)=>{if(createClass(ee.classes)!==createClass($.classes)||ee.skew!==$.skew||ee.maxFontSize!==$.maxFontSize)return!1;if(ee.classes.length===1){var _=ee.classes[0];if(_==="mbin"||_==="mord")return!1}for(var te in ee.style)if(ee.style.hasOwnProperty(te)&&ee.style[te]!==$.style[te])return!1;for(var re in $.style)if($.style.hasOwnProperty(re)&&ee.style[re]!==$.style[re])return!1;return!0},tryCombineChars=ee=>{for(var $=0;$<ee.length-1;$++){var _=ee[$],te=ee[$+1];_ instanceof SymbolNode&&te instanceof SymbolNode&&canCombine(_,te)&&(_.text+=te.text,_.height=Math.max(_.height,te.height),_.depth=Math.max(_.depth,te.depth),_.italic=te.italic,ee.splice($+1,1),$--)}return ee},sizeElementFromChildren=function ee($){for(var _=0,te=0,re=0,ie=0;ie<$.children.length;ie++){var ne=$.children[ie];ne.height>_&&(_=ne.height),ne.depth>te&&(te=ne.depth),ne.maxFontSize>re&&(re=ne.maxFontSize)}$.height=_,$.depth=te,$.maxFontSize=re},makeSpan$2=function ee($,_,te,re){var ie=new Span($,_,te,re);return sizeElementFromChildren(ie),ie},makeSvgSpan=(ee,$,_,te)=>new Span(ee,$,_,te),makeLineSpan=function ee($,_,te){var re=makeSpan$2([$],[],_);return re.height=Math.max(te||_.fontMetrics().defaultRuleThickness,_.minRuleThickness),re.style.borderBottomWidth=makeEm(re.height),re.maxFontSize=1,re},makeAnchor=function ee($,_,te,re){var ie=new Anchor($,_,te,re);return sizeElementFromChildren(ie),ie},makeFragment=function ee($){var _=new DocumentFragment($);return sizeElementFromChildren(_),_},wrapFragment=function ee($,_){return $ instanceof DocumentFragment?makeSpan$2([],[$],_):$},getVListChildrenAndDepth=function ee($){if($.positionType==="individualShift"){for(var _=$.children,te=[_[0]],re=-_[0].shift-_[0].elem.depth,ie=re,ne=1;ne<_.length;ne++){var ae=-_[ne].shift-ie-_[ne].elem.depth,se=ae-(_[ne-1].elem.height+_[ne-1].elem.depth);ie=ie+ae,te.push({type:"kern",size:se}),te.push(_[ne])}return{children:te,depth:re}}var oe;if($.positionType==="top"){for(var le=$.positionData,ce=0;ce<$.children.length;ce++){var ue=$.children[ce];le-=ue.type==="kern"?ue.size:ue.elem.height+ue.elem.depth}oe=le}else if($.positionType==="bottom")oe=-$.positionData;else{var me=$.children[0];if(me.type!=="elem")throw new Error('First child must have type "elem".');if($.positionType==="shift")oe=-me.elem.depth-$.positionData;else if($.positionType==="firstBaseline")oe=-me.elem.depth;else throw new Error("Invalid positionType "+$.positionType+".")}return{children:$.children,depth:oe}},makeVList=function ee($,_){for(var{children:te,depth:re}=getVListChildrenAndDepth($),ie=0,ne=0;ne<te.length;ne++){var ae=te[ne];if(ae.type==="elem"){var se=ae.elem;ie=Math.max(ie,se.maxFontSize,se.height)}}ie+=2;var oe=makeSpan$2(["pstrut"],[]);oe.style.height=makeEm(ie);for(var le=[],ce=re,ue=re,me=re,fe=0;fe<te.length;fe++){var de=te[fe];if(de.type==="kern")me+=de.size;else{var pe=de.elem,ge=de.wrapperClasses||[],ye=de.wrapperStyle||{},be=makeSpan$2(ge,[oe,pe],void 0,ye);be.style.top=makeEm(-ie-me-pe.depth),de.marginLeft&&(be.style.marginLeft=de.marginLeft),de.marginRight&&(be.style.marginRight=de.marginRight),le.push(be),me+=pe.height+pe.depth}ce=Math.min(ce,me),ue=Math.max(ue,me)}var xe=makeSpan$2(["vlist"],le);xe.style.height=makeEm(ue);var Se;if(ce<0){var ve=makeSpan$2([],[]),$e=makeSpan$2(["vlist"],[ve]);$e.style.height=makeEm(-ce);var _e=makeSpan$2(["vlist-s"],[new SymbolNode("\u200B")]);Se=[makeSpan$2(["vlist-r"],[xe,_e]),makeSpan$2(["vlist-r"],[$e])]}else Se=[makeSpan$2(["vlist-r"],[xe])];var Me=makeSpan$2(["vlist-t"],Se);return Se.length===2&&Me.classes.push("vlist-t2"),Me.height=ue,Me.depth=-ce,Me},makeGlue=(ee,$)=>{var _=makeSpan$2(["mspace"],[],$),te=calculateSize(ee,$);return _.style.marginRight=makeEm(te),_},retrieveTextFontName=function ee($,_,te){var re="";switch($){case"amsrm":re="AMS";break;case"textrm":re="Main";break;case"textsf":re="SansSerif";break;case"texttt":re="Typewriter";break;default:re=$}var ie;return _==="textbf"&&te==="textit"?ie="BoldItalic":_==="textbf"?ie="Bold":_==="textit"?ie="Italic":ie="Regular",re+"-"+ie},fontMap={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},svgData={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},staticSvg=function ee($,_){var[te,re,ie]=svgData[$],ne=new PathNode(te),ae=new SvgNode([ne],{width:makeEm(re),height:makeEm(ie),style:"width:"+makeEm(re),viewBox:"0 0 "+1e3*re+" "+1e3*ie,preserveAspectRatio:"xMinYMin"}),se=makeSvgSpan(["overlay"],[ae],_);return se.height=ie,se.style.height=makeEm(ie),se.style.width=makeEm(re),se},buildCommon={fontMap,makeSymbol,mathsym,makeSpan:makeSpan$2,makeSvgSpan,makeLineSpan,makeAnchor,makeFragment,wrapFragment,makeVList,makeOrd,makeGlue,staticSvg,svgData,tryCombineChars},thinspace={number:3,unit:"mu"},mediumspace={number:4,unit:"mu"},thickspace={number:5,unit:"mu"},spacings={mord:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mop:{mord:thinspace,mop:thinspace,mrel:thickspace,minner:thinspace},mbin:{mord:mediumspace,mop:mediumspace,mopen:mediumspace,minner:mediumspace},mrel:{mord:thickspace,mop:thickspace,mopen:thickspace,minner:thickspace},mopen:{},mclose:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mpunct:{mord:thinspace,mop:thinspace,mrel:thickspace,mopen:thinspace,mclose:thinspace,mpunct:thinspace,minner:thinspace},minner:{mord:thinspace,mop:thinspace,mbin:mediumspace,mrel:thickspace,mopen:thinspace,mpunct:thinspace,minner:thinspace}},tightSpacings={mord:{mop:thinspace},mop:{mord:thinspace,mop:thinspace},mbin:{},mrel:{},mopen:{},mclose:{mop:thinspace},mpunct:{},minner:{mop:thinspace}},_functions={},_htmlGroupBuilders={},_mathmlGroupBuilders={};function defineFunction(ee){for(var{type:$,names:_,props:te,handler:re,htmlBuilder:ie,mathmlBuilder:ne}=ee,ae={type:$,numArgs:te.numArgs,argTypes:te.argTypes,allowedInArgument:!!te.allowedInArgument,allowedInText:!!te.allowedInText,allowedInMath:te.allowedInMath===void 0?!0:te.allowedInMath,numOptionalArgs:te.numOptionalArgs||0,infix:!!te.infix,primitive:!!te.primitive,handler:re},se=0;se<_.length;++se)_functions[_[se]]=ae;$&&(ie&&(_htmlGroupBuilders[$]=ie),ne&&(_mathmlGroupBuilders[$]=ne))}function defineFunctionBuilders(ee){var{type:$,htmlBuilder:_,mathmlBuilder:te}=ee;defineFunction({type:$,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:_,mathmlBuilder:te})}var normalizeArgument=function ee($){return $.type==="ordgroup"&&$.body.length===1?$.body[0]:$},ordargument=function ee($){return $.type==="ordgroup"?$.body:[$]},makeSpan$1=buildCommon.makeSpan,binLeftCanceller=["leftmost","mbin","mopen","mrel","mop","mpunct"],binRightCanceller=["rightmost","mrel","mclose","mpunct"],styleMap$1={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT},DomEnum={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},buildExpression$1=function ee($,_,te,re){re===void 0&&(re=[null,null]);for(var ie=[],ne=0;ne<$.length;ne++){var ae=buildGroup$1($[ne],_);if(ae instanceof DocumentFragment){var se=ae.children;ie.push(...se)}else ie.push(ae)}if(buildCommon.tryCombineChars(ie),!te)return ie;var oe=_;if($.length===1){var le=$[0];le.type==="sizing"?oe=_.havingSize(le.size):le.type==="styling"&&(oe=_.havingStyle(styleMap$1[le.style]))}var ce=makeSpan$1([re[0]||"leftmost"],[],_),ue=makeSpan$1([re[1]||"rightmost"],[],_),me=te==="root";return traverseNonSpaceNodes(ie,(fe,de)=>{var pe=de.classes[0],ge=fe.classes[0];pe==="mbin"&&utils.contains(binRightCanceller,ge)?de.classes[0]="mord":ge==="mbin"&&utils.contains(binLeftCanceller,pe)&&(fe.classes[0]="mord")},{node:ce},ue,me),traverseNonSpaceNodes(ie,(fe,de)=>{var pe=getTypeOfDomTree(de),ge=getTypeOfDomTree(fe),ye=pe&&ge?fe.hasClass("mtight")?tightSpacings[pe][ge]:spacings[pe][ge]:null;if(ye)return buildCommon.makeGlue(ye,oe)},{node:ce},ue,me),ie},traverseNonSpaceNodes=function ee($,_,te,re,ie){re&&$.push(re);for(var ne=0;ne<$.length;ne++){var ae=$[ne],se=checkPartialGroup(ae);if(se){ee(se.children,_,te,null,ie);continue}var oe=!ae.hasClass("mspace");if(oe){var le=_(ae,te.node);le&&(te.insertAfter?te.insertAfter(le):($.unshift(le),ne++))}oe?te.node=ae:ie&&ae.hasClass("newline")&&(te.node=makeSpan$1(["leftmost"])),te.insertAfter=(ce=>ue=>{$.splice(ce+1,0,ue),ne++})(ne)}re&&$.pop()},checkPartialGroup=function ee($){return $ instanceof DocumentFragment||$ instanceof Anchor||$ instanceof Span&&$.hasClass("enclosing")?$:null},getOutermostNode=function ee($,_){var te=checkPartialGroup($);if(te){var re=te.children;if(re.length){if(_==="right")return ee(re[re.length-1],"right");if(_==="left")return ee(re[0],"left")}}return $},getTypeOfDomTree=function ee($,_){return $?(_&&($=getOutermostNode($,_)),DomEnum[$.classes[0]]||null):null},makeNullDelimiter=function ee($,_){var te=["nulldelimiter"].concat($.baseSizingClasses());return makeSpan$1(_.concat(te))},buildGroup$1=function ee($,_,te){if(!$)return makeSpan$1();if(_htmlGroupBuilders[$.type]){var re=_htmlGroupBuilders[$.type]($,_);if(te&&_.size!==te.size){re=makeSpan$1(_.sizingClasses(te),[re],_);var ie=_.sizeMultiplier/te.sizeMultiplier;re.height*=ie,re.depth*=ie}return re}else throw new ParseError("Got group of unknown type: '"+$.type+"'")};function buildHTMLUnbreakable(ee,$){var _=makeSpan$1(["base"],ee,$),te=makeSpan$1(["strut"]);return te.style.height=makeEm(_.height+_.depth),_.depth&&(te.style.verticalAlign=makeEm(-_.depth)),_.children.unshift(te),_}function buildHTML(ee,$){var _=null;ee.length===1&&ee[0].type==="tag"&&(_=ee[0].tag,ee=ee[0].body);var te=buildExpression$1(ee,$,"root"),re;te.length===2&&te[1].hasClass("tag")&&(re=te.pop());for(var ie=[],ne=[],ae=0;ae<te.length;ae++)if(ne.push(te[ae]),te[ae].hasClass("mbin")||te[ae].hasClass("mrel")||te[ae].hasClass("allowbreak")){for(var se=!1;ae<te.length-1&&te[ae+1].hasClass("mspace")&&!te[ae+1].hasClass("newline");)ae++,ne.push(te[ae]),te[ae].hasClass("nobreak")&&(se=!0);se||(ie.push(buildHTMLUnbreakable(ne,$)),ne=[])}else te[ae].hasClass("newline")&&(ne.pop(),ne.length>0&&(ie.push(buildHTMLUnbreakable(ne,$)),ne=[]),ie.push(te[ae]));ne.length>0&&ie.push(buildHTMLUnbreakable(ne,$));var oe;_?(oe=buildHTMLUnbreakable(buildExpression$1(_,$,!0)),oe.classes=["tag"],ie.push(oe)):re&&ie.push(re);var le=makeSpan$1(["katex-html"],ie);if(le.setAttribute("aria-hidden","true"),oe){var ce=oe.children[0];ce.style.height=makeEm(le.height+le.depth),le.depth&&(ce.style.verticalAlign=makeEm(-le.depth))}return le}function newDocumentFragment(ee){return new DocumentFragment(ee)}class MathNode{constructor($,_,te){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=$,this.attributes={},this.children=_||[],this.classes=te||[]}setAttribute($,_){this.attributes[$]=_}getAttribute($){return this.attributes[$]}toNode(){var $=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var _ in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,_)&&$.setAttribute(_,this.attributes[_]);this.classes.length>0&&($.className=createClass(this.classes));for(var te=0;te<this.children.length;te++)$.appendChild(this.children[te].toNode());return $}toMarkup(){var $="<"+this.type;for(var _ in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,_)&&($+=" "+_+'="',$+=utils.escape(this.attributes[_]),$+='"');this.classes.length>0&&($+=' class ="'+utils.escape(createClass(this.classes))+'"'),$+=">";for(var te=0;te<this.children.length;te++)$+=this.children[te].toMarkup();return $+="</"+this.type+">",$}toText(){return this.children.map($=>$.toText()).join("")}}class TextNode{constructor($){this.text=void 0,this.text=$}toNode(){return document.createTextNode(this.text)}toMarkup(){return utils.escape(this.toText())}toText(){return this.text}}class SpaceNode{constructor($){this.width=void 0,this.character=void 0,this.width=$,$>=.05555&&$<=.05556?this.character="\u200A":$>=.1666&&$<=.1667?this.character="\u2009":$>=.2222&&$<=.2223?this.character="\u2005":$>=.2777&&$<=.2778?this.character="\u2005\u200A":$>=-.05556&&$<=-.05555?this.character="\u200A\u2063":$>=-.1667&&$<=-.1666?this.character="\u2009\u2063":$>=-.2223&&$<=-.2222?this.character="\u205F\u2063":$>=-.2778&&$<=-.2777?this.character="\u2005\u2063":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var $=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return $.setAttribute("width",makeEm(this.width)),$}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+makeEm(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var mathMLTree={MathNode,TextNode,SpaceNode,newDocumentFragment},makeText=function ee($,_,te){return symbols[_][$]&&symbols[_][$].replace&&$.charCodeAt(0)!==55349&&!(ligatures.hasOwnProperty($)&&te&&(te.fontFamily&&te.fontFamily.substr(4,2)==="tt"||te.font&&te.font.substr(4,2)==="tt"))&&($=symbols[_][$].replace),new mathMLTree.TextNode($)},makeRow=function ee($){return $.length===1?$[0]:new mathMLTree.MathNode("mrow",$)},getVariant=function ee($,_){if(_.fontFamily==="texttt")return"monospace";if(_.fontFamily==="textsf")return _.fontShape==="textit"&&_.fontWeight==="textbf"?"sans-serif-bold-italic":_.fontShape==="textit"?"sans-serif-italic":_.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(_.fontShape==="textit"&&_.fontWeight==="textbf")return"bold-italic";if(_.fontShape==="textit")return"italic";if(_.fontWeight==="textbf")return"bold";var te=_.font;if(!te||te==="mathnormal")return null;var re=$.mode;if(te==="mathit")return"italic";if(te==="boldsymbol")return $.type==="textord"?"bold":"bold-italic";if(te==="mathbf")return"bold";if(te==="mathbb")return"double-struck";if(te==="mathfrak")return"fraktur";if(te==="mathscr"||te==="mathcal")return"script";if(te==="mathsf")return"sans-serif";if(te==="mathtt")return"monospace";var ie=$.text;if(utils.contains(["\\imath","\\jmath"],ie))return null;symbols[re][ie]&&symbols[re][ie].replace&&(ie=symbols[re][ie].replace);var ne=buildCommon.fontMap[te].fontName;return getCharacterMetrics(ie,ne,re)?buildCommon.fontMap[te].variant:null},buildExpression=function ee($,_,te){if($.length===1){var re=buildGroup($[0],_);return te&&re instanceof MathNode&&re.type==="mo"&&(re.setAttribute("lspace","0em"),re.setAttribute("rspace","0em")),[re]}for(var ie=[],ne,ae=0;ae<$.length;ae++){var se=buildGroup($[ae],_);if(se instanceof MathNode&&ne instanceof MathNode){if(se.type==="mtext"&&ne.type==="mtext"&&se.getAttribute("mathvariant")===ne.getAttribute("mathvariant")){ne.children.push(...se.children);continue}else if(se.type==="mn"&&ne.type==="mn"){ne.children.push(...se.children);continue}else if(se.type==="mi"&&se.children.length===1&&ne.type==="mn"){var oe=se.children[0];if(oe instanceof TextNode&&oe.text==="."){ne.children.push(...se.children);continue}}else if(ne.type==="mi"&&ne.children.length===1){var le=ne.children[0];if(le instanceof TextNode&&le.text==="\u0338"&&(se.type==="mo"||se.type==="mi"||se.type==="mn")){var ce=se.children[0];ce instanceof TextNode&&ce.text.length>0&&(ce.text=ce.text.slice(0,1)+"\u0338"+ce.text.slice(1),ie.pop())}}}ie.push(se),ne=se}return ie},buildExpressionRow=function ee($,_,te){return makeRow(buildExpression($,_,te))},buildGroup=function ee($,_){if(!$)return new mathMLTree.MathNode("mrow");if(_mathmlGroupBuilders[$.type]){var te=_mathmlGroupBuilders[$.type]($,_);return te}else throw new ParseError("Got group of unknown type: '"+$.type+"'")};function buildMathML(ee,$,_,te,re){var ie=buildExpression(ee,_),ne;ie.length===1&&ie[0]instanceof MathNode&&utils.contains(["mrow","mtable"],ie[0].type)?ne=ie[0]:ne=new mathMLTree.MathNode("mrow",ie);var ae=new mathMLTree.MathNode("annotation",[new mathMLTree.TextNode($)]);ae.setAttribute("encoding","application/x-tex");var se=new mathMLTree.MathNode("semantics",[ne,ae]),oe=new mathMLTree.MathNode("math",[se]);oe.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),te&&oe.setAttribute("display","block");var le=re?"katex":"katex-mathml";return buildCommon.makeSpan([le],[oe])}var optionsFromSettings=function ee($){return new Options({style:$.displayMode?Style$1.DISPLAY:Style$1.TEXT,maxSize:$.maxSize,minRuleThickness:$.minRuleThickness})},displayWrap=function ee($,_){if(_.displayMode){var te=["katex-display"];_.leqno&&te.push("leqno"),_.fleqn&&te.push("fleqn"),$=buildCommon.makeSpan(te,[$])}return $},buildTree=function ee($,_,te){var re=optionsFromSettings(te),ie;if(te.output==="mathml")return buildMathML($,_,re,te.displayMode,!0);if(te.output==="html"){var ne=buildHTML($,re);ie=buildCommon.makeSpan(["katex"],[ne])}else{var ae=buildMathML($,_,re,te.displayMode,!1),se=buildHTML($,re);ie=buildCommon.makeSpan(["katex"],[ae,se])}return displayWrap(ie,te)},buildHTMLTree=function ee($,_,te){var re=optionsFromSettings(te),ie=buildHTML($,re),ne=buildCommon.makeSpan(["katex"],[ie]);return displayWrap(ne,te)},stretchyCodePoint={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},mathMLnode=function ee($){var _=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(stretchyCodePoint[$.replace(/^\\/,"")])]);return _.setAttribute("stretchy","true"),_},katexImagesData={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},groupLength=function ee($){return $.type==="ordgroup"?$.body.length:1},svgSpan=function ee($,_){function te(){var ae=4e5,se=$.label.substr(1);if(utils.contains(["widehat","widecheck","widetilde","utilde"],se)){var oe=$,le=groupLength(oe.base),ce,ue,me;if(le>5)se==="widehat"||se==="widecheck"?(ce=420,ae=2364,me=.42,ue=se+"4"):(ce=312,ae=2340,me=.34,ue="tilde4");else{var fe=[1,1,2,2,3,3][le];se==="widehat"||se==="widecheck"?(ae=[0,1062,2364,2364,2364][fe],ce=[0,239,300,360,420][fe],me=[0,.24,.3,.3,.36,.42][fe],ue=se+fe):(ae=[0,600,1033,2339,2340][fe],ce=[0,260,286,306,312][fe],me=[0,.26,.286,.3,.306,.34][fe],ue="tilde"+fe)}var de=new PathNode(ue),pe=new SvgNode([de],{width:"100%",height:makeEm(me),viewBox:"0 0 "+ae+" "+ce,preserveAspectRatio:"none"});return{span:buildCommon.makeSvgSpan([],[pe],_),minWidth:0,height:me}}else{var ge=[],ye=katexImagesData[se],[be,xe,Se]=ye,ve=Se/1e3,$e=be.length,_e,Me;if($e===1){var Ce=ye[3];_e=["hide-tail"],Me=[Ce]}else if($e===2)_e=["halfarrow-left","halfarrow-right"],Me=["xMinYMin","xMaxYMin"];else if($e===3)_e=["brace-left","brace-center","brace-right"],Me=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+$e+" children.");for(var we=0;we<$e;we++){var Ie=new PathNode(be[we]),ke=new SvgNode([Ie],{width:"400em",height:makeEm(ve),viewBox:"0 0 "+ae+" "+Se,preserveAspectRatio:Me[we]+" slice"}),Te=buildCommon.makeSvgSpan([_e[we]],[ke],_);if($e===1)return{span:Te,minWidth:xe,height:ve};Te.style.height=makeEm(ve),ge.push(Te)}return{span:buildCommon.makeSpan(["stretchy"],ge,_),minWidth:xe,height:ve}}}var{span:re,minWidth:ie,height:ne}=te();return re.height=ne,re.style.height=makeEm(ne),ie>0&&(re.style.minWidth=makeEm(ie)),re},encloseSpan=function ee($,_,te,re,ie){var ne,ae=$.height+$.depth+te+re;if(/fbox|color|angl/.test(_)){if(ne=buildCommon.makeSpan(["stretchy",_],[],ie),_==="fbox"){var se=ie.color&&ie.getColor();se&&(ne.style.borderColor=se)}}else{var oe=[];/^[bx]cancel$/.test(_)&&oe.push(new LineNode({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(_)&&oe.push(new LineNode({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var le=new SvgNode(oe,{width:"100%",height:makeEm(ae)});ne=buildCommon.makeSvgSpan([],[le],ie)}return ne.height=ae,ne.style.height=makeEm(ae),ne},stretchy={encloseSpan,mathMLnode,svgSpan};function assertNodeType(ee,$){if(!ee||ee.type!==$)throw new Error("Expected node of type "+$+", but got "+(ee?"node of type "+ee.type:String(ee)));return ee}function assertSymbolNodeType(ee){var $=checkSymbolNodeType(ee);if(!$)throw new Error("Expected node of symbol group type, but got "+(ee?"node of type "+ee.type:String(ee)));return $}function checkSymbolNodeType(ee){return ee&&(ee.type==="atom"||NON_ATOMS.hasOwnProperty(ee.type))?ee:null}var htmlBuilder$a=(ee,$)=>{var _,te,re;ee&&ee.type==="supsub"?(te=assertNodeType(ee.base,"accent"),_=te.base,ee.base=_,re=assertSpan(buildGroup$1(ee,$)),ee.base=te):(te=assertNodeType(ee,"accent"),_=te.base);var ie=buildGroup$1(_,$.havingCrampedStyle()),ne=te.isShifty&&utils.isCharacterBox(_),ae=0;if(ne){var se=utils.getBaseElem(_),oe=buildGroup$1(se,$.havingCrampedStyle());ae=assertSymbolDomNode(oe).skew}var le=te.label==="\\c",ce=le?ie.height+ie.depth:Math.min(ie.height,$.fontMetrics().xHeight),ue;if(te.isStretchy)ue=stretchy.svgSpan(te,$),ue=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ie},{type:"elem",elem:ue,wrapperClasses:["svg-align"],wrapperStyle:ae>0?{width:"calc(100% - "+makeEm(2*ae)+")",marginLeft:makeEm(2*ae)}:void 0}]},$);else{var me,fe;te.label==="\\vec"?(me=buildCommon.staticSvg("vec",$),fe=buildCommon.svgData.vec[1]):(me=buildCommon.makeOrd({mode:te.mode,text:te.label},$,"textord"),me=assertSymbolDomNode(me),me.italic=0,fe=me.width,le&&(ce+=me.depth)),ue=buildCommon.makeSpan(["accent-body"],[me]);var de=te.label==="\\textcircled";de&&(ue.classes.push("accent-full"),ce=ie.height);var pe=ae;de||(pe-=fe/2),ue.style.left=makeEm(pe),te.label==="\\textcircled"&&(ue.style.top=".2em"),ue=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ie},{type:"kern",size:-ce},{type:"elem",elem:ue}]},$)}var ge=buildCommon.makeSpan(["mord","accent"],[ue],$);return re?(re.children[0]=ge,re.height=Math.max(ge.height,re.height),re.classes[0]="mord",re):ge},mathmlBuilder$9=(ee,$)=>{var _=ee.isStretchy?stretchy.mathMLnode(ee.label):new mathMLTree.MathNode("mo",[makeText(ee.label,ee.mode)]),te=new mathMLTree.MathNode("mover",[buildGroup(ee.base,$),_]);return te.setAttribute("accent","true"),te},NON_STRETCHY_ACCENT_REGEX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(ee=>"\\"+ee).join("|"));defineFunction({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(ee,$)=>{var _=normalizeArgument($[0]),te=!NON_STRETCHY_ACCENT_REGEX.test(ee.funcName),re=!te||ee.funcName==="\\widehat"||ee.funcName==="\\widetilde"||ee.funcName==="\\widecheck";return{type:"accent",mode:ee.parser.mode,label:ee.funcName,isStretchy:te,isShifty:re,base:_}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9}),defineFunction({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(ee,$)=>{var _=$[0],te=ee.parser.mode;return te==="math"&&(ee.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+ee.funcName+" works only in text mode"),te="text"),{type:"accent",mode:te,label:ee.funcName,isStretchy:!1,isShifty:!0,base:_}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9}),defineFunction({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(ee,$)=>{var{parser:_,funcName:te}=ee,re=$[0];return{type:"accentUnder",mode:_.mode,label:te,base:re}},htmlBuilder:(ee,$)=>{var _=buildGroup$1(ee.base,$),te=stretchy.svgSpan(ee,$),re=ee.label==="\\utilde"?.12:0,ie=buildCommon.makeVList({positionType:"top",positionData:_.height,children:[{type:"elem",elem:te,wrapperClasses:["svg-align"]},{type:"kern",size:re},{type:"elem",elem:_}]},$);return buildCommon.makeSpan(["mord","accentunder"],[ie],$)},mathmlBuilder:(ee,$)=>{var _=stretchy.mathMLnode(ee.label),te=new mathMLTree.MathNode("munder",[buildGroup(ee.base,$),_]);return te.setAttribute("accentunder","true"),te}});var paddedNode=ee=>{var $=new mathMLTree.MathNode("mpadded",ee?[ee]:[]);return $.setAttribute("width","+0.6em"),$.setAttribute("lspace","0.3em"),$};defineFunction({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(ee,$,_){var{parser:te,funcName:re}=ee;return{type:"xArrow",mode:te.mode,label:re,body:$[0],below:_[0]}},htmlBuilder(ee,$){var _=$.style,te=$.havingStyle(_.sup()),re=buildCommon.wrapFragment(buildGroup$1(ee.body,te,$),$),ie=ee.label.slice(0,2)==="\\x"?"x":"cd";re.classes.push(ie+"-arrow-pad");var ne;ee.below&&(te=$.havingStyle(_.sub()),ne=buildCommon.wrapFragment(buildGroup$1(ee.below,te,$),$),ne.classes.push(ie+"-arrow-pad"));var ae=stretchy.svgSpan(ee,$),se=-$.fontMetrics().axisHeight+.5*ae.height,oe=-$.fontMetrics().axisHeight-.5*ae.height-.111;(re.depth>.25||ee.label==="\\xleftequilibrium")&&(oe-=re.depth);var le;if(ne){var ce=-$.fontMetrics().axisHeight+ne.height+.5*ae.height+.111;le=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:re,shift:oe},{type:"elem",elem:ae,shift:se},{type:"elem",elem:ne,shift:ce}]},$)}else le=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:re,shift:oe},{type:"elem",elem:ae,shift:se}]},$);return le.children[0].children[0].children[1].classes.push("svg-align"),buildCommon.makeSpan(["mrel","x-arrow"],[le],$)},mathmlBuilder(ee,$){var _=stretchy.mathMLnode(ee.label);_.setAttribute("minsize",ee.label.charAt(0)==="x"?"1.75em":"3.0em");var te;if(ee.body){var re=paddedNode(buildGroup(ee.body,$));if(ee.below){var ie=paddedNode(buildGroup(ee.below,$));te=new mathMLTree.MathNode("munderover",[_,ie,re])}else te=new mathMLTree.MathNode("mover",[_,re])}else if(ee.below){var ne=paddedNode(buildGroup(ee.below,$));te=new mathMLTree.MathNode("munder",[_,ne])}else te=paddedNode(),te=new mathMLTree.MathNode("mover",[_,te]);return te}});var cdArrowFunctionName={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},newCell=()=>({type:"styling",body:[],mode:"math",style:"display"}),isStartOfArrow=ee=>ee.type==="textord"&&ee.text==="@",isLabelEnd=(ee,$)=>(ee.type==="mathord"||ee.type==="atom")&&ee.text===$;function cdArrow(ee,$,_){var te=cdArrowFunctionName[ee];switch(te){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return _.callFunction(te,[$[0]],[$[1]]);case"\\uparrow":case"\\downarrow":{var re=_.callFunction("\\\\cdleft",[$[0]],[]),ie={type:"atom",text:te,mode:"math",family:"rel"},ne=_.callFunction("\\Big",[ie],[]),ae=_.callFunction("\\\\cdright",[$[1]],[]),se={type:"ordgroup",mode:"math",body:[re,ne,ae]};return _.callFunction("\\\\cdparent",[se],[])}case"\\\\cdlongequal":return _.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var oe={type:"textord",text:"\\Vert",mode:"math"};return _.callFunction("\\Big",[oe],[])}default:return{type:"textord",text:" ",mode:"math"}}}function parseCD(ee){var $=[];for(ee.gullet.beginGroup(),ee.gullet.macros.set("\\cr","\\\\\\relax"),ee.gullet.beginGroup();;){$.push(ee.parseExpression(!1,"\\\\")),ee.gullet.endGroup(),ee.gullet.beginGroup();var _=ee.fetch().text;if(_==="&"||_==="\\\\")ee.consume();else if(_==="\\end"){$[$.length-1].length===0&&$.pop();break}else throw new ParseError("Expected \\\\ or \\cr or \\end",ee.nextToken)}for(var te=[],re=[te],ie=0;ie<$.length;ie++){for(var ne=$[ie],ae=newCell(),se=0;se<ne.length;se++)if(!isStartOfArrow(ne[se]))ae.body.push(ne[se]);else{te.push(ae),se+=1;var oe=assertSymbolNodeType(ne[se]).text,le=new Array(2);if(le[0]={type:"ordgroup",mode:"math",body:[]},le[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(oe)>-1))if("<>AV".indexOf(oe)>-1)for(var ce=0;ce<2;ce++){for(var ue=!0,me=se+1;me<ne.length;me++){if(isLabelEnd(ne[me],oe)){ue=!1,se=me;break}if(isStartOfArrow(ne[me]))throw new ParseError("Missing a "+oe+" character to complete a CD arrow.",ne[me]);le[ce].body.push(ne[me])}if(ue)throw new ParseError("Missing a "+oe+" character to complete a CD arrow.",ne[se])}else throw new ParseError('Expected one of "<>AV=|." after @',ne[se]);var fe=cdArrow(oe,le,ee),de={type:"styling",body:[fe],mode:"math",style:"display"};te.push(de),ae=newCell()}ie%2==0?te.push(ae):te.shift(),te=[],re.push(te)}ee.gullet.endGroup(),ee.gullet.endGroup();var pe=new Array(re[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:re,arraystretch:1,addJot:!0,rowGaps:[null],cols:pe,colSeparationType:"CD",hLinesBeforeRow:new Array(re.length+1).fill([])}}defineFunction({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(ee,$){var{parser:_,funcName:te}=ee;return{type:"cdlabel",mode:_.mode,side:te.slice(4),label:$[0]}},htmlBuilder(ee,$){var _=$.havingStyle($.style.sup()),te=buildCommon.wrapFragment(buildGroup$1(ee.label,_,$),$);return te.classes.push("cd-label-"+ee.side),te.style.bottom=makeEm(.8-te.depth),te.height=0,te.depth=0,te},mathmlBuilder(ee,$){var _=new mathMLTree.MathNode("mrow",[buildGroup(ee.label,$)]);return _=new mathMLTree.MathNode("mpadded",[_]),_.setAttribute("width","0"),ee.side==="left"&&_.setAttribute("lspace","-1width"),_.setAttribute("voffset","0.7em"),_=new mathMLTree.MathNode("mstyle",[_]),_.setAttribute("displaystyle","false"),_.setAttribute("scriptlevel","1"),_}}),defineFunction({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(ee,$){var{parser:_}=ee;return{type:"cdlabelparent",mode:_.mode,fragment:$[0]}},htmlBuilder(ee,$){var _=buildCommon.wrapFragment(buildGroup$1(ee.fragment,$),$);return _.classes.push("cd-vert-arrow"),_},mathmlBuilder(ee,$){return new mathMLTree.MathNode("mrow",[buildGroup(ee.fragment,$)])}}),defineFunction({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(ee,$){for(var{parser:_}=ee,te=assertNodeType($[0],"ordgroup"),re=te.body,ie="",ne=0;ne<re.length;ne++){var ae=assertNodeType(re[ne],"textord");ie+=ae.text}var se=parseInt(ie),oe;if(isNaN(se))throw new ParseError("\\@char has non-numeric argument "+ie);if(se<0||se>=1114111)throw new ParseError("\\@char with invalid code point "+ie);return se<=65535?oe=String.fromCharCode(se):(se-=65536,oe=String.fromCharCode((se>>10)+55296,(se&1023)+56320)),{type:"textord",mode:_.mode,text:oe}}});var htmlBuilder$9=(ee,$)=>{var _=buildExpression$1(ee.body,$.withColor(ee.color),!1);return buildCommon.makeFragment(_)},mathmlBuilder$8=(ee,$)=>{var _=buildExpression(ee.body,$.withColor(ee.color)),te=new mathMLTree.MathNode("mstyle",_);return te.setAttribute("mathcolor",ee.color),te};defineFunction({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(ee,$){var{parser:_}=ee,te=assertNodeType($[0],"color-token").color,re=$[1];return{type:"color",mode:_.mode,color:te,body:ordargument(re)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8}),defineFunction({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(ee,$){var{parser:_,breakOnTokenText:te}=ee,re=assertNodeType($[0],"color-token").color;_.gullet.macros.set("\\current@color",re);var ie=_.parseExpression(!0,te);return{type:"color",mode:_.mode,color:re,body:ie}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8}),defineFunction({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler(ee,$,_){var{parser:te}=ee,re=_[0],ie=!te.settings.displayMode||!te.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:te.mode,newLine:ie,size:re&&assertNodeType(re,"size").value}},htmlBuilder(ee,$){var _=buildCommon.makeSpan(["mspace"],[],$);return ee.newLine&&(_.classes.push("newline"),ee.size&&(_.style.marginTop=makeEm(calculateSize(ee.size,$)))),_},mathmlBuilder(ee,$){var _=new mathMLTree.MathNode("mspace");return ee.newLine&&(_.setAttribute("linebreak","newline"),ee.size&&_.setAttribute("height",makeEm(calculateSize(ee.size,$)))),_}});var globalMap={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},checkControlSequence=ee=>{var $=ee.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test($))throw new ParseError("Expected a control sequence",ee);return $},getRHS=ee=>{var $=ee.gullet.popToken();return $.text==="="&&($=ee.gullet.popToken(),$.text===" "&&($=ee.gullet.popToken())),$},letCommand=(ee,$,_,te)=>{var re=ee.gullet.macros.get(_.text);re==null&&(_.noexpand=!0,re={tokens:[_],numArgs:0,unexpandable:!ee.gullet.isExpandable(_.text)}),ee.gullet.macros.set($,re,te)};defineFunction({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(ee){var{parser:$,funcName:_}=ee;$.consumeSpaces();var te=$.fetch();if(globalMap[te.text])return(_==="\\global"||_==="\\\\globallong")&&(te.text=globalMap[te.text]),assertNodeType($.parseFunction(),"internal");throw new ParseError("Invalid token after macro prefix",te)}}),defineFunction({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(ee){var{parser:$,funcName:_}=ee,te=$.gullet.popToken(),re=te.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(re))throw new ParseError("Expected a control sequence",te);for(var ie=0,ne,ae=[[]];$.gullet.future().text!=="{";)if(te=$.gullet.popToken(),te.text==="#"){if($.gullet.future().text==="{"){ne=$.gullet.future(),ae[ie].push("{");break}if(te=$.gullet.popToken(),!/^[1-9]$/.test(te.text))throw new ParseError('Invalid argument number "'+te.text+'"');if(parseInt(te.text)!==ie+1)throw new ParseError('Argument number "'+te.text+'" out of order');ie++,ae.push([])}else{if(te.text==="EOF")throw new ParseError("Expected a macro definition");ae[ie].push(te.text)}var{tokens:se}=$.gullet.consumeArg();return ne&&se.unshift(ne),(_==="\\edef"||_==="\\xdef")&&(se=$.gullet.expandTokens(se),se.reverse()),$.gullet.macros.set(re,{tokens:se,numArgs:ie,delimiters:ae},_===globalMap[_]),{type:"internal",mode:$.mode}}}),defineFunction({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(ee){var{parser:$,funcName:_}=ee,te=checkControlSequence($.gullet.popToken());$.gullet.consumeSpaces();var re=getRHS($);return letCommand($,te,re,_==="\\\\globallet"),{type:"internal",mode:$.mode}}}),defineFunction({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(ee){var{parser:$,funcName:_}=ee,te=checkControlSequence($.gullet.popToken()),re=$.gullet.popToken(),ie=$.gullet.popToken();return letCommand($,te,ie,_==="\\\\globalfuture"),$.gullet.pushToken(ie),$.gullet.pushToken(re),{type:"internal",mode:$.mode}}});var getMetrics=function ee($,_,te){var re=symbols.math[$]&&symbols.math[$].replace,ie=getCharacterMetrics(re||$,_,te);if(!ie)throw new Error("Unsupported symbol "+$+" and font size "+_+".");return ie},styleWrap=function ee($,_,te,re){var ie=te.havingBaseStyle(_),ne=buildCommon.makeSpan(re.concat(ie.sizingClasses(te)),[$],te),ae=ie.sizeMultiplier/te.sizeMultiplier;return ne.height*=ae,ne.depth*=ae,ne.maxFontSize=ie.sizeMultiplier,ne},centerSpan=function ee($,_,te){var re=_.havingBaseStyle(te),ie=(1-_.sizeMultiplier/re.sizeMultiplier)*_.fontMetrics().axisHeight;$.classes.push("delimcenter"),$.style.top=makeEm(ie),$.height-=ie,$.depth+=ie},makeSmallDelim=function ee($,_,te,re,ie,ne){var ae=buildCommon.makeSymbol($,"Main-Regular",ie,re),se=styleWrap(ae,_,re,ne);return te&&centerSpan(se,re,_),se},mathrmSize=function ee($,_,te,re){return buildCommon.makeSymbol($,"Size"+_+"-Regular",te,re)},makeLargeDelim=function ee($,_,te,re,ie,ne){var ae=mathrmSize($,_,ie,re),se=styleWrap(buildCommon.makeSpan(["delimsizing","size"+_],[ae],re),Style$1.TEXT,re,ne);return te&&centerSpan(se,re,Style$1.TEXT),se},makeGlyphSpan=function ee($,_,te){var re;_==="Size1-Regular"?re="delim-size1":re="delim-size4";var ie=buildCommon.makeSpan(["delimsizinginner",re],[buildCommon.makeSpan([],[buildCommon.makeSymbol($,_,te)])]);return{type:"elem",elem:ie}},makeInner=function ee($,_,te){var re=fontMetricsData["Size4-Regular"][$.charCodeAt(0)]?fontMetricsData["Size4-Regular"][$.charCodeAt(0)][4]:fontMetricsData["Size1-Regular"][$.charCodeAt(0)][4],ie=new PathNode("inner",innerPath($,Math.round(1e3*_))),ne=new SvgNode([ie],{width:makeEm(re),height:makeEm(_),style:"width:"+makeEm(re),viewBox:"0 0 "+1e3*re+" "+Math.round(1e3*_),preserveAspectRatio:"xMinYMin"}),ae=buildCommon.makeSvgSpan([],[ne],te);return ae.height=_,ae.style.height=makeEm(_),ae.style.width=makeEm(re),{type:"elem",elem:ae}},lapInEms=.008,lap={type:"kern",size:-1*lapInEms},verts=["|","\\lvert","\\rvert","\\vert"],doubleVerts=["\\|","\\lVert","\\rVert","\\Vert"],makeStackedDelim=function ee($,_,te,re,ie,ne){var ae,se,oe,le;ae=oe=le=$,se=null;var ce="Size1-Regular";$==="\\uparrow"?oe=le="\u23D0":$==="\\Uparrow"?oe=le="\u2016":$==="\\downarrow"?ae=oe="\u23D0":$==="\\Downarrow"?ae=oe="\u2016":$==="\\updownarrow"?(ae="\\uparrow",oe="\u23D0",le="\\downarrow"):$==="\\Updownarrow"?(ae="\\Uparrow",oe="\u2016",le="\\Downarrow"):utils.contains(verts,$)?oe="\u2223":utils.contains(doubleVerts,$)?oe="\u2225":$==="["||$==="\\lbrack"?(ae="\u23A1",oe="\u23A2",le="\u23A3",ce="Size4-Regular"):$==="]"||$==="\\rbrack"?(ae="\u23A4",oe="\u23A5",le="\u23A6",ce="Size4-Regular"):$==="\\lfloor"||$==="\u230A"?(oe=ae="\u23A2",le="\u23A3",ce="Size4-Regular"):$==="\\lceil"||$==="\u2308"?(ae="\u23A1",oe=le="\u23A2",ce="Size4-Regular"):$==="\\rfloor"||$==="\u230B"?(oe=ae="\u23A5",le="\u23A6",ce="Size4-Regular"):$==="\\rceil"||$==="\u2309"?(ae="\u23A4",oe=le="\u23A5",ce="Size4-Regular"):$==="("||$==="\\lparen"?(ae="\u239B",oe="\u239C",le="\u239D",ce="Size4-Regular"):$===")"||$==="\\rparen"?(ae="\u239E",oe="\u239F",le="\u23A0",ce="Size4-Regular"):$==="\\{"||$==="\\lbrace"?(ae="\u23A7",se="\u23A8",le="\u23A9",oe="\u23AA",ce="Size4-Regular"):$==="\\}"||$==="\\rbrace"?(ae="\u23AB",se="\u23AC",le="\u23AD",oe="\u23AA",ce="Size4-Regular"):$==="\\lgroup"||$==="\u27EE"?(ae="\u23A7",le="\u23A9",oe="\u23AA",ce="Size4-Regular"):$==="\\rgroup"||$==="\u27EF"?(ae="\u23AB",le="\u23AD",oe="\u23AA",ce="Size4-Regular"):$==="\\lmoustache"||$==="\u23B0"?(ae="\u23A7",le="\u23AD",oe="\u23AA",ce="Size4-Regular"):($==="\\rmoustache"||$==="\u23B1")&&(ae="\u23AB",le="\u23A9",oe="\u23AA",ce="Size4-Regular");var ue=getMetrics(ae,ce,ie),me=ue.height+ue.depth,fe=getMetrics(oe,ce,ie),de=fe.height+fe.depth,pe=getMetrics(le,ce,ie),ge=pe.height+pe.depth,ye=0,be=1;if(se!==null){var xe=getMetrics(se,ce,ie);ye=xe.height+xe.depth,be=2}var Se=me+ge+ye,ve=Math.max(0,Math.ceil((_-Se)/(be*de))),$e=Se+ve*be*de,_e=re.fontMetrics().axisHeight;te&&(_e*=re.sizeMultiplier);var Me=$e/2-_e,Ce=[];if(Ce.push(makeGlyphSpan(le,ce,ie)),Ce.push(lap),se===null){var we=$e-me-ge+2*lapInEms;Ce.push(makeInner(oe,we,re))}else{var Ie=($e-me-ge-ye)/2+2*lapInEms;Ce.push(makeInner(oe,Ie,re)),Ce.push(lap),Ce.push(makeGlyphSpan(se,ce,ie)),Ce.push(lap),Ce.push(makeInner(oe,Ie,re))}Ce.push(lap),Ce.push(makeGlyphSpan(ae,ce,ie));var ke=re.havingBaseStyle(Style$1.TEXT),Te=buildCommon.makeVList({positionType:"bottom",positionData:Me,children:Ce},ke);return styleWrap(buildCommon.makeSpan(["delimsizing","mult"],[Te],ke),Style$1.TEXT,re,ne)},vbPad=80,emPad=.08,sqrtSvg=function ee($,_,te,re,ie){var ne=sqrtPath($,re,te),ae=new PathNode($,ne),se=new SvgNode([ae],{width:"400em",height:makeEm(_),viewBox:"0 0 400000 "+te,preserveAspectRatio:"xMinYMin slice"});return buildCommon.makeSvgSpan(["hide-tail"],[se],ie)},makeSqrtImage=function ee($,_){var te=_.havingBaseSizing(),re=traverseSequence("\\surd",$*te.sizeMultiplier,stackLargeDelimiterSequence,te),ie=te.sizeMultiplier,ne=Math.max(0,_.minRuleThickness-_.fontMetrics().sqrtRuleThickness),ae,se=0,oe=0,le=0,ce;return re.type==="small"?(le=1e3+1e3*ne+vbPad,$<1?ie=1:$<1.4&&(ie=.7),se=(1+ne+emPad)/ie,oe=(1+ne)/ie,ae=sqrtSvg("sqrtMain",se,le,ne,_),ae.style.minWidth="0.853em",ce=.833/ie):re.type==="large"?(le=(1e3+vbPad)*sizeToMaxHeight[re.size],oe=(sizeToMaxHeight[re.size]+ne)/ie,se=(sizeToMaxHeight[re.size]+ne+emPad)/ie,ae=sqrtSvg("sqrtSize"+re.size,se,le,ne,_),ae.style.minWidth="1.02em",ce=1/ie):(se=$+ne+emPad,oe=$+ne,le=Math.floor(1e3*$+ne)+vbPad,ae=sqrtSvg("sqrtTall",se,le,ne,_),ae.style.minWidth="0.742em",ce=1.056),ae.height=oe,ae.style.height=makeEm(se),{span:ae,advanceWidth:ce,ruleWidth:(_.fontMetrics().sqrtRuleThickness+ne)*ie}},stackLargeDelimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],stackAlwaysDelimiters=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],stackNeverDelimiters=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sizeToMaxHeight=[0,1.2,1.8,2.4,3],makeSizedDelim=function ee($,_,te,re,ie){if($==="<"||$==="\\lt"||$==="\u27E8"?$="\\langle":($===">"||$==="\\gt"||$==="\u27E9")&&($="\\rangle"),utils.contains(stackLargeDelimiters,$)||utils.contains(stackNeverDelimiters,$))return makeLargeDelim($,_,!1,te,re,ie);if(utils.contains(stackAlwaysDelimiters,$))return makeStackedDelim($,sizeToMaxHeight[_],!1,te,re,ie);throw new ParseError("Illegal delimiter: '"+$+"'")},stackNeverDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],stackAlwaysDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"stack"}],stackLargeDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],delimTypeToFont=function ee($){if($.type==="small")return"Main-Regular";if($.type==="large")return"Size"+$.size+"-Regular";if($.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+$.type+"' here.")},traverseSequence=function ee($,_,te,re){for(var ie=Math.min(2,3-re.style.size),ne=ie;ne<te.length&&te[ne].type!=="stack";ne++){var ae=getMetrics($,delimTypeToFont(te[ne]),"math"),se=ae.height+ae.depth;if(te[ne].type==="small"){var oe=re.havingBaseStyle(te[ne].style);se*=oe.sizeMultiplier}if(se>_)return te[ne]}return te[te.length-1]},makeCustomSizedDelim=function ee($,_,te,re,ie,ne){$==="<"||$==="\\lt"||$==="\u27E8"?$="\\langle":($===">"||$==="\\gt"||$==="\u27E9")&&($="\\rangle");var ae;utils.contains(stackNeverDelimiters,$)?ae=stackNeverDelimiterSequence:utils.contains(stackLargeDelimiters,$)?ae=stackLargeDelimiterSequence:ae=stackAlwaysDelimiterSequence;var se=traverseSequence($,_,ae,re);return se.type==="small"?makeSmallDelim($,se.style,te,re,ie,ne):se.type==="large"?makeLargeDelim($,se.size,te,re,ie,ne):makeStackedDelim($,_,te,re,ie,ne)},makeLeftRightDelim=function ee($,_,te,re,ie,ne){var ae=re.fontMetrics().axisHeight*re.sizeMultiplier,se=901,oe=5/re.fontMetrics().ptPerEm,le=Math.max(_-ae,te+ae),ce=Math.max(le/500*se,2*le-oe);return makeCustomSizedDelim($,ce,!0,re,ie,ne)},delimiter={sqrtImage:makeSqrtImage,sizedDelim:makeSizedDelim,sizeToMaxHeight,customSizedDelim:makeCustomSizedDelim,leftRightDelim:makeLeftRightDelim},delimiterSizes={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},delimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function checkDelimiter(ee,$){var _=checkSymbolNodeType(ee);if(_&&utils.contains(delimiters,_.text))return _;throw _?new ParseError("Invalid delimiter '"+_.text+"' after '"+$.funcName+"'",ee):new ParseError("Invalid delimiter type '"+ee.type+"'",ee)}defineFunction({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(ee,$)=>{var _=checkDelimiter($[0],ee);return{type:"delimsizing",mode:ee.parser.mode,size:delimiterSizes[ee.funcName].size,mclass:delimiterSizes[ee.funcName].mclass,delim:_.text}},htmlBuilder:(ee,$)=>ee.delim==="."?buildCommon.makeSpan([ee.mclass]):delimiter.sizedDelim(ee.delim,ee.size,$,ee.mode,[ee.mclass]),mathmlBuilder:ee=>{var $=[];ee.delim!=="."&&$.push(makeText(ee.delim,ee.mode));var _=new mathMLTree.MathNode("mo",$);ee.mclass==="mopen"||ee.mclass==="mclose"?_.setAttribute("fence","true"):_.setAttribute("fence","false"),_.setAttribute("stretchy","true");var te=makeEm(delimiter.sizeToMaxHeight[ee.size]);return _.setAttribute("minsize",te),_.setAttribute("maxsize",te),_}});function assertParsed(ee){if(!ee.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}defineFunction({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(ee,$)=>{var _=ee.parser.gullet.macros.get("\\current@color");if(_&&typeof _!="string")throw new ParseError("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:ee.parser.mode,delim:checkDelimiter($[0],ee).text,color:_}}}),defineFunction({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(ee,$)=>{var _=checkDelimiter($[0],ee),te=ee.parser;++te.leftrightDepth;var re=te.parseExpression(!1);--te.leftrightDepth,te.expect("\\right",!1);var ie=assertNodeType(te.parseFunction(),"leftright-right");return{type:"leftright",mode:te.mode,body:re,left:_.text,right:ie.delim,rightColor:ie.color}},htmlBuilder:(ee,$)=>{assertParsed(ee);for(var _=buildExpression$1(ee.body,$,!0,["mopen","mclose"]),te=0,re=0,ie=!1,ne=0;ne<_.length;ne++)_[ne].isMiddle?ie=!0:(te=Math.max(_[ne].height,te),re=Math.max(_[ne].depth,re));te*=$.sizeMultiplier,re*=$.sizeMultiplier;var ae;if(ee.left==="."?ae=makeNullDelimiter($,["mopen"]):ae=delimiter.leftRightDelim(ee.left,te,re,$,ee.mode,["mopen"]),_.unshift(ae),ie)for(var se=1;se<_.length;se++){var oe=_[se],le=oe.isMiddle;le&&(_[se]=delimiter.leftRightDelim(le.delim,te,re,le.options,ee.mode,[]))}var ce;if(ee.right===".")ce=makeNullDelimiter($,["mclose"]);else{var ue=ee.rightColor?$.withColor(ee.rightColor):$;ce=delimiter.leftRightDelim(ee.right,te,re,ue,ee.mode,["mclose"])}return _.push(ce),buildCommon.makeSpan(["minner"],_,$)},mathmlBuilder:(ee,$)=>{assertParsed(ee);var _=buildExpression(ee.body,$);if(ee.left!=="."){var te=new mathMLTree.MathNode("mo",[makeText(ee.left,ee.mode)]);te.setAttribute("fence","true"),_.unshift(te)}if(ee.right!=="."){var re=new mathMLTree.MathNode("mo",[makeText(ee.right,ee.mode)]);re.setAttribute("fence","true"),ee.rightColor&&re.setAttribute("mathcolor",ee.rightColor),_.push(re)}return makeRow(_)}}),defineFunction({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(ee,$)=>{var _=checkDelimiter($[0],ee);if(!ee.parser.leftrightDepth)throw new ParseError("\\middle without preceding \\left",_);return{type:"middle",mode:ee.parser.mode,delim:_.text}},htmlBuilder:(ee,$)=>{var _;if(ee.delim===".")_=makeNullDelimiter($,[]);else{_=delimiter.sizedDelim(ee.delim,1,$,ee.mode,[]);var te={delim:ee.delim,options:$};_.isMiddle=te}return _},mathmlBuilder:(ee,$)=>{var _=ee.delim==="\\vert"||ee.delim==="|"?makeText("|","text"):makeText(ee.delim,ee.mode),te=new mathMLTree.MathNode("mo",[_]);return te.setAttribute("fence","true"),te.setAttribute("lspace","0.05em"),te.setAttribute("rspace","0.05em"),te}});var htmlBuilder$8=(ee,$)=>{var _=buildCommon.wrapFragment(buildGroup$1(ee.body,$),$),te=ee.label.substr(1),re=$.sizeMultiplier,ie,ne=0,ae=utils.isCharacterBox(ee.body);if(te==="sout")ie=buildCommon.makeSpan(["stretchy","sout"]),ie.height=$.fontMetrics().defaultRuleThickness/re,ne=-.5*$.fontMetrics().xHeight;else if(te==="phase"){var se=calculateSize({number:.6,unit:"pt"},$),oe=calculateSize({number:.35,unit:"ex"},$),le=$.havingBaseSizing();re=re/le.sizeMultiplier;var ce=_.height+_.depth+se+oe;_.style.paddingLeft=makeEm(ce/2+se);var ue=Math.floor(1e3*ce*re),me=phasePath(ue),fe=new SvgNode([new PathNode("phase",me)],{width:"400em",height:makeEm(ue/1e3),viewBox:"0 0 400000 "+ue,preserveAspectRatio:"xMinYMin slice"});ie=buildCommon.makeSvgSpan(["hide-tail"],[fe],$),ie.style.height=makeEm(ce),ne=_.depth+se+oe}else{/cancel/.test(te)?ae||_.classes.push("cancel-pad"):te==="angl"?_.classes.push("anglpad"):_.classes.push("boxpad");var de=0,pe=0,ge=0;/box/.test(te)?(ge=Math.max($.fontMetrics().fboxrule,$.minRuleThickness),de=$.fontMetrics().fboxsep+(te==="colorbox"?0:ge),pe=de):te==="angl"?(ge=Math.max($.fontMetrics().defaultRuleThickness,$.minRuleThickness),de=4*ge,pe=Math.max(0,.25-_.depth)):(de=ae?.2:0,pe=de),ie=stretchy.encloseSpan(_,te,de,pe,$),/fbox|boxed|fcolorbox/.test(te)?(ie.style.borderStyle="solid",ie.style.borderWidth=makeEm(ge)):te==="angl"&&ge!==.049&&(ie.style.borderTopWidth=makeEm(ge),ie.style.borderRightWidth=makeEm(ge)),ne=_.depth+pe,ee.backgroundColor&&(ie.style.backgroundColor=ee.backgroundColor,ee.borderColor&&(ie.style.borderColor=ee.borderColor))}var ye;if(ee.backgroundColor)ye=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ie,shift:ne},{type:"elem",elem:_,shift:0}]},$);else{var be=/cancel|phase/.test(te)?["svg-align"]:[];ye=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:_,shift:0},{type:"elem",elem:ie,shift:ne,wrapperClasses:be}]},$)}return/cancel/.test(te)&&(ye.height=_.height,ye.depth=_.depth),/cancel/.test(te)&&!ae?buildCommon.makeSpan(["mord","cancel-lap"],[ye],$):buildCommon.makeSpan(["mord"],[ye],$)},mathmlBuilder$7=(ee,$)=>{var _=0,te=new mathMLTree.MathNode(ee.label.indexOf("colorbox")>-1?"mpadded":"menclose",[buildGroup(ee.body,$)]);switch(ee.label){case"\\cancel":te.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":te.setAttribute("notation","downdiagonalstrike");break;case"\\phase":te.setAttribute("notation","phasorangle");break;case"\\sout":te.setAttribute("notation","horizontalstrike");break;case"\\fbox":te.setAttribute("notation","box");break;case"\\angl":te.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(_=$.fontMetrics().fboxsep*$.fontMetrics().ptPerEm,te.setAttribute("width","+"+2*_+"pt"),te.setAttribute("height","+"+2*_+"pt"),te.setAttribute("lspace",_+"pt"),te.setAttribute("voffset",_+"pt"),ee.label==="\\fcolorbox"){var re=Math.max($.fontMetrics().fboxrule,$.minRuleThickness);te.setAttribute("style","border: "+re+"em solid "+String(ee.borderColor))}break;case"\\xcancel":te.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return ee.backgroundColor&&te.setAttribute("mathbackground",ee.backgroundColor),te};defineFunction({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(ee,$,_){var{parser:te,funcName:re}=ee,ie=assertNodeType($[0],"color-token").color,ne=$[1];return{type:"enclose",mode:te.mode,label:re,backgroundColor:ie,body:ne}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7}),defineFunction({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(ee,$,_){var{parser:te,funcName:re}=ee,ie=assertNodeType($[0],"color-token").color,ne=assertNodeType($[1],"color-token").color,ae=$[2];return{type:"enclose",mode:te.mode,label:re,backgroundColor:ne,borderColor:ie,body:ae}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7}),defineFunction({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(ee,$){var{parser:_}=ee;return{type:"enclose",mode:_.mode,label:"\\fbox",body:$[0]}}}),defineFunction({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(ee,$){var{parser:_,funcName:te}=ee,re=$[0];return{type:"enclose",mode:_.mode,label:te,body:re}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7}),defineFunction({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(ee,$){var{parser:_}=ee;return{type:"enclose",mode:_.mode,label:"\\angl",body:$[0]}}});var _environments={};function defineEnvironment(ee){for(var{type:$,names:_,props:te,handler:re,htmlBuilder:ie,mathmlBuilder:ne}=ee,ae={type:$,numArgs:te.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:re},se=0;se<_.length;++se)_environments[_[se]]=ae;ie&&(_htmlGroupBuilders[$]=ie),ne&&(_mathmlGroupBuilders[$]=ne)}function getHLines(ee){var $=[];ee.consumeSpaces();for(var _=ee.fetch().text;_==="\\hline"||_==="\\hdashline";)ee.consume(),$.push(_==="\\hdashline"),ee.consumeSpaces(),_=ee.fetch().text;return $}var validateAmsEnvironmentContext=ee=>{var $=ee.parser.settings;if(!$.displayMode)throw new ParseError("{"+ee.envName+"} can be used only in display mode.")};function parseArray(ee,$,_){var{hskipBeforeAndAfter:te,addJot:re,cols:ie,arraystretch:ne,colSeparationType:ae,addEqnNum:se,singleRow:oe,emptySingleRow:le,maxNumCols:ce,leqno:ue}=$;if(ee.gullet.beginGroup(),oe||ee.gullet.macros.set("\\cr","\\\\\\relax"),!ne){var me=ee.gullet.expandMacroAsText("\\arraystretch");if(me==null)ne=1;else if(ne=parseFloat(me),!ne||ne<0)throw new ParseError("Invalid \\arraystretch: "+me)}ee.gullet.beginGroup();var fe=[],de=[fe],pe=[],ge=[];for(ge.push(getHLines(ee));;){var ye=ee.parseExpression(!1,oe?"\\end":"\\\\");ee.gullet.endGroup(),ee.gullet.beginGroup(),ye={type:"ordgroup",mode:ee.mode,body:ye},_&&(ye={type:"styling",mode:ee.mode,style:_,body:[ye]}),fe.push(ye);var be=ee.fetch().text;if(be==="&"){if(ce&&fe.length===ce){if(oe||ae)throw new ParseError("Too many tab characters: &",ee.nextToken);ee.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}ee.consume()}else if(be==="\\end"){fe.length===1&&ye.type==="styling"&&ye.body[0].body.length===0&&(de.length>1||!le)&&de.pop(),ge.length<de.length+1&&ge.push([]);break}else if(be==="\\\\"){ee.consume();var xe=void 0;ee.gullet.future().text!==" "&&(xe=ee.parseSizeGroup(!0)),pe.push(xe?xe.value:null),ge.push(getHLines(ee)),fe=[],de.push(fe)}else throw new ParseError("Expected & or \\\\ or \\cr or \\end",ee.nextToken)}return ee.gullet.endGroup(),ee.gullet.endGroup(),{type:"array",mode:ee.mode,addJot:re,arraystretch:ne,body:de,cols:ie,rowGaps:pe,hskipBeforeAndAfter:te,hLinesBeforeRow:ge,colSeparationType:ae,addEqnNum:se,leqno:ue}}function dCellStyle(ee){return ee.substr(0,1)==="d"?"display":"text"}var htmlBuilder$7=function ee($,_){var te,re,ie=$.body.length,ne=$.hLinesBeforeRow,ae=0,se=new Array(ie),oe=[],le=Math.max(_.fontMetrics().arrayRuleWidth,_.minRuleThickness),ce=1/_.fontMetrics().ptPerEm,ue=5*ce;if($.colSeparationType&&$.colSeparationType==="small"){var me=_.havingStyle(Style$1.SCRIPT).sizeMultiplier;ue=.2778*(me/_.sizeMultiplier)}var fe=$.colSeparationType==="CD"?calculateSize({number:3,unit:"ex"},_):12*ce,de=3*ce,pe=$.arraystretch*fe,ge=.7*pe,ye=.3*pe,be=0;function xe(et){for(var Ke=0;Ke<et.length;++Ke)Ke>0&&(be+=.25),oe.push({pos:be,isDashed:et[Ke]})}for(xe(ne[0]),te=0;te<$.body.length;++te){var Se=$.body[te],ve=ge,$e=ye;ae<Se.length&&(ae=Se.length);var _e=new Array(Se.length);for(re=0;re<Se.length;++re){var Me=buildGroup$1(Se[re],_);$e<Me.depth&&($e=Me.depth),ve<Me.height&&(ve=Me.height),_e[re]=Me}var Ce=$.rowGaps[te],we=0;Ce&&(we=calculateSize(Ce,_),we>0&&(we+=ye,$e<we&&($e=we),we=0)),$.addJot&&($e+=de),_e.height=ve,_e.depth=$e,be+=ve,_e.pos=be,be+=$e+we,se[te]=_e,xe(ne[te+1])}var Ie=be/2+_.fontMetrics().axisHeight,ke=$.cols||[],Te=[],Ee,Ae,He=[];if($.addEqnNum)for(te=0;te<ie;++te){var Be=se[te],Fe=Be.pos-Ie,Le=buildCommon.makeSpan(["eqn-num"],[],_);Le.depth=Be.depth,Le.height=Be.height,He.push({type:"elem",elem:Le,shift:Fe})}for(re=0,Ae=0;re<ae||Ae<ke.length;++re,++Ae){for(var De=ke[Ae]||{},Re=!0;De.type==="separator";){if(Re||(Ee=buildCommon.makeSpan(["arraycolsep"],[]),Ee.style.width=makeEm(_.fontMetrics().doubleRuleSep),Te.push(Ee)),De.separator==="|"||De.separator===":"){var Ge=De.separator==="|"?"solid":"dashed",Oe=buildCommon.makeSpan(["vertical-separator"],[],_);Oe.style.height=makeEm(be),Oe.style.borderRightWidth=makeEm(le),Oe.style.borderRightStyle=Ge,Oe.style.margin="0 "+makeEm(-le/2);var Ue=be-Ie;Ue&&(Oe.style.verticalAlign=makeEm(-Ue)),Te.push(Oe)}else throw new ParseError("Invalid separator type: "+De.separator);Ae++,De=ke[Ae]||{},Re=!1}if(!(re>=ae)){var Pe=void 0;(re>0||$.hskipBeforeAndAfter)&&(Pe=utils.deflt(De.pregap,ue),Pe!==0&&(Ee=buildCommon.makeSpan(["arraycolsep"],[]),Ee.style.width=makeEm(Pe),Te.push(Ee)));var Ne=[];for(te=0;te<ie;++te){var ze=se[te],qe=ze[re];if(!!qe){var je=ze.pos-Ie;qe.depth=ze.depth,qe.height=ze.height,Ne.push({type:"elem",elem:qe,shift:je})}}Ne=buildCommon.makeVList({positionType:"individualShift",children:Ne},_),Ne=buildCommon.makeSpan(["col-align-"+(De.align||"c")],[Ne]),Te.push(Ne),(re<ae-1||$.hskipBeforeAndAfter)&&(Pe=utils.deflt(De.postgap,ue),Pe!==0&&(Ee=buildCommon.makeSpan(["arraycolsep"],[]),Ee.style.width=makeEm(Pe),Te.push(Ee)))}}if(se=buildCommon.makeSpan(["mtable"],Te),oe.length>0){for(var Ve=buildCommon.makeLineSpan("hline",_,le),Je=buildCommon.makeLineSpan("hdashline",_,le),Xe=[{type:"elem",elem:se,shift:0}];oe.length>0;){var Qe=oe.pop(),We=Qe.pos-Ie;Qe.isDashed?Xe.push({type:"elem",elem:Je,shift:We}):Xe.push({type:"elem",elem:Ve,shift:We})}se=buildCommon.makeVList({positionType:"individualShift",children:Xe},_)}if($.addEqnNum){var Ye=buildCommon.makeVList({positionType:"individualShift",children:He},_);return Ye=buildCommon.makeSpan(["tag"],[Ye],_),buildCommon.makeFragment([se,Ye])}else return buildCommon.makeSpan(["mord"],[se],_)},alignMap={c:"center ",l:"left ",r:"right "},mathmlBuilder$6=function ee($,_){for(var te=[],re=new mathMLTree.MathNode("mtd",[],["mtr-glue"]),ie=new mathMLTree.MathNode("mtd",[],["mml-eqn-num"]),ne=0;ne<$.body.length;ne++){for(var ae=$.body[ne],se=[],oe=0;oe<ae.length;oe++)se.push(new mathMLTree.MathNode("mtd",[buildGroup(ae[oe],_)]));$.addEqnNum&&(se.unshift(re),se.push(re),$.leqno?se.unshift(ie):se.push(ie)),te.push(new mathMLTree.MathNode("mtr",se))}var le=new mathMLTree.MathNode("mtable",te),ce=$.arraystretch===.5?.1:.16+$.arraystretch-1+($.addJot?.09:0);le.setAttribute("rowspacing",makeEm(ce));var ue="",me="";if($.cols&&$.cols.length>0){var fe=$.cols,de="",pe=!1,ge=0,ye=fe.length;fe[0].type==="separator"&&(ue+="top ",ge=1),fe[fe.length-1].type==="separator"&&(ue+="bottom ",ye-=1);for(var be=ge;be<ye;be++)fe[be].type==="align"?(me+=alignMap[fe[be].align],pe&&(de+="none "),pe=!0):fe[be].type==="separator"&&pe&&(de+=fe[be].separator==="|"?"solid ":"dashed ",pe=!1);le.setAttribute("columnalign",me.trim()),/[sd]/.test(de)&&le.setAttribute("columnlines",de.trim())}if($.colSeparationType==="align"){for(var xe=$.cols||[],Se="",ve=1;ve<xe.length;ve++)Se+=ve%2?"0em ":"1em ";le.setAttribute("columnspacing",Se.trim())}else $.colSeparationType==="alignat"||$.colSeparationType==="gather"?le.setAttribute("columnspacing","0em"):$.colSeparationType==="small"?le.setAttribute("columnspacing","0.2778em"):$.colSeparationType==="CD"?le.setAttribute("columnspacing","0.5em"):le.setAttribute("columnspacing","1em");var $e="",_e=$.hLinesBeforeRow;ue+=_e[0].length>0?"left ":"",ue+=_e[_e.length-1].length>0?"right ":"";for(var Me=1;Me<_e.length-1;Me++)$e+=_e[Me].length===0?"none ":_e[Me][0]?"dashed ":"solid ";return/[sd]/.test($e)&&le.setAttribute("rowlines",$e.trim()),ue!==""&&(le=new mathMLTree.MathNode("menclose",[le]),le.setAttribute("notation",ue.trim())),$.arraystretch&&$.arraystretch<1&&(le=new mathMLTree.MathNode("mstyle",[le]),le.setAttribute("scriptlevel","1")),le},alignedHandler=function ee($,_){$.envName.indexOf("ed")===-1&&validateAmsEnvironmentContext($);var te=[],re=$.envName.indexOf("at")>-1?"alignat":"align",ie=parseArray($.parser,{cols:te,addJot:!0,addEqnNum:$.envName==="align"||$.envName==="alignat",emptySingleRow:!0,colSeparationType:re,maxNumCols:$.envName==="split"?2:void 0,leqno:$.parser.settings.leqno},"display"),ne,ae=0,se={type:"ordgroup",mode:$.mode,body:[]};if(_[0]&&_[0].type==="ordgroup"){for(var oe="",le=0;le<_[0].body.length;le++){var ce=assertNodeType(_[0].body[le],"textord");oe+=ce.text}ne=Number(oe),ae=ne*2}var ue=!ae;ie.body.forEach(function(pe){for(var ge=1;ge<pe.length;ge+=2){var ye=assertNodeType(pe[ge],"styling"),be=assertNodeType(ye.body[0],"ordgroup");be.body.unshift(se)}if(ue)ae<pe.length&&(ae=pe.length);else{var xe=pe.length/2;if(ne<xe)throw new ParseError("Too many math in a row: "+("expected "+ne+", but got "+xe),pe[0])}});for(var me=0;me<ae;++me){var fe="r",de=0;me%2==1?fe="l":me>0&&ue&&(de=1),te[me]={type:"align",align:fe,pregap:de,postgap:0}}return ie.colSeparationType=ue?"align":"alignat",ie};defineEnvironment({type:"array",names:["array","darray"],props:{numArgs:1},handler(ee,$){var _=checkSymbolNodeType($[0]),te=_?[$[0]]:assertNodeType($[0],"ordgroup").body,re=te.map(function(ne){var ae=assertSymbolNodeType(ne),se=ae.text;if("lcr".indexOf(se)!==-1)return{type:"align",align:se};if(se==="|")return{type:"separator",separator:"|"};if(se===":")return{type:"separator",separator:":"};throw new ParseError("Unknown column alignment: "+se,ne)}),ie={cols:re,hskipBeforeAndAfter:!0,maxNumCols:re.length};return parseArray(ee.parser,ie,dCellStyle(ee.envName))},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineEnvironment({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(ee){var $={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[ee.envName.replace("*","")],_="c",te={hskipBeforeAndAfter:!1,cols:[{type:"align",align:_}]};if(ee.envName.charAt(ee.envName.length-1)==="*"){var re=ee.parser;if(re.consumeSpaces(),re.fetch().text==="["){if(re.consume(),re.consumeSpaces(),_=re.fetch().text,"lcr".indexOf(_)===-1)throw new ParseError("Expected l or c or r",re.nextToken);re.consume(),re.consumeSpaces(),re.expect("]"),re.consume(),te.cols=[{type:"align",align:_}]}}var ie=parseArray(ee.parser,te,dCellStyle(ee.envName)),ne=Math.max(0,...ie.body.map(ae=>ae.length));return ie.cols=new Array(ne).fill({type:"align",align:_}),$?{type:"leftright",mode:ee.mode,body:[ie],left:$[0],right:$[1],rightColor:void 0}:ie},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineEnvironment({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(ee){var $={arraystretch:.5},_=parseArray(ee.parser,$,"script");return _.colSeparationType="small",_},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineEnvironment({type:"array",names:["subarray"],props:{numArgs:1},handler(ee,$){var _=checkSymbolNodeType($[0]),te=_?[$[0]]:assertNodeType($[0],"ordgroup").body,re=te.map(function(ne){var ae=assertSymbolNodeType(ne),se=ae.text;if("lc".indexOf(se)!==-1)return{type:"align",align:se};throw new ParseError("Unknown column alignment: "+se,ne)});if(re.length>1)throw new ParseError("{subarray} can contain only one column");var ie={cols:re,hskipBeforeAndAfter:!1,arraystretch:.5};if(ie=parseArray(ee.parser,ie,"script"),ie.body.length>0&&ie.body[0].length>1)throw new ParseError("{subarray} can contain only one column");return ie},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineEnvironment({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(ee){var $={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},_=parseArray(ee.parser,$,dCellStyle(ee.envName));return{type:"leftright",mode:ee.mode,body:[_],left:ee.envName.indexOf("r")>-1?".":"\\{",right:ee.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineEnvironment({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:alignedHandler,htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineEnvironment({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(ee){utils.contains(["gather","gather*"],ee.envName)&&validateAmsEnvironmentContext(ee);var $={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",addEqnNum:ee.envName==="gather",emptySingleRow:!0,leqno:ee.parser.settings.leqno};return parseArray(ee.parser,$,"display")},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineEnvironment({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:alignedHandler,htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineEnvironment({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(ee){validateAmsEnvironmentContext(ee);var $={addEqnNum:ee.envName==="equation",emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:ee.parser.settings.leqno};return parseArray(ee.parser,$,"display")},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineEnvironment({type:"array",names:["CD"],props:{numArgs:0},handler(ee){return validateAmsEnvironmentContext(ee),parseCD(ee.parser)},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineFunction({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(ee,$){throw new ParseError(ee.funcName+" valid only within array environment")}});var environments=_environments;defineFunction({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(ee,$){var{parser:_,funcName:te}=ee,re=$[0];if(re.type!=="ordgroup")throw new ParseError("Invalid environment name",re);for(var ie="",ne=0;ne<re.body.length;++ne)ie+=assertNodeType(re.body[ne],"textord").text;if(te==="\\begin"){if(!environments.hasOwnProperty(ie))throw new ParseError("No such environment: "+ie,re);var ae=environments[ie],{args:se,optArgs:oe}=_.parseArguments("\\begin{"+ie+"}",ae),le={mode:_.mode,envName:ie,parser:_},ce=ae.handler(le,se,oe);_.expect("\\end",!1);var ue=_.nextToken,me=assertNodeType(_.parseFunction(),"environment");if(me.name!==ie)throw new ParseError("Mismatch: \\begin{"+ie+"} matched by \\end{"+me.name+"}",ue);return ce}return{type:"environment",mode:_.mode,name:ie,nameGroup:re}}});var makeSpan=buildCommon.makeSpan;function htmlBuilder$6(ee,$){var _=buildExpression$1(ee.body,$,!0);return makeSpan([ee.mclass],_,$)}function mathmlBuilder$5(ee,$){var _,te=buildExpression(ee.body,$);return ee.mclass==="minner"?mathMLTree.newDocumentFragment(te):(ee.mclass==="mord"?ee.isCharacterBox?(_=te[0],_.type="mi"):_=new mathMLTree.MathNode("mi",te):(ee.isCharacterBox?(_=te[0],_.type="mo"):_=new mathMLTree.MathNode("mo",te),ee.mclass==="mbin"?(_.attributes.lspace="0.22em",_.attributes.rspace="0.22em"):ee.mclass==="mpunct"?(_.attributes.lspace="0em",_.attributes.rspace="0.17em"):(ee.mclass==="mopen"||ee.mclass==="mclose")&&(_.attributes.lspace="0em",_.attributes.rspace="0em")),_)}defineFunction({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(ee,$){var{parser:_,funcName:te}=ee,re=$[0];return{type:"mclass",mode:_.mode,mclass:"m"+te.substr(5),body:ordargument(re),isCharacterBox:utils.isCharacterBox(re)}},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});var binrelClass=ee=>{var $=ee.type==="ordgroup"&&ee.body.length?ee.body[0]:ee;return $.type==="atom"&&($.family==="bin"||$.family==="rel")?"m"+$.family:"mord"};defineFunction({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(ee,$){var{parser:_}=ee;return{type:"mclass",mode:_.mode,mclass:binrelClass($[0]),body:ordargument($[1]),isCharacterBox:utils.isCharacterBox($[1])}}}),defineFunction({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(ee,$){var{parser:_,funcName:te}=ee,re=$[1],ie=$[0],ne;te!=="\\stackrel"?ne=binrelClass(re):ne="mrel";var ae={type:"op",mode:re.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:te!=="\\stackrel",body:ordargument(re)},se={type:"supsub",mode:ie.mode,base:ae,sup:te==="\\underset"?null:ie,sub:te==="\\underset"?ie:null};return{type:"mclass",mode:_.mode,mclass:ne,body:[se],isCharacterBox:utils.isCharacterBox(se)}},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});var htmlBuilder$5=(ee,$)=>{var _=ee.font,te=$.withFont(_);return buildGroup$1(ee.body,te)},mathmlBuilder$4=(ee,$)=>{var _=ee.font,te=$.withFont(_);return buildGroup(ee.body,te)},fontAliases={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};defineFunction({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(ee,$)=>{var{parser:_,funcName:te}=ee,re=normalizeArgument($[0]),ie=te;return ie in fontAliases&&(ie=fontAliases[ie]),{type:"font",mode:_.mode,font:ie.slice(1),body:re}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4}),defineFunction({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(ee,$)=>{var{parser:_}=ee,te=$[0],re=utils.isCharacterBox(te);return{type:"mclass",mode:_.mode,mclass:binrelClass(te),body:[{type:"font",mode:_.mode,font:"boldsymbol",body:te}],isCharacterBox:re}}}),defineFunction({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(ee,$)=>{var{parser:_,funcName:te,breakOnTokenText:re}=ee,{mode:ie}=_,ne=_.parseExpression(!0,re),ae="math"+te.slice(1);return{type:"font",mode:ie,font:ae,body:{type:"ordgroup",mode:_.mode,body:ne}}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});var adjustStyle=(ee,$)=>{var _=$;return ee==="display"?_=_.id>=Style$1.SCRIPT.id?_.text():Style$1.DISPLAY:ee==="text"&&_.size===Style$1.DISPLAY.size?_=Style$1.TEXT:ee==="script"?_=Style$1.SCRIPT:ee==="scriptscript"&&(_=Style$1.SCRIPTSCRIPT),_},htmlBuilder$4=(ee,$)=>{var _=adjustStyle(ee.size,$.style),te=_.fracNum(),re=_.fracDen(),ie;ie=$.havingStyle(te);var ne=buildGroup$1(ee.numer,ie,$);if(ee.continued){var ae=8.5/$.fontMetrics().ptPerEm,se=3.5/$.fontMetrics().ptPerEm;ne.height=ne.height<ae?ae:ne.height,ne.depth=ne.depth<se?se:ne.depth}ie=$.havingStyle(re);var oe=buildGroup$1(ee.denom,ie,$),le,ce,ue;ee.hasBarLine?(ee.barSize?(ce=calculateSize(ee.barSize,$),le=buildCommon.makeLineSpan("frac-line",$,ce)):le=buildCommon.makeLineSpan("frac-line",$),ce=le.height,ue=le.height):(le=null,ce=0,ue=$.fontMetrics().defaultRuleThickness);var me,fe,de;_.size===Style$1.DISPLAY.size||ee.size==="display"?(me=$.fontMetrics().num1,ce>0?fe=3*ue:fe=7*ue,de=$.fontMetrics().denom1):(ce>0?(me=$.fontMetrics().num2,fe=ue):(me=$.fontMetrics().num3,fe=3*ue),de=$.fontMetrics().denom2);var pe;if(le){var ye=$.fontMetrics().axisHeight;me-ne.depth-(ye+.5*ce)<fe&&(me+=fe-(me-ne.depth-(ye+.5*ce))),ye-.5*ce-(oe.height-de)<fe&&(de+=fe-(ye-.5*ce-(oe.height-de)));var be=-(ye-.5*ce);pe=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:oe,shift:de},{type:"elem",elem:le,shift:be},{type:"elem",elem:ne,shift:-me}]},$)}else{var ge=me-ne.depth-(oe.height-de);ge<fe&&(me+=.5*(fe-ge),de+=.5*(fe-ge)),pe=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:oe,shift:de},{type:"elem",elem:ne,shift:-me}]},$)}ie=$.havingStyle(_),pe.height*=ie.sizeMultiplier/$.sizeMultiplier,pe.depth*=ie.sizeMultiplier/$.sizeMultiplier;var xe;_.size===Style$1.DISPLAY.size?xe=$.fontMetrics().delim1:_.size===Style$1.SCRIPTSCRIPT.size?xe=$.havingStyle(Style$1.SCRIPT).fontMetrics().delim2:xe=$.fontMetrics().delim2;var Se,ve;return ee.leftDelim==null?Se=makeNullDelimiter($,["mopen"]):Se=delimiter.customSizedDelim(ee.leftDelim,xe,!0,$.havingStyle(_),ee.mode,["mopen"]),ee.continued?ve=buildCommon.makeSpan([]):ee.rightDelim==null?ve=makeNullDelimiter($,["mclose"]):ve=delimiter.customSizedDelim(ee.rightDelim,xe,!0,$.havingStyle(_),ee.mode,["mclose"]),buildCommon.makeSpan(["mord"].concat(ie.sizingClasses($)),[Se,buildCommon.makeSpan(["mfrac"],[pe]),ve],$)},mathmlBuilder$3=(ee,$)=>{var _=new mathMLTree.MathNode("mfrac",[buildGroup(ee.numer,$),buildGroup(ee.denom,$)]);if(!ee.hasBarLine)_.setAttribute("linethickness","0px");else if(ee.barSize){var te=calculateSize(ee.barSize,$);_.setAttribute("linethickness",makeEm(te))}var re=adjustStyle(ee.size,$.style);if(re.size!==$.style.size){_=new mathMLTree.MathNode("mstyle",[_]);var ie=re.size===Style$1.DISPLAY.size?"true":"false";_.setAttribute("displaystyle",ie),_.setAttribute("scriptlevel","0")}if(ee.leftDelim!=null||ee.rightDelim!=null){var ne=[];if(ee.leftDelim!=null){var ae=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(ee.leftDelim.replace("\\",""))]);ae.setAttribute("fence","true"),ne.push(ae)}if(ne.push(_),ee.rightDelim!=null){var se=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(ee.rightDelim.replace("\\",""))]);se.setAttribute("fence","true"),ne.push(se)}return makeRow(ne)}return _};defineFunction({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(ee,$)=>{var{parser:_,funcName:te}=ee,re=$[0],ie=$[1],ne,ae=null,se=null,oe="auto";switch(te){case"\\dfrac":case"\\frac":case"\\tfrac":ne=!0;break;case"\\\\atopfrac":ne=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":ne=!1,ae="(",se=")";break;case"\\\\bracefrac":ne=!1,ae="\\{",se="\\}";break;case"\\\\brackfrac":ne=!1,ae="[",se="]";break;default:throw new Error("Unrecognized genfrac command")}switch(te){case"\\dfrac":case"\\dbinom":oe="display";break;case"\\tfrac":case"\\tbinom":oe="text";break}return{type:"genfrac",mode:_.mode,continued:!1,numer:re,denom:ie,hasBarLine:ne,leftDelim:ae,rightDelim:se,size:oe,barSize:null}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3}),defineFunction({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(ee,$)=>{var{parser:_,funcName:te}=ee,re=$[0],ie=$[1];return{type:"genfrac",mode:_.mode,continued:!0,numer:re,denom:ie,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),defineFunction({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(ee){var{parser:$,funcName:_,token:te}=ee,re;switch(_){case"\\over":re="\\frac";break;case"\\choose":re="\\binom";break;case"\\atop":re="\\\\atopfrac";break;case"\\brace":re="\\\\bracefrac";break;case"\\brack":re="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:$.mode,replaceWith:re,token:te}}});var stylArray=["display","text","script","scriptscript"],delimFromValue=function ee($){var _=null;return $.length>0&&(_=$,_=_==="."?null:_),_};defineFunction({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(ee,$){var{parser:_}=ee,te=$[4],re=$[5],ie=normalizeArgument($[0]),ne=ie.type==="atom"&&ie.family==="open"?delimFromValue(ie.text):null,ae=normalizeArgument($[1]),se=ae.type==="atom"&&ae.family==="close"?delimFromValue(ae.text):null,oe=assertNodeType($[2],"size"),le,ce=null;oe.isBlank?le=!0:(ce=oe.value,le=ce.number>0);var ue="auto",me=$[3];if(me.type==="ordgroup"){if(me.body.length>0){var fe=assertNodeType(me.body[0],"textord");ue=stylArray[Number(fe.text)]}}else me=assertNodeType(me,"textord"),ue=stylArray[Number(me.text)];return{type:"genfrac",mode:_.mode,numer:te,denom:re,continued:!1,hasBarLine:le,barSize:ce,leftDelim:ne,rightDelim:se,size:ue}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3}),defineFunction({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(ee,$){var{parser:_,funcName:te,token:re}=ee;return{type:"infix",mode:_.mode,replaceWith:"\\\\abovefrac",size:assertNodeType($[0],"size").value,token:re}}}),defineFunction({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(ee,$)=>{var{parser:_,funcName:te}=ee,re=$[0],ie=assert(assertNodeType($[1],"infix").size),ne=$[2],ae=ie.number>0;return{type:"genfrac",mode:_.mode,numer:re,denom:ne,continued:!1,hasBarLine:ae,barSize:ie,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});var htmlBuilder$3=(ee,$)=>{var _=$.style,te,re;ee.type==="supsub"?(te=ee.sup?buildGroup$1(ee.sup,$.havingStyle(_.sup()),$):buildGroup$1(ee.sub,$.havingStyle(_.sub()),$),re=assertNodeType(ee.base,"horizBrace")):re=assertNodeType(ee,"horizBrace");var ie=buildGroup$1(re.base,$.havingBaseStyle(Style$1.DISPLAY)),ne=stretchy.svgSpan(re,$),ae;if(re.isOver?(ae=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ie},{type:"kern",size:.1},{type:"elem",elem:ne}]},$),ae.children[0].children[0].children[1].classes.push("svg-align")):(ae=buildCommon.makeVList({positionType:"bottom",positionData:ie.depth+.1+ne.height,children:[{type:"elem",elem:ne},{type:"kern",size:.1},{type:"elem",elem:ie}]},$),ae.children[0].children[0].children[0].classes.push("svg-align")),te){var se=buildCommon.makeSpan(["mord",re.isOver?"mover":"munder"],[ae],$);re.isOver?ae=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:se},{type:"kern",size:.2},{type:"elem",elem:te}]},$):ae=buildCommon.makeVList({positionType:"bottom",positionData:se.depth+.2+te.height+te.depth,children:[{type:"elem",elem:te},{type:"kern",size:.2},{type:"elem",elem:se}]},$)}return buildCommon.makeSpan(["mord",re.isOver?"mover":"munder"],[ae],$)},mathmlBuilder$2=(ee,$)=>{var _=stretchy.mathMLnode(ee.label);return new mathMLTree.MathNode(ee.isOver?"mover":"munder",[buildGroup(ee.base,$),_])};defineFunction({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(ee,$){var{parser:_,funcName:te}=ee;return{type:"horizBrace",mode:_.mode,label:te,isOver:/^\\over/.test(te),base:$[0]}},htmlBuilder:htmlBuilder$3,mathmlBuilder:mathmlBuilder$2}),defineFunction({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(ee,$)=>{var{parser:_}=ee,te=$[1],re=assertNodeType($[0],"url").url;return _.settings.isTrusted({command:"\\href",url:re})?{type:"href",mode:_.mode,href:re,body:ordargument(te)}:_.formatUnsupportedCmd("\\href")},htmlBuilder:(ee,$)=>{var _=buildExpression$1(ee.body,$,!1);return buildCommon.makeAnchor(ee.href,[],_,$)},mathmlBuilder:(ee,$)=>{var _=buildExpressionRow(ee.body,$);return _ instanceof MathNode||(_=new MathNode("mrow",[_])),_.setAttribute("href",ee.href),_}}),defineFunction({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(ee,$)=>{var{parser:_}=ee,te=assertNodeType($[0],"url").url;if(!_.settings.isTrusted({command:"\\url",url:te}))return _.formatUnsupportedCmd("\\url");for(var re=[],ie=0;ie<te.length;ie++){var ne=te[ie];ne==="~"&&(ne="\\textasciitilde"),re.push({type:"textord",mode:"text",text:ne})}var ae={type:"text",mode:_.mode,font:"\\texttt",body:re};return{type:"href",mode:_.mode,href:te,body:ordargument(ae)}}}),defineFunction({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(ee,$){var{parser:_}=ee;return{type:"hbox",mode:_.mode,body:ordargument($[0])}},htmlBuilder(ee,$){var _=buildExpression$1(ee.body,$,!1);return buildCommon.makeFragment(_)},mathmlBuilder(ee,$){return new mathMLTree.MathNode("mrow",buildExpression(ee.body,$))}}),defineFunction({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(ee,$)=>{var{parser:_,funcName:te,token:re}=ee,ie=assertNodeType($[0],"raw").string,ne=$[1];_.settings.strict&&_.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var ae,se={};switch(te){case"\\htmlClass":se.class=ie,ae={command:"\\htmlClass",class:ie};break;case"\\htmlId":se.id=ie,ae={command:"\\htmlId",id:ie};break;case"\\htmlStyle":se.style=ie,ae={command:"\\htmlStyle",style:ie};break;case"\\htmlData":{for(var oe=ie.split(","),le=0;le<oe.length;le++){var ce=oe[le].split("=");if(ce.length!==2)throw new ParseError("Error parsing key-value for \\htmlData");se["data-"+ce[0].trim()]=ce[1].trim()}ae={command:"\\htmlData",attributes:se};break}default:throw new Error("Unrecognized html command")}return _.settings.isTrusted(ae)?{type:"html",mode:_.mode,attributes:se,body:ordargument(ne)}:_.formatUnsupportedCmd(te)},htmlBuilder:(ee,$)=>{var _=buildExpression$1(ee.body,$,!1),te=["enclosing"];ee.attributes.class&&te.push(...ee.attributes.class.trim().split(/\s+/));var re=buildCommon.makeSpan(te,_,$);for(var ie in ee.attributes)ie!=="class"&&ee.attributes.hasOwnProperty(ie)&&re.setAttribute(ie,ee.attributes[ie]);return re},mathmlBuilder:(ee,$)=>buildExpressionRow(ee.body,$)}),defineFunction({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(ee,$)=>{var{parser:_}=ee;return{type:"htmlmathml",mode:_.mode,html:ordargument($[0]),mathml:ordargument($[1])}},htmlBuilder:(ee,$)=>{var _=buildExpression$1(ee.html,$,!1);return buildCommon.makeFragment(_)},mathmlBuilder:(ee,$)=>buildExpressionRow(ee.mathml,$)});var sizeData=function ee($){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test($))return{number:+$,unit:"bp"};var _=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec($);if(!_)throw new ParseError("Invalid size: '"+$+"' in \\includegraphics");var te={number:+(_[1]+_[2]),unit:_[3]};if(!validUnit(te))throw new ParseError("Invalid unit: '"+te.unit+"' in \\includegraphics.");return te};defineFunction({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(ee,$,_)=>{var{parser:te}=ee,re={number:0,unit:"em"},ie={number:.9,unit:"em"},ne={number:0,unit:"em"},ae="";if(_[0])for(var se=assertNodeType(_[0],"raw").string,oe=se.split(","),le=0;le<oe.length;le++){var ce=oe[le].split("=");if(ce.length===2){var ue=ce[1].trim();switch(ce[0].trim()){case"alt":ae=ue;break;case"width":re=sizeData(ue);break;case"height":ie=sizeData(ue);break;case"totalheight":ne=sizeData(ue);break;default:throw new ParseError("Invalid key: '"+ce[0]+"' in \\includegraphics.")}}}var me=assertNodeType($[0],"url").url;return ae===""&&(ae=me,ae=ae.replace(/^.*[\\/]/,""),ae=ae.substring(0,ae.lastIndexOf("."))),te.settings.isTrusted({command:"\\includegraphics",url:me})?{type:"includegraphics",mode:te.mode,alt:ae,width:re,height:ie,totalheight:ne,src:me}:te.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(ee,$)=>{var _=calculateSize(ee.height,$),te=0;ee.totalheight.number>0&&(te=calculateSize(ee.totalheight,$)-_);var re=0;ee.width.number>0&&(re=calculateSize(ee.width,$));var ie={height:makeEm(_+te)};re>0&&(ie.width=makeEm(re)),te>0&&(ie.verticalAlign=makeEm(-te));var ne=new Img(ee.src,ee.alt,ie);return ne.height=_,ne.depth=te,ne},mathmlBuilder:(ee,$)=>{var _=new mathMLTree.MathNode("mglyph",[]);_.setAttribute("alt",ee.alt);var te=calculateSize(ee.height,$),re=0;if(ee.totalheight.number>0&&(re=calculateSize(ee.totalheight,$)-te,_.setAttribute("valign",makeEm(-re))),_.setAttribute("height",makeEm(te+re)),ee.width.number>0){var ie=calculateSize(ee.width,$);_.setAttribute("width",makeEm(ie))}return _.setAttribute("src",ee.src),_}}),defineFunction({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(ee,$){var{parser:_,funcName:te}=ee,re=assertNodeType($[0],"size");if(_.settings.strict){var ie=te[1]==="m",ne=re.value.unit==="mu";ie?(ne||_.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+te+" supports only mu units, "+("not "+re.value.unit+" units")),_.mode!=="math"&&_.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+te+" works only in math mode")):ne&&_.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+te+" doesn't support mu units")}return{type:"kern",mode:_.mode,dimension:re.value}},htmlBuilder(ee,$){return buildCommon.makeGlue(ee.dimension,$)},mathmlBuilder(ee,$){var _=calculateSize(ee.dimension,$);return new mathMLTree.SpaceNode(_)}}),defineFunction({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(ee,$)=>{var{parser:_,funcName:te}=ee,re=$[0];return{type:"lap",mode:_.mode,alignment:te.slice(5),body:re}},htmlBuilder:(ee,$)=>{var _;ee.alignment==="clap"?(_=buildCommon.makeSpan([],[buildGroup$1(ee.body,$)]),_=buildCommon.makeSpan(["inner"],[_],$)):_=buildCommon.makeSpan(["inner"],[buildGroup$1(ee.body,$)]);var te=buildCommon.makeSpan(["fix"],[]),re=buildCommon.makeSpan([ee.alignment],[_,te],$),ie=buildCommon.makeSpan(["strut"]);return ie.style.height=makeEm(re.height+re.depth),re.depth&&(ie.style.verticalAlign=makeEm(-re.depth)),re.children.unshift(ie),re=buildCommon.makeSpan(["thinbox"],[re],$),buildCommon.makeSpan(["mord","vbox"],[re],$)},mathmlBuilder:(ee,$)=>{var _=new mathMLTree.MathNode("mpadded",[buildGroup(ee.body,$)]);if(ee.alignment!=="rlap"){var te=ee.alignment==="llap"?"-1":"-0.5";_.setAttribute("lspace",te+"width")}return _.setAttribute("width","0px"),_}}),defineFunction({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(ee,$){var{funcName:_,parser:te}=ee,re=te.mode;te.switchMode("math");var ie=_==="\\("?"\\)":"$",ne=te.parseExpression(!1,ie);return te.expect(ie),te.switchMode(re),{type:"styling",mode:te.mode,style:"text",body:ne}}}),defineFunction({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(ee,$){throw new ParseError("Mismatched "+ee.funcName)}});var chooseMathStyle=(ee,$)=>{switch($.style.size){case Style$1.DISPLAY.size:return ee.display;case Style$1.TEXT.size:return ee.text;case Style$1.SCRIPT.size:return ee.script;case Style$1.SCRIPTSCRIPT.size:return ee.scriptscript;default:return ee.text}};defineFunction({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(ee,$)=>{var{parser:_}=ee;return{type:"mathchoice",mode:_.mode,display:ordargument($[0]),text:ordargument($[1]),script:ordargument($[2]),scriptscript:ordargument($[3])}},htmlBuilder:(ee,$)=>{var _=chooseMathStyle(ee,$),te=buildExpression$1(_,$,!1);return buildCommon.makeFragment(te)},mathmlBuilder:(ee,$)=>{var _=chooseMathStyle(ee,$);return buildExpressionRow(_,$)}});var assembleSupSub=(ee,$,_,te,re,ie,ne)=>{ee=buildCommon.makeSpan([],[ee]);var ae=_&&utils.isCharacterBox(_),se,oe;if($){var le=buildGroup$1($,te.havingStyle(re.sup()),te);oe={elem:le,kern:Math.max(te.fontMetrics().bigOpSpacing1,te.fontMetrics().bigOpSpacing3-le.depth)}}if(_){var ce=buildGroup$1(_,te.havingStyle(re.sub()),te);se={elem:ce,kern:Math.max(te.fontMetrics().bigOpSpacing2,te.fontMetrics().bigOpSpacing4-ce.height)}}var ue;if(oe&&se){var me=te.fontMetrics().bigOpSpacing5+se.elem.height+se.elem.depth+se.kern+ee.depth+ne;ue=buildCommon.makeVList({positionType:"bottom",positionData:me,children:[{type:"kern",size:te.fontMetrics().bigOpSpacing5},{type:"elem",elem:se.elem,marginLeft:makeEm(-ie)},{type:"kern",size:se.kern},{type:"elem",elem:ee},{type:"kern",size:oe.kern},{type:"elem",elem:oe.elem,marginLeft:makeEm(ie)},{type:"kern",size:te.fontMetrics().bigOpSpacing5}]},te)}else if(se){var fe=ee.height-ne;ue=buildCommon.makeVList({positionType:"top",positionData:fe,children:[{type:"kern",size:te.fontMetrics().bigOpSpacing5},{type:"elem",elem:se.elem,marginLeft:makeEm(-ie)},{type:"kern",size:se.kern},{type:"elem",elem:ee}]},te)}else if(oe){var de=ee.depth+ne;ue=buildCommon.makeVList({positionType:"bottom",positionData:de,children:[{type:"elem",elem:ee},{type:"kern",size:oe.kern},{type:"elem",elem:oe.elem,marginLeft:makeEm(ie)},{type:"kern",size:te.fontMetrics().bigOpSpacing5}]},te)}else return ee;var pe=[ue];if(se&&ie!==0&&!ae){var ge=buildCommon.makeSpan(["mspace"],[],te);ge.style.marginRight=makeEm(ie),pe.unshift(ge)}return buildCommon.makeSpan(["mop","op-limits"],pe,te)},noSuccessor=["\\smallint"],htmlBuilder$2=(ee,$)=>{var _,te,re=!1,ie;ee.type==="supsub"?(_=ee.sup,te=ee.sub,ie=assertNodeType(ee.base,"op"),re=!0):ie=assertNodeType(ee,"op");var ne=$.style,ae=!1;ne.size===Style$1.DISPLAY.size&&ie.symbol&&!utils.contains(noSuccessor,ie.name)&&(ae=!0);var se;if(ie.symbol){var oe=ae?"Size2-Regular":"Size1-Regular",le="";if((ie.name==="\\oiint"||ie.name==="\\oiiint")&&(le=ie.name.substr(1),ie.name=le==="oiint"?"\\iint":"\\iiint"),se=buildCommon.makeSymbol(ie.name,oe,"math",$,["mop","op-symbol",ae?"large-op":"small-op"]),le.length>0){var ce=se.italic,ue=buildCommon.staticSvg(le+"Size"+(ae?"2":"1"),$);se=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:se,shift:0},{type:"elem",elem:ue,shift:ae?.08:0}]},$),ie.name="\\"+le,se.classes.unshift("mop"),se.italic=ce}}else if(ie.body){var me=buildExpression$1(ie.body,$,!0);me.length===1&&me[0]instanceof SymbolNode?(se=me[0],se.classes[0]="mop"):se=buildCommon.makeSpan(["mop"],me,$)}else{for(var fe=[],de=1;de<ie.name.length;de++)fe.push(buildCommon.mathsym(ie.name[de],ie.mode,$));se=buildCommon.makeSpan(["mop"],fe,$)}var pe=0,ge=0;return(se instanceof SymbolNode||ie.name==="\\oiint"||ie.name==="\\oiiint")&&!ie.suppressBaseShift&&(pe=(se.height-se.depth)/2-$.fontMetrics().axisHeight,ge=se.italic),re?assembleSupSub(se,_,te,$,ne,ge,pe):(pe&&(se.style.position="relative",se.style.top=makeEm(pe)),se)},mathmlBuilder$1=(ee,$)=>{var _;if(ee.symbol)_=new MathNode("mo",[makeText(ee.name,ee.mode)]),utils.contains(noSuccessor,ee.name)&&_.setAttribute("largeop","false");else if(ee.body)_=new MathNode("mo",buildExpression(ee.body,$));else{_=new MathNode("mi",[new TextNode(ee.name.slice(1))]);var te=new MathNode("mo",[makeText("\u2061","text")]);ee.parentIsSupSub?_=new MathNode("mrow",[_,te]):_=newDocumentFragment([_,te])}return _},singleCharBigOps={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"};defineFunction({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:(ee,$)=>{var{parser:_,funcName:te}=ee,re=te;return re.length===1&&(re=singleCharBigOps[re]),{type:"op",mode:_.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:re}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1}),defineFunction({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(ee,$)=>{var{parser:_}=ee,te=$[0];return{type:"op",mode:_.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ordargument(te)}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var singleCharIntegrals={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"};defineFunction({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(ee){var{parser:$,funcName:_}=ee;return{type:"op",mode:$.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:_}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1}),defineFunction({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(ee){var{parser:$,funcName:_}=ee;return{type:"op",mode:$.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:_}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1}),defineFunction({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler(ee){var{parser:$,funcName:_}=ee,te=_;return te.length===1&&(te=singleCharIntegrals[te]),{type:"op",mode:$.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:te}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var _macros={};function defineMacro(ee,$){_macros[ee]=$}var htmlBuilder$1=(ee,$)=>{var _,te,re=!1,ie;ee.type==="supsub"?(_=ee.sup,te=ee.sub,ie=assertNodeType(ee.base,"operatorname"),re=!0):ie=assertNodeType(ee,"operatorname");var ne;if(ie.body.length>0){for(var ae=ie.body.map(ce=>{var ue=ce.text;return typeof ue=="string"?{type:"textord",mode:ce.mode,text:ue}:ce}),se=buildExpression$1(ae,$.withFont("mathrm"),!0),oe=0;oe<se.length;oe++){var le=se[oe];le instanceof SymbolNode&&(le.text=le.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}ne=buildCommon.makeSpan(["mop"],se,$)}else ne=buildCommon.makeSpan(["mop"],[],$);return re?assembleSupSub(ne,_,te,$,$.style,0,0):ne},mathmlBuilder=(ee,$)=>{for(var _=buildExpression(ee.body,$.withFont("mathrm")),te=!0,re=0;re<_.length;re++){var ie=_[re];if(!(ie instanceof mathMLTree.SpaceNode))if(ie instanceof mathMLTree.MathNode)switch(ie.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var ne=ie.children[0];ie.children.length===1&&ne instanceof mathMLTree.TextNode?ne.text=ne.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):te=!1;break}default:te=!1}else te=!1}if(te){var ae=_.map(le=>le.toText()).join("");_=[new mathMLTree.TextNode(ae)]}var se=new mathMLTree.MathNode("mi",_);se.setAttribute("mathvariant","normal");var oe=new mathMLTree.MathNode("mo",[makeText("\u2061","text")]);return ee.parentIsSupSub?new mathMLTree.MathNode("mrow",[se,oe]):mathMLTree.newDocumentFragment([se,oe])};defineFunction({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(ee,$)=>{var{parser:_,funcName:te}=ee,re=$[0];return{type:"operatorname",mode:_.mode,body:ordargument(re),alwaysHandleSupSub:te==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:htmlBuilder$1,mathmlBuilder}),defineMacro("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),defineFunctionBuilders({type:"ordgroup",htmlBuilder(ee,$){return ee.semisimple?buildCommon.makeFragment(buildExpression$1(ee.body,$,!1)):buildCommon.makeSpan(["mord"],buildExpression$1(ee.body,$,!0),$)},mathmlBuilder(ee,$){return buildExpressionRow(ee.body,$,!0)}}),defineFunction({type:"overline",names:["\\overline"],props:{numArgs:1},handler(ee,$){var{parser:_}=ee,te=$[0];return{type:"overline",mode:_.mode,body:te}},htmlBuilder(ee,$){var _=buildGroup$1(ee.body,$.havingCrampedStyle()),te=buildCommon.makeLineSpan("overline-line",$),re=$.fontMetrics().defaultRuleThickness,ie=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:_},{type:"kern",size:3*re},{type:"elem",elem:te},{type:"kern",size:re}]},$);return buildCommon.makeSpan(["mord","overline"],[ie],$)},mathmlBuilder(ee,$){var _=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("\u203E")]);_.setAttribute("stretchy","true");var te=new mathMLTree.MathNode("mover",[buildGroup(ee.body,$),_]);return te.setAttribute("accent","true"),te}}),defineFunction({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(ee,$)=>{var{parser:_}=ee,te=$[0];return{type:"phantom",mode:_.mode,body:ordargument(te)}},htmlBuilder:(ee,$)=>{var _=buildExpression$1(ee.body,$.withPhantom(),!1);return buildCommon.makeFragment(_)},mathmlBuilder:(ee,$)=>{var _=buildExpression(ee.body,$);return new mathMLTree.MathNode("mphantom",_)}}),defineFunction({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(ee,$)=>{var{parser:_}=ee,te=$[0];return{type:"hphantom",mode:_.mode,body:te}},htmlBuilder:(ee,$)=>{var _=buildCommon.makeSpan([],[buildGroup$1(ee.body,$.withPhantom())]);if(_.height=0,_.depth=0,_.children)for(var te=0;te<_.children.length;te++)_.children[te].height=0,_.children[te].depth=0;return _=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:_}]},$),buildCommon.makeSpan(["mord"],[_],$)},mathmlBuilder:(ee,$)=>{var _=buildExpression(ordargument(ee.body),$),te=new mathMLTree.MathNode("mphantom",_),re=new mathMLTree.MathNode("mpadded",[te]);return re.setAttribute("height","0px"),re.setAttribute("depth","0px"),re}}),defineFunction({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(ee,$)=>{var{parser:_}=ee,te=$[0];return{type:"vphantom",mode:_.mode,body:te}},htmlBuilder:(ee,$)=>{var _=buildCommon.makeSpan(["inner"],[buildGroup$1(ee.body,$.withPhantom())]),te=buildCommon.makeSpan(["fix"],[]);return buildCommon.makeSpan(["mord","rlap"],[_,te],$)},mathmlBuilder:(ee,$)=>{var _=buildExpression(ordargument(ee.body),$),te=new mathMLTree.MathNode("mphantom",_),re=new mathMLTree.MathNode("mpadded",[te]);return re.setAttribute("width","0px"),re}}),defineFunction({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(ee,$){var{parser:_}=ee,te=assertNodeType($[0],"size").value,re=$[1];return{type:"raisebox",mode:_.mode,dy:te,body:re}},htmlBuilder(ee,$){var _=buildGroup$1(ee.body,$),te=calculateSize(ee.dy,$);return buildCommon.makeVList({positionType:"shift",positionData:-te,children:[{type:"elem",elem:_}]},$)},mathmlBuilder(ee,$){var _=new mathMLTree.MathNode("mpadded",[buildGroup(ee.body,$)]),te=ee.dy.number+ee.dy.unit;return _.setAttribute("voffset",te),_}}),defineFunction({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(ee,$,_){var{parser:te}=ee,re=_[0],ie=assertNodeType($[0],"size"),ne=assertNodeType($[1],"size");return{type:"rule",mode:te.mode,shift:re&&assertNodeType(re,"size").value,width:ie.value,height:ne.value}},htmlBuilder(ee,$){var _=buildCommon.makeSpan(["mord","rule"],[],$),te=calculateSize(ee.width,$),re=calculateSize(ee.height,$),ie=ee.shift?calculateSize(ee.shift,$):0;return _.style.borderRightWidth=makeEm(te),_.style.borderTopWidth=makeEm(re),_.style.bottom=makeEm(ie),_.width=te,_.height=re+ie,_.depth=-ie,_.maxFontSize=re*1.125*$.sizeMultiplier,_},mathmlBuilder(ee,$){var _=calculateSize(ee.width,$),te=calculateSize(ee.height,$),re=ee.shift?calculateSize(ee.shift,$):0,ie=$.color&&$.getColor()||"black",ne=new mathMLTree.MathNode("mspace");ne.setAttribute("mathbackground",ie),ne.setAttribute("width",makeEm(_)),ne.setAttribute("height",makeEm(te));var ae=new mathMLTree.MathNode("mpadded",[ne]);return re>=0?ae.setAttribute("height",makeEm(re)):(ae.setAttribute("height",makeEm(re)),ae.setAttribute("depth",makeEm(-re))),ae.setAttribute("voffset",makeEm(re)),ae}});function sizingGroup(ee,$,_){for(var te=buildExpression$1(ee,$,!1),re=$.sizeMultiplier/_.sizeMultiplier,ie=0;ie<te.length;ie++){var ne=te[ie].classes.indexOf("sizing");ne<0?Array.prototype.push.apply(te[ie].classes,$.sizingClasses(_)):te[ie].classes[ne+1]==="reset-size"+$.size&&(te[ie].classes[ne+1]="reset-size"+_.size),te[ie].height*=re,te[ie].depth*=re}return buildCommon.makeFragment(te)}var sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],htmlBuilder=(ee,$)=>{var _=$.havingSize(ee.size);return sizingGroup(ee.body,_,$)};defineFunction({type:"sizing",names:sizeFuncs,props:{numArgs:0,allowedInText:!0},handler:(ee,$)=>{var{breakOnTokenText:_,funcName:te,parser:re}=ee,ie=re.parseExpression(!1,_);return{type:"sizing",mode:re.mode,size:sizeFuncs.indexOf(te)+1,body:ie}},htmlBuilder,mathmlBuilder:(ee,$)=>{var _=$.havingSize(ee.size),te=buildExpression(ee.body,_),re=new mathMLTree.MathNode("mstyle",te);return re.setAttribute("mathsize",makeEm(_.sizeMultiplier)),re}}),defineFunction({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(ee,$,_)=>{var{parser:te}=ee,re=!1,ie=!1,ne=_[0]&&assertNodeType(_[0],"ordgroup");if(ne)for(var ae="",se=0;se<ne.body.length;++se){var oe=ne.body[se];if(ae=oe.text,ae==="t")re=!0;else if(ae==="b")ie=!0;else{re=!1,ie=!1;break}}else re=!0,ie=!0;var le=$[0];return{type:"smash",mode:te.mode,body:le,smashHeight:re,smashDepth:ie}},htmlBuilder:(ee,$)=>{var _=buildCommon.makeSpan([],[buildGroup$1(ee.body,$)]);if(!ee.smashHeight&&!ee.smashDepth)return _;if(ee.smashHeight&&(_.height=0,_.children))for(var te=0;te<_.children.length;te++)_.children[te].height=0;if(ee.smashDepth&&(_.depth=0,_.children))for(var re=0;re<_.children.length;re++)_.children[re].depth=0;var ie=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:_}]},$);return buildCommon.makeSpan(["mord"],[ie],$)},mathmlBuilder:(ee,$)=>{var _=new mathMLTree.MathNode("mpadded",[buildGroup(ee.body,$)]);return ee.smashHeight&&_.setAttribute("height","0px"),ee.smashDepth&&_.setAttribute("depth","0px"),_}}),defineFunction({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(ee,$,_){var{parser:te}=ee,re=_[0],ie=$[0];return{type:"sqrt",mode:te.mode,body:ie,index:re}},htmlBuilder(ee,$){var _=buildGroup$1(ee.body,$.havingCrampedStyle());_.height===0&&(_.height=$.fontMetrics().xHeight),_=buildCommon.wrapFragment(_,$);var te=$.fontMetrics(),re=te.defaultRuleThickness,ie=re;$.style.id<Style$1.TEXT.id&&(ie=$.fontMetrics().xHeight);var ne=re+ie/4,ae=_.height+_.depth+ne+re,{span:se,ruleWidth:oe,advanceWidth:le}=delimiter.sqrtImage(ae,$),ce=se.height-oe;ce>_.height+_.depth+ne&&(ne=(ne+ce-_.height-_.depth)/2);var ue=se.height-_.height-ne-oe;_.style.paddingLeft=makeEm(le);var me=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:_,wrapperClasses:["svg-align"]},{type:"kern",size:-(_.height+ue)},{type:"elem",elem:se},{type:"kern",size:oe}]},$);if(ee.index){var fe=$.havingStyle(Style$1.SCRIPTSCRIPT),de=buildGroup$1(ee.index,fe,$),pe=.6*(me.height-me.depth),ge=buildCommon.makeVList({positionType:"shift",positionData:-pe,children:[{type:"elem",elem:de}]},$),ye=buildCommon.makeSpan(["root"],[ge]);return buildCommon.makeSpan(["mord","sqrt"],[ye,me],$)}else return buildCommon.makeSpan(["mord","sqrt"],[me],$)},mathmlBuilder(ee,$){var{body:_,index:te}=ee;return te?new mathMLTree.MathNode("mroot",[buildGroup(_,$),buildGroup(te,$)]):new mathMLTree.MathNode("msqrt",[buildGroup(_,$)])}});var styleMap={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT};defineFunction({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(ee,$){var{breakOnTokenText:_,funcName:te,parser:re}=ee,ie=re.parseExpression(!0,_),ne=te.slice(1,te.length-5);return{type:"styling",mode:re.mode,style:ne,body:ie}},htmlBuilder(ee,$){var _=styleMap[ee.style],te=$.havingStyle(_).withFont("");return sizingGroup(ee.body,te,$)},mathmlBuilder(ee,$){var _=styleMap[ee.style],te=$.havingStyle(_),re=buildExpression(ee.body,te),ie=new mathMLTree.MathNode("mstyle",re),ne={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},ae=ne[ee.style];return ie.setAttribute("scriptlevel",ae[0]),ie.setAttribute("displaystyle",ae[1]),ie}});var htmlBuilderDelegate=function ee($,_){var te=$.base;if(te)if(te.type==="op"){var re=te.limits&&(_.style.size===Style$1.DISPLAY.size||te.alwaysHandleSupSub);return re?htmlBuilder$2:null}else if(te.type==="operatorname"){var ie=te.alwaysHandleSupSub&&(_.style.size===Style$1.DISPLAY.size||te.limits);return ie?htmlBuilder$1:null}else{if(te.type==="accent")return utils.isCharacterBox(te.base)?htmlBuilder$a:null;if(te.type==="horizBrace"){var ne=!$.sub;return ne===te.isOver?htmlBuilder$3:null}else return null}else return null};defineFunctionBuilders({type:"supsub",htmlBuilder(ee,$){var _=htmlBuilderDelegate(ee,$);if(_)return _(ee,$);var{base:te,sup:re,sub:ie}=ee,ne=buildGroup$1(te,$),ae,se,oe=$.fontMetrics(),le=0,ce=0,ue=te&&utils.isCharacterBox(te);if(re){var me=$.havingStyle($.style.sup());ae=buildGroup$1(re,me,$),ue||(le=ne.height-me.fontMetrics().supDrop*me.sizeMultiplier/$.sizeMultiplier)}if(ie){var fe=$.havingStyle($.style.sub());se=buildGroup$1(ie,fe,$),ue||(ce=ne.depth+fe.fontMetrics().subDrop*fe.sizeMultiplier/$.sizeMultiplier)}var de;$.style===Style$1.DISPLAY?de=oe.sup1:$.style.cramped?de=oe.sup3:de=oe.sup2;var pe=$.sizeMultiplier,ge=makeEm(.5/oe.ptPerEm/pe),ye=null;if(se){var be=ee.base&&ee.base.type==="op"&&ee.base.name&&(ee.base.name==="\\oiint"||ee.base.name==="\\oiiint");(ne instanceof SymbolNode||be)&&(ye=makeEm(-ne.italic))}var xe;if(ae&&se){le=Math.max(le,de,ae.depth+.25*oe.xHeight),ce=Math.max(ce,oe.sub2);var Se=oe.defaultRuleThickness,ve=4*Se;if(le-ae.depth-(se.height-ce)<ve){ce=ve-(le-ae.depth)+se.height;var $e=.8*oe.xHeight-(le-ae.depth);$e>0&&(le+=$e,ce-=$e)}var _e=[{type:"elem",elem:se,shift:ce,marginRight:ge,marginLeft:ye},{type:"elem",elem:ae,shift:-le,marginRight:ge}];xe=buildCommon.makeVList({positionType:"individualShift",children:_e},$)}else if(se){ce=Math.max(ce,oe.sub1,se.height-.8*oe.xHeight);var Me=[{type:"elem",elem:se,marginLeft:ye,marginRight:ge}];xe=buildCommon.makeVList({positionType:"shift",positionData:ce,children:Me},$)}else if(ae)le=Math.max(le,de,ae.depth+.25*oe.xHeight),xe=buildCommon.makeVList({positionType:"shift",positionData:-le,children:[{type:"elem",elem:ae,marginRight:ge}]},$);else throw new Error("supsub must have either sup or sub.");var Ce=getTypeOfDomTree(ne,"right")||"mord";return buildCommon.makeSpan([Ce],[ne,buildCommon.makeSpan(["msupsub"],[xe])],$)},mathmlBuilder(ee,$){var _=!1,te,re;ee.base&&ee.base.type==="horizBrace"&&(re=!!ee.sup,re===ee.base.isOver&&(_=!0,te=ee.base.isOver)),ee.base&&(ee.base.type==="op"||ee.base.type==="operatorname")&&(ee.base.parentIsSupSub=!0);var ie=[buildGroup(ee.base,$)];ee.sub&&ie.push(buildGroup(ee.sub,$)),ee.sup&&ie.push(buildGroup(ee.sup,$));var ne;if(_)ne=te?"mover":"munder";else if(ee.sub)if(ee.sup){var oe=ee.base;oe&&oe.type==="op"&&oe.limits&&$.style===Style$1.DISPLAY||oe&&oe.type==="operatorname"&&oe.alwaysHandleSupSub&&($.style===Style$1.DISPLAY||oe.limits)?ne="munderover":ne="msubsup"}else{var se=ee.base;se&&se.type==="op"&&se.limits&&($.style===Style$1.DISPLAY||se.alwaysHandleSupSub)||se&&se.type==="operatorname"&&se.alwaysHandleSupSub&&(se.limits||$.style===Style$1.DISPLAY)?ne="munder":ne="msub"}else{var ae=ee.base;ae&&ae.type==="op"&&ae.limits&&($.style===Style$1.DISPLAY||ae.alwaysHandleSupSub)||ae&&ae.type==="operatorname"&&ae.alwaysHandleSupSub&&(ae.limits||$.style===Style$1.DISPLAY)?ne="mover":ne="msup"}return new mathMLTree.MathNode(ne,ie)}}),defineFunctionBuilders({type:"atom",htmlBuilder(ee,$){return buildCommon.mathsym(ee.text,ee.mode,$,["m"+ee.family])},mathmlBuilder(ee,$){var _=new mathMLTree.MathNode("mo",[makeText(ee.text,ee.mode)]);if(ee.family==="bin"){var te=getVariant(ee,$);te==="bold-italic"&&_.setAttribute("mathvariant",te)}else ee.family==="punct"?_.setAttribute("separator","true"):(ee.family==="open"||ee.family==="close")&&_.setAttribute("stretchy","false");return _}});var defaultVariant={mi:"italic",mn:"normal",mtext:"normal"};defineFunctionBuilders({type:"mathord",htmlBuilder(ee,$){return buildCommon.makeOrd(ee,$,"mathord")},mathmlBuilder(ee,$){var _=new mathMLTree.MathNode("mi",[makeText(ee.text,ee.mode,$)]),te=getVariant(ee,$)||"italic";return te!==defaultVariant[_.type]&&_.setAttribute("mathvariant",te),_}}),defineFunctionBuilders({type:"textord",htmlBuilder(ee,$){return buildCommon.makeOrd(ee,$,"textord")},mathmlBuilder(ee,$){var _=makeText(ee.text,ee.mode,$),te=getVariant(ee,$)||"normal",re;return ee.mode==="text"?re=new mathMLTree.MathNode("mtext",[_]):/[0-9]/.test(ee.text)?re=new mathMLTree.MathNode("mn",[_]):ee.text==="\\prime"?re=new mathMLTree.MathNode("mo",[_]):re=new mathMLTree.MathNode("mi",[_]),te!==defaultVariant[re.type]&&re.setAttribute("mathvariant",te),re}});var cssSpace={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},regularSpace={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};defineFunctionBuilders({type:"spacing",htmlBuilder(ee,$){if(regularSpace.hasOwnProperty(ee.text)){var _=regularSpace[ee.text].className||"";if(ee.mode==="text"){var te=buildCommon.makeOrd(ee,$,"textord");return te.classes.push(_),te}else return buildCommon.makeSpan(["mspace",_],[buildCommon.mathsym(ee.text,ee.mode,$)],$)}else{if(cssSpace.hasOwnProperty(ee.text))return buildCommon.makeSpan(["mspace",cssSpace[ee.text]],[],$);throw new ParseError('Unknown type of space "'+ee.text+'"')}},mathmlBuilder(ee,$){var _;if(regularSpace.hasOwnProperty(ee.text))_=new mathMLTree.MathNode("mtext",[new mathMLTree.TextNode("\xA0")]);else{if(cssSpace.hasOwnProperty(ee.text))return new mathMLTree.MathNode("mspace");throw new ParseError('Unknown type of space "'+ee.text+'"')}return _}});var pad=()=>{var ee=new mathMLTree.MathNode("mtd",[]);return ee.setAttribute("width","50%"),ee};defineFunctionBuilders({type:"tag",mathmlBuilder(ee,$){var _=new mathMLTree.MathNode("mtable",[new mathMLTree.MathNode("mtr",[pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(ee.body,$)]),pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(ee.tag,$)])])]);return _.setAttribute("width","100%"),_}});var textFontFamilies={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},textFontWeights={"\\textbf":"textbf","\\textmd":"textmd"},textFontShapes={"\\textit":"textit","\\textup":"textup"},optionsWithFont=(ee,$)=>{var _=ee.font;return _?textFontFamilies[_]?$.withTextFontFamily(textFontFamilies[_]):textFontWeights[_]?$.withTextFontWeight(textFontWeights[_]):$.withTextFontShape(textFontShapes[_]):$};defineFunction({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(ee,$){var{parser:_,funcName:te}=ee,re=$[0];return{type:"text",mode:_.mode,body:ordargument(re),font:te}},htmlBuilder(ee,$){var _=optionsWithFont(ee,$),te=buildExpression$1(ee.body,_,!0);return buildCommon.makeSpan(["mord","text"],te,_)},mathmlBuilder(ee,$){var _=optionsWithFont(ee,$);return buildExpressionRow(ee.body,_)}}),defineFunction({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(ee,$){var{parser:_}=ee;return{type:"underline",mode:_.mode,body:$[0]}},htmlBuilder(ee,$){var _=buildGroup$1(ee.body,$),te=buildCommon.makeLineSpan("underline-line",$),re=$.fontMetrics().defaultRuleThickness,ie=buildCommon.makeVList({positionType:"top",positionData:_.height,children:[{type:"kern",size:re},{type:"elem",elem:te},{type:"kern",size:3*re},{type:"elem",elem:_}]},$);return buildCommon.makeSpan(["mord","underline"],[ie],$)},mathmlBuilder(ee,$){var _=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("\u203E")]);_.setAttribute("stretchy","true");var te=new mathMLTree.MathNode("munder",[buildGroup(ee.body,$),_]);return te.setAttribute("accentunder","true"),te}}),defineFunction({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(ee,$){var{parser:_}=ee;return{type:"vcenter",mode:_.mode,body:$[0]}},htmlBuilder(ee,$){var _=buildGroup$1(ee.body,$),te=$.fontMetrics().axisHeight,re=.5*(_.height-te-(_.depth+te));return buildCommon.makeVList({positionType:"shift",positionData:re,children:[{type:"elem",elem:_}]},$)},mathmlBuilder(ee,$){return new mathMLTree.MathNode("mpadded",[buildGroup(ee.body,$)],["vcenter"])}}),defineFunction({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(ee,$,_){throw new ParseError("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(ee,$){for(var _=makeVerb(ee),te=[],re=$.havingStyle($.style.text()),ie=0;ie<_.length;ie++){var ne=_[ie];ne==="~"&&(ne="\\textasciitilde"),te.push(buildCommon.makeSymbol(ne,"Typewriter-Regular",ee.mode,re,["mord","texttt"]))}return buildCommon.makeSpan(["mord","text"].concat(re.sizingClasses($)),buildCommon.tryCombineChars(te),re)},mathmlBuilder(ee,$){var _=new mathMLTree.TextNode(makeVerb(ee)),te=new mathMLTree.MathNode("mtext",[_]);return te.setAttribute("mathvariant","monospace"),te}});var makeVerb=ee=>ee.body.replace(/ /g,ee.star?"\u2423":"\xA0"),functions=_functions,spaceRegexString=`[ \r
	]`,controlWordRegexString="\\\\[a-zA-Z@]+",controlSymbolRegexString="\\\\[^\uD800-\uDFFF]",controlWordWhitespaceRegexString="("+controlWordRegexString+")"+spaceRegexString+"*",controlSpaceRegexString=`\\\\(
|[ \r	]+
?)[ \r	]*`,combiningDiacriticalMarkString="[\u0300-\u036F]",combiningDiacriticalMarksEndRegex=new RegExp(combiningDiacriticalMarkString+"+$"),tokenRegexString="("+spaceRegexString+"+)|"+(controlSpaceRegexString+"|")+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]"+(combiningDiacriticalMarkString+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(combiningDiacriticalMarkString+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+controlWordWhitespaceRegexString)+("|"+controlSymbolRegexString+")");class Lexer{constructor($,_){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=$,this.settings=_,this.tokenRegex=new RegExp(tokenRegexString,"g"),this.catcodes={"%":14,"~":13}}setCatcode($,_){this.catcodes[$]=_}lex(){var $=this.input,_=this.tokenRegex.lastIndex;if(_===$.length)return new Token("EOF",new SourceLocation(this,_,_));var te=this.tokenRegex.exec($);if(te===null||te.index!==_)throw new ParseError("Unexpected character: '"+$[_]+"'",new Token($[_],new SourceLocation(this,_,_+1)));var re=te[6]||te[3]||(te[2]?"\\ ":" ");if(this.catcodes[re]===14){var ie=$.indexOf(`
`,this.tokenRegex.lastIndex);return ie===-1?(this.tokenRegex.lastIndex=$.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=ie+1,this.lex()}return new Token(re,new SourceLocation(this,_,this.tokenRegex.lastIndex))}}class Namespace{constructor($,_){$===void 0&&($={}),_===void 0&&(_={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=_,this.builtins=$,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ParseError("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var $=this.undefStack.pop();for(var _ in $)$.hasOwnProperty(_)&&($[_]===void 0?delete this.current[_]:this.current[_]=$[_])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has($){return this.current.hasOwnProperty($)||this.builtins.hasOwnProperty($)}get($){return this.current.hasOwnProperty($)?this.current[$]:this.builtins[$]}set($,_,te){if(te===void 0&&(te=!1),te){for(var re=0;re<this.undefStack.length;re++)delete this.undefStack[re][$];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][$]=_)}else{var ie=this.undefStack[this.undefStack.length-1];ie&&!ie.hasOwnProperty($)&&(ie[$]=this.current[$])}this.current[$]=_}}var macros=_macros;defineMacro("\\noexpand",function(ee){var $=ee.popToken();return ee.isExpandable($.text)&&($.noexpand=!0,$.treatAsRelax=!0),{tokens:[$],numArgs:0}}),defineMacro("\\expandafter",function(ee){var $=ee.popToken();return ee.expandOnce(!0),{tokens:[$],numArgs:0}}),defineMacro("\\@firstoftwo",function(ee){var $=ee.consumeArgs(2);return{tokens:$[0],numArgs:0}}),defineMacro("\\@secondoftwo",function(ee){var $=ee.consumeArgs(2);return{tokens:$[1],numArgs:0}}),defineMacro("\\@ifnextchar",function(ee){var $=ee.consumeArgs(3);ee.consumeSpaces();var _=ee.future();return $[0].length===1&&$[0][0].text===_.text?{tokens:$[1],numArgs:0}:{tokens:$[2],numArgs:0}}),defineMacro("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),defineMacro("\\TextOrMath",function(ee){var $=ee.consumeArgs(2);return ee.mode==="text"?{tokens:$[0],numArgs:0}:{tokens:$[1],numArgs:0}});var digitToNumber={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};defineMacro("\\char",function(ee){var $=ee.popToken(),_,te="";if($.text==="'")_=8,$=ee.popToken();else if($.text==='"')_=16,$=ee.popToken();else if($.text==="`")if($=ee.popToken(),$.text[0]==="\\")te=$.text.charCodeAt(1);else{if($.text==="EOF")throw new ParseError("\\char` missing argument");te=$.text.charCodeAt(0)}else _=10;if(_){if(te=digitToNumber[$.text],te==null||te>=_)throw new ParseError("Invalid base-"+_+" digit "+$.text);for(var re;(re=digitToNumber[ee.future().text])!=null&&re<_;)te*=_,te+=re,ee.popToken()}return"\\@char{"+te+"}"});var newcommand=(ee,$,_)=>{var te=ee.consumeArg().tokens;if(te.length!==1)throw new ParseError("\\newcommand's first argument must be a macro name");var re=te[0].text,ie=ee.isDefined(re);if(ie&&!$)throw new ParseError("\\newcommand{"+re+"} attempting to redefine "+(re+"; use \\renewcommand"));if(!ie&&!_)throw new ParseError("\\renewcommand{"+re+"} when command "+re+" does not yet exist; use \\newcommand");var ne=0;if(te=ee.consumeArg().tokens,te.length===1&&te[0].text==="["){for(var ae="",se=ee.expandNextToken();se.text!=="]"&&se.text!=="EOF";)ae+=se.text,se=ee.expandNextToken();if(!ae.match(/^\s*[0-9]+\s*$/))throw new ParseError("Invalid number of arguments: "+ae);ne=parseInt(ae),te=ee.consumeArg().tokens}return ee.macros.set(re,{tokens:te,numArgs:ne}),""};defineMacro("\\newcommand",ee=>newcommand(ee,!1,!0)),defineMacro("\\renewcommand",ee=>newcommand(ee,!0,!1)),defineMacro("\\providecommand",ee=>newcommand(ee,!0,!0)),defineMacro("\\message",ee=>{var $=ee.consumeArgs(1)[0];return console.log($.reverse().map(_=>_.text).join("")),""}),defineMacro("\\errmessage",ee=>{var $=ee.consumeArgs(1)[0];return console.error($.reverse().map(_=>_.text).join("")),""}),defineMacro("\\show",ee=>{var $=ee.popToken(),_=$.text;return console.log($,ee.macros.get(_),functions[_],symbols.math[_],symbols.text[_]),""}),defineMacro("\\bgroup","{"),defineMacro("\\egroup","}"),defineMacro("~","\\nobreakspace"),defineMacro("\\lq","`"),defineMacro("\\rq","'"),defineMacro("\\aa","\\r a"),defineMacro("\\AA","\\r A"),defineMacro("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}"),defineMacro("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),defineMacro("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}"),defineMacro("\u212C","\\mathscr{B}"),defineMacro("\u2130","\\mathscr{E}"),defineMacro("\u2131","\\mathscr{F}"),defineMacro("\u210B","\\mathscr{H}"),defineMacro("\u2110","\\mathscr{I}"),defineMacro("\u2112","\\mathscr{L}"),defineMacro("\u2133","\\mathscr{M}"),defineMacro("\u211B","\\mathscr{R}"),defineMacro("\u212D","\\mathfrak{C}"),defineMacro("\u210C","\\mathfrak{H}"),defineMacro("\u2128","\\mathfrak{Z}"),defineMacro("\\Bbbk","\\Bbb{k}"),defineMacro("\xB7","\\cdotp"),defineMacro("\\llap","\\mathllap{\\textrm{#1}}"),defineMacro("\\rlap","\\mathrlap{\\textrm{#1}}"),defineMacro("\\clap","\\mathclap{\\textrm{#1}}"),defineMacro("\\mathstrut","\\vphantom{(}"),defineMacro("\\underbar","\\underline{\\text{#1}}"),defineMacro("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),defineMacro("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}"),defineMacro("\\ne","\\neq"),defineMacro("\u2260","\\neq"),defineMacro("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}"),defineMacro("\u2209","\\notin"),defineMacro("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}"),defineMacro("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}"),defineMacro("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}"),defineMacro("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225B}}"),defineMacro("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225D}}"),defineMacro("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225E}}"),defineMacro("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}"),defineMacro("\u27C2","\\perp"),defineMacro("\u203C","\\mathclose{!\\mkern-0.8mu!}"),defineMacro("\u220C","\\notni"),defineMacro("\u231C","\\ulcorner"),defineMacro("\u231D","\\urcorner"),defineMacro("\u231E","\\llcorner"),defineMacro("\u231F","\\lrcorner"),defineMacro("\xA9","\\copyright"),defineMacro("\xAE","\\textregistered"),defineMacro("\uFE0F","\\textregistered"),defineMacro("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),defineMacro("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),defineMacro("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),defineMacro("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),defineMacro("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),defineMacro("\u22EE","\\vdots"),defineMacro("\\varGamma","\\mathit{\\Gamma}"),defineMacro("\\varDelta","\\mathit{\\Delta}"),defineMacro("\\varTheta","\\mathit{\\Theta}"),defineMacro("\\varLambda","\\mathit{\\Lambda}"),defineMacro("\\varXi","\\mathit{\\Xi}"),defineMacro("\\varPi","\\mathit{\\Pi}"),defineMacro("\\varSigma","\\mathit{\\Sigma}"),defineMacro("\\varUpsilon","\\mathit{\\Upsilon}"),defineMacro("\\varPhi","\\mathit{\\Phi}"),defineMacro("\\varPsi","\\mathit{\\Psi}"),defineMacro("\\varOmega","\\mathit{\\Omega}"),defineMacro("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),defineMacro("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),defineMacro("\\boxed","\\fbox{$\\displaystyle{#1}$}"),defineMacro("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),defineMacro("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),defineMacro("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var dotsByToken={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};defineMacro("\\dots",function(ee){var $="\\dotso",_=ee.expandAfterFuture().text;return _ in dotsByToken?$=dotsByToken[_]:(_.substr(0,4)==="\\not"||_ in symbols.math&&utils.contains(["bin","rel"],symbols.math[_].group))&&($="\\dotsb"),$});var spaceAfterDots={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};defineMacro("\\dotso",function(ee){var $=ee.future().text;return $ in spaceAfterDots?"\\ldots\\,":"\\ldots"}),defineMacro("\\dotsc",function(ee){var $=ee.future().text;return $ in spaceAfterDots&&$!==","?"\\ldots\\,":"\\ldots"}),defineMacro("\\cdots",function(ee){var $=ee.future().text;return $ in spaceAfterDots?"\\@cdots\\,":"\\@cdots"}),defineMacro("\\dotsb","\\cdots"),defineMacro("\\dotsm","\\cdots"),defineMacro("\\dotsi","\\!\\cdots"),defineMacro("\\dotsx","\\ldots\\,"),defineMacro("\\DOTSI","\\relax"),defineMacro("\\DOTSB","\\relax"),defineMacro("\\DOTSX","\\relax"),defineMacro("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),defineMacro("\\,","\\tmspace+{3mu}{.1667em}"),defineMacro("\\thinspace","\\,"),defineMacro("\\>","\\mskip{4mu}"),defineMacro("\\:","\\tmspace+{4mu}{.2222em}"),defineMacro("\\medspace","\\:"),defineMacro("\\;","\\tmspace+{5mu}{.2777em}"),defineMacro("\\thickspace","\\;"),defineMacro("\\!","\\tmspace-{3mu}{.1667em}"),defineMacro("\\negthinspace","\\!"),defineMacro("\\negmedspace","\\tmspace-{4mu}{.2222em}"),defineMacro("\\negthickspace","\\tmspace-{5mu}{.277em}"),defineMacro("\\enspace","\\kern.5em "),defineMacro("\\enskip","\\hskip.5em\\relax"),defineMacro("\\quad","\\hskip1em\\relax"),defineMacro("\\qquad","\\hskip2em\\relax"),defineMacro("\\tag","\\@ifstar\\tag@literal\\tag@paren"),defineMacro("\\tag@paren","\\tag@literal{({#1})}"),defineMacro("\\tag@literal",ee=>{if(ee.macros.get("\\df@tag"))throw new ParseError("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),defineMacro("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),defineMacro("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),defineMacro("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),defineMacro("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),defineMacro("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\kern0.5px#1}}{\\mathbf{#1}}"),defineMacro("\\newline","\\\\\\relax"),defineMacro("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var latexRaiseA=makeEm(fontMetricsData["Main-Regular"]["T".charCodeAt(0)][1]-.7*fontMetricsData["Main-Regular"]["A".charCodeAt(0)][1]);defineMacro("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),defineMacro("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),defineMacro("\\hspace","\\@ifstar\\@hspacer\\@hspace"),defineMacro("\\@hspace","\\hskip #1\\relax"),defineMacro("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),defineMacro("\\ordinarycolon",":"),defineMacro("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),defineMacro("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),defineMacro("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),defineMacro("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),defineMacro("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),defineMacro("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),defineMacro("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),defineMacro("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),defineMacro("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),defineMacro("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),defineMacro("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),defineMacro("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),defineMacro("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),defineMacro("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),defineMacro("\u2237","\\dblcolon"),defineMacro("\u2239","\\eqcolon"),defineMacro("\u2254","\\coloneqq"),defineMacro("\u2255","\\eqqcolon"),defineMacro("\u2A74","\\Coloneqq"),defineMacro("\\ratio","\\vcentcolon"),defineMacro("\\coloncolon","\\dblcolon"),defineMacro("\\colonequals","\\coloneqq"),defineMacro("\\coloncolonequals","\\Coloneqq"),defineMacro("\\equalscolon","\\eqqcolon"),defineMacro("\\equalscoloncolon","\\Eqqcolon"),defineMacro("\\colonminus","\\coloneq"),defineMacro("\\coloncolonminus","\\Coloneq"),defineMacro("\\minuscolon","\\eqcolon"),defineMacro("\\minuscoloncolon","\\Eqcolon"),defineMacro("\\coloncolonapprox","\\Colonapprox"),defineMacro("\\coloncolonsim","\\Colonsim"),defineMacro("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),defineMacro("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),defineMacro("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),defineMacro("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),defineMacro("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}"),defineMacro("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),defineMacro("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),defineMacro("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),defineMacro("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),defineMacro("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),defineMacro("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),defineMacro("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),defineMacro("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),defineMacro("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}"),defineMacro("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}"),defineMacro("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}"),defineMacro("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}"),defineMacro("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}"),defineMacro("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}"),defineMacro("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}"),defineMacro("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}"),defineMacro("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}"),defineMacro("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}"),defineMacro("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}"),defineMacro("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}"),defineMacro("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}"),defineMacro("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}"),defineMacro("\\imath","\\html@mathml{\\@imath}{\u0131}"),defineMacro("\\jmath","\\html@mathml{\\@jmath}{\u0237}"),defineMacro("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27E6}}"),defineMacro("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27E7}}"),defineMacro("\u27E6","\\llbracket"),defineMacro("\u27E7","\\rrbracket"),defineMacro("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}"),defineMacro("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}"),defineMacro("\u2983","\\lBrace"),defineMacro("\u2984","\\rBrace"),defineMacro("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29B5}}"),defineMacro("\u29B5","\\minuso"),defineMacro("\\darr","\\downarrow"),defineMacro("\\dArr","\\Downarrow"),defineMacro("\\Darr","\\Downarrow"),defineMacro("\\lang","\\langle"),defineMacro("\\rang","\\rangle"),defineMacro("\\uarr","\\uparrow"),defineMacro("\\uArr","\\Uparrow"),defineMacro("\\Uarr","\\Uparrow"),defineMacro("\\N","\\mathbb{N}"),defineMacro("\\R","\\mathbb{R}"),defineMacro("\\Z","\\mathbb{Z}"),defineMacro("\\alef","\\aleph"),defineMacro("\\alefsym","\\aleph"),defineMacro("\\Alpha","\\mathrm{A}"),defineMacro("\\Beta","\\mathrm{B}"),defineMacro("\\bull","\\bullet"),defineMacro("\\Chi","\\mathrm{X}"),defineMacro("\\clubs","\\clubsuit"),defineMacro("\\cnums","\\mathbb{C}"),defineMacro("\\Complex","\\mathbb{C}"),defineMacro("\\Dagger","\\ddagger"),defineMacro("\\diamonds","\\diamondsuit"),defineMacro("\\empty","\\emptyset"),defineMacro("\\Epsilon","\\mathrm{E}"),defineMacro("\\Eta","\\mathrm{H}"),defineMacro("\\exist","\\exists"),defineMacro("\\harr","\\leftrightarrow"),defineMacro("\\hArr","\\Leftrightarrow"),defineMacro("\\Harr","\\Leftrightarrow"),defineMacro("\\hearts","\\heartsuit"),defineMacro("\\image","\\Im"),defineMacro("\\infin","\\infty"),defineMacro("\\Iota","\\mathrm{I}"),defineMacro("\\isin","\\in"),defineMacro("\\Kappa","\\mathrm{K}"),defineMacro("\\larr","\\leftarrow"),defineMacro("\\lArr","\\Leftarrow"),defineMacro("\\Larr","\\Leftarrow"),defineMacro("\\lrarr","\\leftrightarrow"),defineMacro("\\lrArr","\\Leftrightarrow"),defineMacro("\\Lrarr","\\Leftrightarrow"),defineMacro("\\Mu","\\mathrm{M}"),defineMacro("\\natnums","\\mathbb{N}"),defineMacro("\\Nu","\\mathrm{N}"),defineMacro("\\Omicron","\\mathrm{O}"),defineMacro("\\plusmn","\\pm"),defineMacro("\\rarr","\\rightarrow"),defineMacro("\\rArr","\\Rightarrow"),defineMacro("\\Rarr","\\Rightarrow"),defineMacro("\\real","\\Re"),defineMacro("\\reals","\\mathbb{R}"),defineMacro("\\Reals","\\mathbb{R}"),defineMacro("\\Rho","\\mathrm{P}"),defineMacro("\\sdot","\\cdot"),defineMacro("\\sect","\\S"),defineMacro("\\spades","\\spadesuit"),defineMacro("\\sub","\\subset"),defineMacro("\\sube","\\subseteq"),defineMacro("\\supe","\\supseteq"),defineMacro("\\Tau","\\mathrm{T}"),defineMacro("\\thetasym","\\vartheta"),defineMacro("\\weierp","\\wp"),defineMacro("\\Zeta","\\mathrm{Z}"),defineMacro("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),defineMacro("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),defineMacro("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),defineMacro("\\bra","\\mathinner{\\langle{#1}|}"),defineMacro("\\ket","\\mathinner{|{#1}\\rangle}"),defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}"),defineMacro("\\Bra","\\left\\langle#1\\right|"),defineMacro("\\Ket","\\left|#1\\right\\rangle"),defineMacro("\\angln","{\\angl n}"),defineMacro("\\blue","\\textcolor{##6495ed}{#1}"),defineMacro("\\orange","\\textcolor{##ffa500}{#1}"),defineMacro("\\pink","\\textcolor{##ff00af}{#1}"),defineMacro("\\red","\\textcolor{##df0030}{#1}"),defineMacro("\\green","\\textcolor{##28ae7b}{#1}"),defineMacro("\\gray","\\textcolor{gray}{#1}"),defineMacro("\\purple","\\textcolor{##9d38bd}{#1}"),defineMacro("\\blueA","\\textcolor{##ccfaff}{#1}"),defineMacro("\\blueB","\\textcolor{##80f6ff}{#1}"),defineMacro("\\blueC","\\textcolor{##63d9ea}{#1}"),defineMacro("\\blueD","\\textcolor{##11accd}{#1}"),defineMacro("\\blueE","\\textcolor{##0c7f99}{#1}"),defineMacro("\\tealA","\\textcolor{##94fff5}{#1}"),defineMacro("\\tealB","\\textcolor{##26edd5}{#1}"),defineMacro("\\tealC","\\textcolor{##01d1c1}{#1}"),defineMacro("\\tealD","\\textcolor{##01a995}{#1}"),defineMacro("\\tealE","\\textcolor{##208170}{#1}"),defineMacro("\\greenA","\\textcolor{##b6ffb0}{#1}"),defineMacro("\\greenB","\\textcolor{##8af281}{#1}"),defineMacro("\\greenC","\\textcolor{##74cf70}{#1}"),defineMacro("\\greenD","\\textcolor{##1fab54}{#1}"),defineMacro("\\greenE","\\textcolor{##0d923f}{#1}"),defineMacro("\\goldA","\\textcolor{##ffd0a9}{#1}"),defineMacro("\\goldB","\\textcolor{##ffbb71}{#1}"),defineMacro("\\goldC","\\textcolor{##ff9c39}{#1}"),defineMacro("\\goldD","\\textcolor{##e07d10}{#1}"),defineMacro("\\goldE","\\textcolor{##a75a05}{#1}"),defineMacro("\\redA","\\textcolor{##fca9a9}{#1}"),defineMacro("\\redB","\\textcolor{##ff8482}{#1}"),defineMacro("\\redC","\\textcolor{##f9685d}{#1}"),defineMacro("\\redD","\\textcolor{##e84d39}{#1}"),defineMacro("\\redE","\\textcolor{##bc2612}{#1}"),defineMacro("\\maroonA","\\textcolor{##ffbde0}{#1}"),defineMacro("\\maroonB","\\textcolor{##ff92c6}{#1}"),defineMacro("\\maroonC","\\textcolor{##ed5fa6}{#1}"),defineMacro("\\maroonD","\\textcolor{##ca337c}{#1}"),defineMacro("\\maroonE","\\textcolor{##9e034e}{#1}"),defineMacro("\\purpleA","\\textcolor{##ddd7ff}{#1}"),defineMacro("\\purpleB","\\textcolor{##c6b9fc}{#1}"),defineMacro("\\purpleC","\\textcolor{##aa87ff}{#1}"),defineMacro("\\purpleD","\\textcolor{##7854ab}{#1}"),defineMacro("\\purpleE","\\textcolor{##543b78}{#1}"),defineMacro("\\mintA","\\textcolor{##f5f9e8}{#1}"),defineMacro("\\mintB","\\textcolor{##edf2df}{#1}"),defineMacro("\\mintC","\\textcolor{##e0e5cc}{#1}"),defineMacro("\\grayA","\\textcolor{##f6f7f7}{#1}"),defineMacro("\\grayB","\\textcolor{##f0f1f2}{#1}"),defineMacro("\\grayC","\\textcolor{##e3e5e6}{#1}"),defineMacro("\\grayD","\\textcolor{##d6d8da}{#1}"),defineMacro("\\grayE","\\textcolor{##babec2}{#1}"),defineMacro("\\grayF","\\textcolor{##888d93}{#1}"),defineMacro("\\grayG","\\textcolor{##626569}{#1}"),defineMacro("\\grayH","\\textcolor{##3b3e40}{#1}"),defineMacro("\\grayI","\\textcolor{##21242c}{#1}"),defineMacro("\\kaBlue","\\textcolor{##314453}{#1}"),defineMacro("\\kaGreen","\\textcolor{##71B307}{#1}");var implicitCommands={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class MacroExpander{constructor($,_,te){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=_,this.expansionCount=0,this.feed($),this.macros=new Namespace(macros,_.macros),this.mode=te,this.stack=[]}feed($){this.lexer=new Lexer($,this.settings)}switchMode($){this.mode=$}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken($){this.stack.push($)}pushTokens($){this.stack.push(...$)}scanArgument($){var _,te,re;if($){if(this.consumeSpaces(),this.future().text!=="[")return null;_=this.popToken(),{tokens:re,end:te}=this.consumeArg(["]"])}else({tokens:re,start:_,end:te}=this.consumeArg());return this.pushToken(new Token("EOF",te.loc)),this.pushTokens(re),_.range(te,"")}consumeSpaces(){for(;;){var $=this.future();if($.text===" ")this.stack.pop();else break}}consumeArg($){var _=[],te=$&&$.length>0;te||this.consumeSpaces();var re=this.future(),ie,ne=0,ae=0;do{if(ie=this.popToken(),_.push(ie),ie.text==="{")++ne;else if(ie.text==="}"){if(--ne,ne===-1)throw new ParseError("Extra }",ie)}else if(ie.text==="EOF")throw new ParseError("Unexpected end of input in a macro argument, expected '"+($&&te?$[ae]:"}")+"'",ie);if($&&te)if((ne===0||ne===1&&$[ae]==="{")&&ie.text===$[ae]){if(++ae,ae===$.length){_.splice(-ae,ae);break}}else ae=0}while(ne!==0||te);return re.text==="{"&&_[_.length-1].text==="}"&&(_.pop(),_.shift()),_.reverse(),{tokens:_,start:re,end:ie}}consumeArgs($,_){if(_){if(_.length!==$+1)throw new ParseError("The length of delimiters doesn't match the number of args!");for(var te=_[0],re=0;re<te.length;re++){var ie=this.popToken();if(te[re]!==ie.text)throw new ParseError("Use of the macro doesn't match its definition",ie)}}for(var ne=[],ae=0;ae<$;ae++)ne.push(this.consumeArg(_&&_[ae+1]).tokens);return ne}expandOnce($){var _=this.popToken(),te=_.text,re=_.noexpand?null:this._getExpansion(te);if(re==null||$&&re.unexpandable){if($&&re==null&&te[0]==="\\"&&!this.isDefined(te))throw new ParseError("Undefined control sequence: "+te);return this.pushToken(_),_}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new ParseError("Too many expansions: infinite loop or need to increase maxExpand setting");var ie=re.tokens,ne=this.consumeArgs(re.numArgs,re.delimiters);if(re.numArgs){ie=ie.slice();for(var ae=ie.length-1;ae>=0;--ae){var se=ie[ae];if(se.text==="#"){if(ae===0)throw new ParseError("Incomplete placeholder at end of macro body",se);if(se=ie[--ae],se.text==="#")ie.splice(ae+1,1);else if(/^[1-9]$/.test(se.text))ie.splice(ae,2,...ne[+se.text-1]);else throw new ParseError("Not a valid argument number",se)}}}return this.pushTokens(ie),ie}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;){var $=this.expandOnce();if($ instanceof Token)if($.text==="\\relax"||$.treatAsRelax)this.stack.pop();else return this.stack.pop()}throw new Error}expandMacro($){return this.macros.has($)?this.expandTokens([new Token($)]):void 0}expandTokens($){var _=[],te=this.stack.length;for(this.pushTokens($);this.stack.length>te;){var re=this.expandOnce(!0);re instanceof Token&&(re.treatAsRelax&&(re.noexpand=!1,re.treatAsRelax=!1),_.push(this.stack.pop()))}return _}expandMacroAsText($){var _=this.expandMacro($);return _&&_.map(te=>te.text).join("")}_getExpansion($){var _=this.macros.get($);if(_==null)return _;if($.length===1){var te=this.lexer.catcodes[$];if(te!=null&&te!==13)return}var re=typeof _=="function"?_(this):_;if(typeof re=="string"){var ie=0;if(re.indexOf("#")!==-1)for(var ne=re.replace(/##/g,"");ne.indexOf("#"+(ie+1))!==-1;)++ie;for(var ae=new Lexer(re,this.settings),se=[],oe=ae.lex();oe.text!=="EOF";)se.push(oe),oe=ae.lex();se.reverse();var le={tokens:se,numArgs:ie};return le}return re}isDefined($){return this.macros.has($)||functions.hasOwnProperty($)||symbols.math.hasOwnProperty($)||symbols.text.hasOwnProperty($)||implicitCommands.hasOwnProperty($)}isExpandable($){var _=this.macros.get($);return _!=null?typeof _=="string"||typeof _=="function"||!_.unexpandable:functions.hasOwnProperty($)&&!functions[$].primitive}}var unicodeAccents={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},unicodeSymbols={\u00E1:"a\u0301",\u00E0:"a\u0300",\u00E4:"a\u0308",\u01DF:"a\u0308\u0304",\u00E3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1EAF:"a\u0306\u0301",\u1EB1:"a\u0306\u0300",\u1EB5:"a\u0306\u0303",\u01CE:"a\u030C",\u00E2:"a\u0302",\u1EA5:"a\u0302\u0301",\u1EA7:"a\u0302\u0300",\u1EAB:"a\u0302\u0303",\u0227:"a\u0307",\u01E1:"a\u0307\u0304",\u00E5:"a\u030A",\u01FB:"a\u030A\u0301",\u1E03:"b\u0307",\u0107:"c\u0301",\u1E09:"c\u0327\u0301",\u010D:"c\u030C",\u0109:"c\u0302",\u010B:"c\u0307",\u00E7:"c\u0327",\u010F:"d\u030C",\u1E0B:"d\u0307",\u1E11:"d\u0327",\u00E9:"e\u0301",\u00E8:"e\u0300",\u00EB:"e\u0308",\u1EBD:"e\u0303",\u0113:"e\u0304",\u1E17:"e\u0304\u0301",\u1E15:"e\u0304\u0300",\u0115:"e\u0306",\u1E1D:"e\u0327\u0306",\u011B:"e\u030C",\u00EA:"e\u0302",\u1EBF:"e\u0302\u0301",\u1EC1:"e\u0302\u0300",\u1EC5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1E1F:"f\u0307",\u01F5:"g\u0301",\u1E21:"g\u0304",\u011F:"g\u0306",\u01E7:"g\u030C",\u011D:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1E27:"h\u0308",\u021F:"h\u030C",\u0125:"h\u0302",\u1E23:"h\u0307",\u1E29:"h\u0327",\u00ED:"i\u0301",\u00EC:"i\u0300",\u00EF:"i\u0308",\u1E2F:"i\u0308\u0301",\u0129:"i\u0303",\u012B:"i\u0304",\u012D:"i\u0306",\u01D0:"i\u030C",\u00EE:"i\u0302",\u01F0:"j\u030C",\u0135:"j\u0302",\u1E31:"k\u0301",\u01E9:"k\u030C",\u0137:"k\u0327",\u013A:"l\u0301",\u013E:"l\u030C",\u013C:"l\u0327",\u1E3F:"m\u0301",\u1E41:"m\u0307",\u0144:"n\u0301",\u01F9:"n\u0300",\u00F1:"n\u0303",\u0148:"n\u030C",\u1E45:"n\u0307",\u0146:"n\u0327",\u00F3:"o\u0301",\u00F2:"o\u0300",\u00F6:"o\u0308",\u022B:"o\u0308\u0304",\u00F5:"o\u0303",\u1E4D:"o\u0303\u0301",\u1E4F:"o\u0303\u0308",\u022D:"o\u0303\u0304",\u014D:"o\u0304",\u1E53:"o\u0304\u0301",\u1E51:"o\u0304\u0300",\u014F:"o\u0306",\u01D2:"o\u030C",\u00F4:"o\u0302",\u1ED1:"o\u0302\u0301",\u1ED3:"o\u0302\u0300",\u1ED7:"o\u0302\u0303",\u022F:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030B",\u1E55:"p\u0301",\u1E57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030C",\u1E59:"r\u0307",\u0157:"r\u0327",\u015B:"s\u0301",\u1E65:"s\u0301\u0307",\u0161:"s\u030C",\u1E67:"s\u030C\u0307",\u015D:"s\u0302",\u1E61:"s\u0307",\u015F:"s\u0327",\u1E97:"t\u0308",\u0165:"t\u030C",\u1E6B:"t\u0307",\u0163:"t\u0327",\u00FA:"u\u0301",\u00F9:"u\u0300",\u00FC:"u\u0308",\u01D8:"u\u0308\u0301",\u01DC:"u\u0308\u0300",\u01D6:"u\u0308\u0304",\u01DA:"u\u0308\u030C",\u0169:"u\u0303",\u1E79:"u\u0303\u0301",\u016B:"u\u0304",\u1E7B:"u\u0304\u0308",\u016D:"u\u0306",\u01D4:"u\u030C",\u00FB:"u\u0302",\u016F:"u\u030A",\u0171:"u\u030B",\u1E7D:"v\u0303",\u1E83:"w\u0301",\u1E81:"w\u0300",\u1E85:"w\u0308",\u0175:"w\u0302",\u1E87:"w\u0307",\u1E98:"w\u030A",\u1E8D:"x\u0308",\u1E8B:"x\u0307",\u00FD:"y\u0301",\u1EF3:"y\u0300",\u00FF:"y\u0308",\u1EF9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1E8F:"y\u0307",\u1E99:"y\u030A",\u017A:"z\u0301",\u017E:"z\u030C",\u1E91:"z\u0302",\u017C:"z\u0307",\u00C1:"A\u0301",\u00C0:"A\u0300",\u00C4:"A\u0308",\u01DE:"A\u0308\u0304",\u00C3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1EAE:"A\u0306\u0301",\u1EB0:"A\u0306\u0300",\u1EB4:"A\u0306\u0303",\u01CD:"A\u030C",\u00C2:"A\u0302",\u1EA4:"A\u0302\u0301",\u1EA6:"A\u0302\u0300",\u1EAA:"A\u0302\u0303",\u0226:"A\u0307",\u01E0:"A\u0307\u0304",\u00C5:"A\u030A",\u01FA:"A\u030A\u0301",\u1E02:"B\u0307",\u0106:"C\u0301",\u1E08:"C\u0327\u0301",\u010C:"C\u030C",\u0108:"C\u0302",\u010A:"C\u0307",\u00C7:"C\u0327",\u010E:"D\u030C",\u1E0A:"D\u0307",\u1E10:"D\u0327",\u00C9:"E\u0301",\u00C8:"E\u0300",\u00CB:"E\u0308",\u1EBC:"E\u0303",\u0112:"E\u0304",\u1E16:"E\u0304\u0301",\u1E14:"E\u0304\u0300",\u0114:"E\u0306",\u1E1C:"E\u0327\u0306",\u011A:"E\u030C",\u00CA:"E\u0302",\u1EBE:"E\u0302\u0301",\u1EC0:"E\u0302\u0300",\u1EC4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1E1E:"F\u0307",\u01F4:"G\u0301",\u1E20:"G\u0304",\u011E:"G\u0306",\u01E6:"G\u030C",\u011C:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1E26:"H\u0308",\u021E:"H\u030C",\u0124:"H\u0302",\u1E22:"H\u0307",\u1E28:"H\u0327",\u00CD:"I\u0301",\u00CC:"I\u0300",\u00CF:"I\u0308",\u1E2E:"I\u0308\u0301",\u0128:"I\u0303",\u012A:"I\u0304",\u012C:"I\u0306",\u01CF:"I\u030C",\u00CE:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1E30:"K\u0301",\u01E8:"K\u030C",\u0136:"K\u0327",\u0139:"L\u0301",\u013D:"L\u030C",\u013B:"L\u0327",\u1E3E:"M\u0301",\u1E40:"M\u0307",\u0143:"N\u0301",\u01F8:"N\u0300",\u00D1:"N\u0303",\u0147:"N\u030C",\u1E44:"N\u0307",\u0145:"N\u0327",\u00D3:"O\u0301",\u00D2:"O\u0300",\u00D6:"O\u0308",\u022A:"O\u0308\u0304",\u00D5:"O\u0303",\u1E4C:"O\u0303\u0301",\u1E4E:"O\u0303\u0308",\u022C:"O\u0303\u0304",\u014C:"O\u0304",\u1E52:"O\u0304\u0301",\u1E50:"O\u0304\u0300",\u014E:"O\u0306",\u01D1:"O\u030C",\u00D4:"O\u0302",\u1ED0:"O\u0302\u0301",\u1ED2:"O\u0302\u0300",\u1ED6:"O\u0302\u0303",\u022E:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030B",\u1E54:"P\u0301",\u1E56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030C",\u1E58:"R\u0307",\u0156:"R\u0327",\u015A:"S\u0301",\u1E64:"S\u0301\u0307",\u0160:"S\u030C",\u1E66:"S\u030C\u0307",\u015C:"S\u0302",\u1E60:"S\u0307",\u015E:"S\u0327",\u0164:"T\u030C",\u1E6A:"T\u0307",\u0162:"T\u0327",\u00DA:"U\u0301",\u00D9:"U\u0300",\u00DC:"U\u0308",\u01D7:"U\u0308\u0301",\u01DB:"U\u0308\u0300",\u01D5:"U\u0308\u0304",\u01D9:"U\u0308\u030C",\u0168:"U\u0303",\u1E78:"U\u0303\u0301",\u016A:"U\u0304",\u1E7A:"U\u0304\u0308",\u016C:"U\u0306",\u01D3:"U\u030C",\u00DB:"U\u0302",\u016E:"U\u030A",\u0170:"U\u030B",\u1E7C:"V\u0303",\u1E82:"W\u0301",\u1E80:"W\u0300",\u1E84:"W\u0308",\u0174:"W\u0302",\u1E86:"W\u0307",\u1E8C:"X\u0308",\u1E8A:"X\u0307",\u00DD:"Y\u0301",\u1EF2:"Y\u0300",\u0178:"Y\u0308",\u1EF8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1E8E:"Y\u0307",\u0179:"Z\u0301",\u017D:"Z\u030C",\u1E90:"Z\u0302",\u017B:"Z\u0307",\u03AC:"\u03B1\u0301",\u1F70:"\u03B1\u0300",\u1FB1:"\u03B1\u0304",\u1FB0:"\u03B1\u0306",\u03AD:"\u03B5\u0301",\u1F72:"\u03B5\u0300",\u03AE:"\u03B7\u0301",\u1F74:"\u03B7\u0300",\u03AF:"\u03B9\u0301",\u1F76:"\u03B9\u0300",\u03CA:"\u03B9\u0308",\u0390:"\u03B9\u0308\u0301",\u1FD2:"\u03B9\u0308\u0300",\u1FD1:"\u03B9\u0304",\u1FD0:"\u03B9\u0306",\u03CC:"\u03BF\u0301",\u1F78:"\u03BF\u0300",\u03CD:"\u03C5\u0301",\u1F7A:"\u03C5\u0300",\u03CB:"\u03C5\u0308",\u03B0:"\u03C5\u0308\u0301",\u1FE2:"\u03C5\u0308\u0300",\u1FE1:"\u03C5\u0304",\u1FE0:"\u03C5\u0306",\u03CE:"\u03C9\u0301",\u1F7C:"\u03C9\u0300",\u038E:"\u03A5\u0301",\u1FEA:"\u03A5\u0300",\u03AB:"\u03A5\u0308",\u1FE9:"\u03A5\u0304",\u1FE8:"\u03A5\u0306",\u038F:"\u03A9\u0301",\u1FFA:"\u03A9\u0300"};class Parser{constructor($,_){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new MacroExpander($,_,this.mode),this.settings=_,this.leftrightDepth=0}expect($,_){if(_===void 0&&(_=!0),this.fetch().text!==$)throw new ParseError("Expected '"+$+"', got '"+this.fetch().text+"'",this.fetch());_&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode($){this.mode=$,this.gullet.switchMode($)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var $=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),$}finally{this.gullet.endGroups()}}parseExpression($,_){for(var te=[];;){this.mode==="math"&&this.consumeSpaces();var re=this.fetch();if(Parser.endOfExpression.indexOf(re.text)!==-1||_&&re.text===_||$&&functions[re.text]&&functions[re.text].infix)break;var ie=this.parseAtom(_);if(ie){if(ie.type==="internal")continue}else break;te.push(ie)}return this.mode==="text"&&this.formLigatures(te),this.handleInfixNodes(te)}handleInfixNodes($){for(var _=-1,te,re=0;re<$.length;re++)if($[re].type==="infix"){if(_!==-1)throw new ParseError("only one infix operator per group",$[re].token);_=re,te=$[re].replaceWith}if(_!==-1&&te){var ie,ne,ae=$.slice(0,_),se=$.slice(_+1);ae.length===1&&ae[0].type==="ordgroup"?ie=ae[0]:ie={type:"ordgroup",mode:this.mode,body:ae},se.length===1&&se[0].type==="ordgroup"?ne=se[0]:ne={type:"ordgroup",mode:this.mode,body:se};var oe;return te==="\\\\abovefrac"?oe=this.callFunction(te,[ie,$[_],ne],[]):oe=this.callFunction(te,[ie,ne],[]),[oe]}else return $}handleSupSubscript($){var _=this.fetch(),te=_.text;this.consume(),this.consumeSpaces();var re=this.parseGroup($);if(!re)throw new ParseError("Expected group after '"+te+"'",_);return re}formatUnsupportedCmd($){for(var _=[],te=0;te<$.length;te++)_.push({type:"textord",mode:"text",text:$[te]});var re={type:"text",mode:this.mode,body:_},ie={type:"color",mode:this.mode,color:this.settings.errorColor,body:[re]};return ie}parseAtom($){var _=this.parseGroup("atom",$);if(this.mode==="text")return _;for(var te,re;;){this.consumeSpaces();var ie=this.fetch();if(ie.text==="\\limits"||ie.text==="\\nolimits"){if(_&&_.type==="op"){var ne=ie.text==="\\limits";_.limits=ne,_.alwaysHandleSupSub=!0}else if(_&&_.type==="operatorname")_.alwaysHandleSupSub&&(_.limits=ie.text==="\\limits");else throw new ParseError("Limit controls must follow a math operator",ie);this.consume()}else if(ie.text==="^"){if(te)throw new ParseError("Double superscript",ie);te=this.handleSupSubscript("superscript")}else if(ie.text==="_"){if(re)throw new ParseError("Double subscript",ie);re=this.handleSupSubscript("subscript")}else if(ie.text==="'"){if(te)throw new ParseError("Double superscript",ie);var ae={type:"textord",mode:this.mode,text:"\\prime"},se=[ae];for(this.consume();this.fetch().text==="'";)se.push(ae),this.consume();this.fetch().text==="^"&&se.push(this.handleSupSubscript("superscript")),te={type:"ordgroup",mode:this.mode,body:se}}else break}return te||re?{type:"supsub",mode:this.mode,base:_,sup:te,sub:re}:_}parseFunction($,_){var te=this.fetch(),re=te.text,ie=functions[re];if(!ie)return null;if(this.consume(),_&&_!=="atom"&&!ie.allowedInArgument)throw new ParseError("Got function '"+re+"' with no arguments"+(_?" as "+_:""),te);if(this.mode==="text"&&!ie.allowedInText)throw new ParseError("Can't use function '"+re+"' in text mode",te);if(this.mode==="math"&&ie.allowedInMath===!1)throw new ParseError("Can't use function '"+re+"' in math mode",te);var{args:ne,optArgs:ae}=this.parseArguments(re,ie);return this.callFunction(re,ne,ae,te,$)}callFunction($,_,te,re,ie){var ne={funcName:$,parser:this,token:re,breakOnTokenText:ie},ae=functions[$];if(ae&&ae.handler)return ae.handler(ne,_,te);throw new ParseError("No function handler for "+$)}parseArguments($,_){var te=_.numArgs+_.numOptionalArgs;if(te===0)return{args:[],optArgs:[]};for(var re=[],ie=[],ne=0;ne<te;ne++){var ae=_.argTypes&&_.argTypes[ne],se=ne<_.numOptionalArgs;(_.primitive&&ae==null||_.type==="sqrt"&&ne===1&&ie[0]==null)&&(ae="primitive");var oe=this.parseGroupOfType("argument to '"+$+"'",ae,se);if(se)ie.push(oe);else if(oe!=null)re.push(oe);else throw new ParseError("Null argument, please report this as a bug")}return{args:re,optArgs:ie}}parseGroupOfType($,_,te){switch(_){case"color":return this.parseColorGroup(te);case"size":return this.parseSizeGroup(te);case"url":return this.parseUrlGroup(te);case"math":case"text":return this.parseArgumentGroup(te,_);case"hbox":{var re=this.parseArgumentGroup(te,"text");return re!=null?{type:"styling",mode:re.mode,body:[re],style:"text"}:null}case"raw":{var ie=this.parseStringGroup("raw",te);return ie!=null?{type:"raw",mode:"text",string:ie.text}:null}case"primitive":{if(te)throw new ParseError("A primitive argument cannot be optional");var ne=this.parseGroup($);if(ne==null)throw new ParseError("Expected group as "+$,this.fetch());return ne}case"original":case null:case void 0:return this.parseArgumentGroup(te);default:throw new ParseError("Unknown group type as "+$,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup($,_){var te=this.gullet.scanArgument(_);if(te==null)return null;for(var re="",ie;(ie=this.fetch()).text!=="EOF";)re+=ie.text,this.consume();return this.consume(),te.text=re,te}parseRegexGroup($,_){for(var te=this.fetch(),re=te,ie="",ne;(ne=this.fetch()).text!=="EOF"&&$.test(ie+ne.text);)re=ne,ie+=re.text,this.consume();if(ie==="")throw new ParseError("Invalid "+_+": '"+te.text+"'",te);return te.range(re,ie)}parseColorGroup($){var _=this.parseStringGroup("color",$);if(_==null)return null;var te=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(_.text);if(!te)throw new ParseError("Invalid color: '"+_.text+"'",_);var re=te[0];return/^[0-9a-f]{6}$/i.test(re)&&(re="#"+re),{type:"color-token",mode:this.mode,color:re}}parseSizeGroup($){var _,te=!1;if(this.gullet.consumeSpaces(),!$&&this.gullet.future().text!=="{"?_=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):_=this.parseStringGroup("size",$),!_)return null;!$&&_.text.length===0&&(_.text="0pt",te=!0);var re=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(_.text);if(!re)throw new ParseError("Invalid size: '"+_.text+"'",_);var ie={number:+(re[1]+re[2]),unit:re[3]};if(!validUnit(ie))throw new ParseError("Invalid unit: '"+ie.unit+"'",_);return{type:"size",mode:this.mode,value:ie,isBlank:te}}parseUrlGroup($){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var _=this.parseStringGroup("url",$);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),_==null)return null;var te=_.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:te}}parseArgumentGroup($,_){var te=this.gullet.scanArgument($);if(te==null)return null;var re=this.mode;_&&this.switchMode(_),this.gullet.beginGroup();var ie=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var ne={type:"ordgroup",mode:this.mode,loc:te.loc,body:ie};return _&&this.switchMode(re),ne}parseGroup($,_){var te=this.fetch(),re=te.text,ie;if(re==="{"||re==="\\begingroup"){this.consume();var ne=re==="{"?"}":"\\endgroup";this.gullet.beginGroup();var ae=this.parseExpression(!1,ne),se=this.fetch();this.expect(ne),this.gullet.endGroup(),ie={type:"ordgroup",mode:this.mode,loc:SourceLocation.range(te,se),body:ae,semisimple:re==="\\begingroup"||void 0}}else if(ie=this.parseFunction(_,$)||this.parseSymbol(),ie==null&&re[0]==="\\"&&!implicitCommands.hasOwnProperty(re)){if(this.settings.throwOnError)throw new ParseError("Undefined control sequence: "+re,te);ie=this.formatUnsupportedCmd(re),this.consume()}return ie}formLigatures($){for(var _=$.length-1,te=0;te<_;++te){var re=$[te],ie=re.text;ie==="-"&&$[te+1].text==="-"&&(te+1<_&&$[te+2].text==="-"?($.splice(te,3,{type:"textord",mode:"text",loc:SourceLocation.range(re,$[te+2]),text:"---"}),_-=2):($.splice(te,2,{type:"textord",mode:"text",loc:SourceLocation.range(re,$[te+1]),text:"--"}),_-=1)),(ie==="'"||ie==="`")&&$[te+1].text===ie&&($.splice(te,2,{type:"textord",mode:"text",loc:SourceLocation.range(re,$[te+1]),text:ie+ie}),_-=1)}}parseSymbol(){var $=this.fetch(),_=$.text;if(/^\\verb[^a-zA-Z]/.test(_)){this.consume();var te=_.slice(5),re=te.charAt(0)==="*";if(re&&(te=te.slice(1)),te.length<2||te.charAt(0)!==te.slice(-1))throw new ParseError(`\\verb assertion failed --
                    please report what input caused this bug`);return te=te.slice(1,-1),{type:"verb",mode:"text",body:te,star:re}}unicodeSymbols.hasOwnProperty(_[0])&&!symbols[this.mode][_[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+_[0]+'" used in math mode',$),_=unicodeSymbols[_[0]]+_.substr(1));var ie=combiningDiacriticalMarksEndRegex.exec(_);ie&&(_=_.substring(0,ie.index),_==="i"?_="\u0131":_==="j"&&(_="\u0237"));var ne;if(symbols[this.mode][_]){this.settings.strict&&this.mode==="math"&&extraLatin.indexOf(_)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+_[0]+'" used in math mode',$);var ae=symbols[this.mode][_].group,se=SourceLocation.range($),oe;if(ATOMS.hasOwnProperty(ae)){var le=ae;oe={type:"atom",mode:this.mode,family:le,loc:se,text:_}}else oe={type:ae,mode:this.mode,loc:se,text:_};ne=oe}else if(_.charCodeAt(0)>=128)this.settings.strict&&(supportedCodepoint(_.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+_[0]+'" used in math mode',$):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+_[0]+'"'+(" ("+_.charCodeAt(0)+")"),$)),ne={type:"textord",mode:"text",loc:SourceLocation.range($),text:_};else return null;if(this.consume(),ie)for(var ce=0;ce<ie[0].length;ce++){var ue=ie[0][ce];if(!unicodeAccents[ue])throw new ParseError("Unknown accent ' "+ue+"'",$);var me=unicodeAccents[ue][this.mode]||unicodeAccents[ue].text;if(!me)throw new ParseError("Accent "+ue+" unsupported in "+this.mode+" mode",$);ne={type:"accent",mode:this.mode,loc:SourceLocation.range($),label:me,isStretchy:!1,isShifty:!0,base:ne}}return ne}}Parser.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var parseTree=function ee($,_){if(!(typeof $=="string"||$ instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var te=new Parser($,_);delete te.gullet.macros.current["\\df@tag"];var re=te.parse();if(delete te.gullet.macros.current["\\current@color"],delete te.gullet.macros.current["\\color"],te.gullet.macros.get("\\df@tag")){if(!_.displayMode)throw new ParseError("\\tag works only in display equations");te.gullet.feed("\\df@tag"),re=[{type:"tag",mode:"text",body:re,tag:te.parse()}]}return re},render=function ee($,_,te){_.textContent="";var re=renderToDomTree($,te).toNode();_.appendChild(re)};typeof document!="undefined"&&document.compatMode!=="CSS1Compat"&&(typeof console!="undefined"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),render=function(){throw new ParseError("KaTeX doesn't work in quirks mode.")});var renderToString=function ee($,_){var te=renderToDomTree($,_).toMarkup();return te},generateParseTree=function ee($,_){var te=new Settings(_);return parseTree($,te)},renderError=function ee($,_,te){if(te.throwOnError||!($ instanceof ParseError))throw $;var re=buildCommon.makeSpan(["katex-error"],[new SymbolNode(_)]);return re.setAttribute("title",$.toString()),re.setAttribute("style","color:"+te.errorColor),re},renderToDomTree=function ee($,_){var te=new Settings(_);try{var re=parseTree($,te);return buildTree(re,$,te)}catch(ie){return renderError(ie,$,te)}},renderToHTMLTree=function ee($,_){var te=new Settings(_);try{var re=parseTree($,te);return buildHTMLTree(re,$,te)}catch(ie){return renderError(ie,$,te)}},katex$1={version:"0.13.24",render,renderToString,ParseError,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,__defineSymbol:defineSymbol,__defineMacro:defineMacro,__domTree:{Span,Anchor,SymbolNode,SvgNode,PathNode,LineNode}},findEndOfMath=function ee($,_,te){for(var re=te,ie=0,ne=$.length;re<_.length;){var ae=_[re];if(ie<=0&&_.slice(re,re+ne)===$)return re;ae==="\\"?re++:ae==="{"?ie++:ae==="}"&&ie--,re++}return-1},escapeRegex=function ee($){return $.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},amsRegex=/^\\begin{/,splitAtDelimiters=function ee($,_){for(var te,re=[],ie=new RegExp("("+_.map(oe=>escapeRegex(oe.left)).join("|")+")");te=$.search(ie),te!==-1;){te>0&&(re.push({type:"text",data:$.slice(0,te)}),$=$.slice(te));var ne=_.findIndex(oe=>$.startsWith(oe.left));if(te=findEndOfMath(_[ne].right,$,_[ne].left.length),te===-1)break;var ae=$.slice(0,te+_[ne].right.length),se=amsRegex.test(ae)?ae:$.slice(_[ne].left.length,te);re.push({type:"math",data:se,rawData:ae,display:_[ne].display}),$=$.slice(te+_[ne].right.length)}return $!==""&&re.push({type:"text",data:$}),re},renderMathInText=function ee($,_){var te=splitAtDelimiters($,_.delimiters);if(te.length===1&&te[0].type==="text")return null;for(var re=document.createDocumentFragment(),ie=0;ie<te.length;ie++)if(te[ie].type==="text")re.appendChild(document.createTextNode(te[ie].data));else{var ne=document.createElement("span"),ae=te[ie].data;_.displayMode=te[ie].display;try{_.preProcess&&(ae=_.preProcess(ae)),katex$1.render(ae,ne,_)}catch(se){if(!(se instanceof katex$1.ParseError))throw se;_.errorCallback("KaTeX auto-render: Failed to parse `"+te[ie].data+"` with ",se),re.appendChild(document.createTextNode(te[ie].rawData));continue}re.appendChild(ne)}return re},renderElem=function ee($,_){for(var te=0;te<$.childNodes.length;te++){var re=$.childNodes[te];if(re.nodeType===3){var ie=renderMathInText(re.textContent,_);ie&&(te+=ie.childNodes.length-1,$.replaceChild(ie,re))}else re.nodeType===1&&function(){var ne=" "+re.className+" ",ae=_.ignoredTags.indexOf(re.nodeName.toLowerCase())===-1&&_.ignoredClasses.every(se=>ne.indexOf(" "+se+" ")===-1);ae&&ee(re,_)}()}},renderMathInElement=function ee($,_){if(!$)throw new Error("No element provided to render");var te={};for(var re in _)_.hasOwnProperty(re)&&(te[re]=_[re]);te.delimiters=te.delimiters||[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}],te.ignoredTags=te.ignoredTags||["script","noscript","style","textarea","pre","code","option"],te.ignoredClasses=te.ignoredClasses||[],te.errorCallback=te.errorCallback||console.error,te.macros=te.macros||{},renderElem($,te)};function katex(ee){let $=document.createElement("div");$.innerHTML=ee,renderMathInElement($);let _=$.innerHTML;return $.remove(),_}class Timer{constructor($){this.limit=$,this.start=Date.now()}elapsed(){return(Date.now()-this.start)/1e3}over(){return this.elapsed()>this.limit}check(){if(this.over())throw CustomError("TimeoutError","running too long: > "+this.limit+"s")}}class ErrorLogger{constructor(){this.pile=[]}add($){let _=toError($);this.pile.push("["+_.name+"] "+_.message)}readHtml($){return this.pile.map(_=>_.replaceAll(`
`,"<br/>")).join($)}logs(){return[...this.pile]}html(){let $=this.readHtml("<br/><br/>"),_=$.length;return _>1e3&&($=$.substring(0,1e3)+` ... (${_} chars)`),$}lastLogHtml(){return this.pile[this.pile.length-1].replaceAll(`
`,"<br/>")}}class Soil{constructor($){this.gene=$,this.qn="",this.sol="",this.dict=new Dict,this.config=new Config,this.counter=0,this.timer=new Timer(10),this.logger=new ErrorLogger,this.reset()}reset(){this.qn=this.gene.qn,this.sol=this.gene.sol,this.dict=new Dict,this.config=new Config}evalCode($){let{result:_,context:te}=evaluate($,{dict:this.dict,sections:this.config.sections,answer:this.config.answer,options:this.config.options,shuffle:this.config.shuffle,qn:this.qn,sol:this.sol});return this.dict=te.dict,this.config={sections:te.sections,answer:te.answer,options:te.options,shuffle:te.shuffle},this.qn=te.qn,this.sol=te.sol,_}pushDict(){this.counter++,this.evalCode(this.gene.populate)}isValidated(){let $=this.gene.validate;return $===""?!0:($=$.replace(`
`," "),this.evalCode($)===!0)}runPopulate(){for(;this.counter<=1e3;){this.timer.check();try{if(this.pushDict(),!this.dict.checked())throw CustomError("PopulationError","Dict Check Failed.");if(!this.isValidated())throw CustomError("PopulationError","Cannot pass validate.");return!0}catch($){if($ instanceof Error)switch($.name){case"ContractError":this.logger.add($);break;case"MathError":this.logger.add($);break;case"PopulationError":this.logger.add($);break;default:throw $}else throw $}}throw CustomError("PopulationError","No population found after 1000 trials!")}runSection(){return this.qn=ExecSection(this.qn,this.config.sections,this.dict),this.sol=ExecSection(this.sol,this.config.sections,this.dict),!0}runPreprocess(){return this.evalCode(this.gene.preprocess),!0}runOption(){let $=0;for(;$<=100;){$++;try{return this.qn=AutoOptions(this.config.options,this.qn,this.dict),!0}catch(_){this.logger.add(_);continue}}throw CustomError("OptionError","No valid option generated after 100 trials")}runIntrapolate(){return this.qn=intrapolate(this.qn,this.dict),this.sol=intrapolate(this.sol,this.dict),!0}runSubstitute(){return this.qn=this.dict.substitute(this.qn),this.sol=this.dict.substitute(this.sol),this.qn=dress(this.qn),this.sol=dress(this.sol),!0}runPostprocess(){return this.evalCode(this.gene.postprocess),!0}runShuffle(){let $=new OptionShuffler(this.qn,this.sol,this.config.answer,this.config.shuffle);return $.AreOptionsDuplicated()?(this.logger.add(CustomError("ShuffleError","Duplicated options found!")),!1):(this.qn=$.genQn(),this.sol=$.genSol(),this.config.answer=$.genAns(),!0)}runKatex(){return this.qn=katex(this.qn),this.sol=katex(this.sol),!0}successFruit(){return{qn:this.qn,sol:this.sol,ans:this.config.answer,counter:this.counter,success:!0,logs:this.logger.logs(),time:this.timer.elapsed()}}errorFruit(){return{qn:"Error!<br/>"+this.logger.lastLogHtml(),sol:this.logger.html(),ans:"X",counter:this.counter,success:!1,logs:this.logger.logs(),time:this.timer.elapsed()}}nurture(){try{do if(this.reset(),this.runPopulate(),this.runSection(),this.runPreprocess(),this.runOption(),this.runIntrapolate(),this.runSubstitute(),this.runPostprocess(),!!this.runShuffle()){this.runKatex();break}while(!0);return this.successFruit()}catch($){return this.logger.add($),this.errorFruit()}}}class MathSoilCls{reap($){return new Soil($.gene).nurture()}grow($){$.fruit=this.reap($)}growAll($){$.forEach(_=>this.grow(_))}test($,_=100){let te=[];for(let re=1;re<=_;re++){if(this.grow($),!$.fruit.success)return;te.push($.fruit.counter)}$.fruit.counter=Mean(...te)}}var MathSoil=new MathSoilCls;globalThis.MathSoil=MathSoil;class MathSoil2Cls{reap($){return new Soil($).nurture()}inspect($,_){let te=[],re=[];for(let ie=1;ie<=_;ie++){let ne=this.reap($);if(!ne.success)return{counter:0,success:!1,logs:ne.logs,time:0};te.push(ne.counter),re.push(ne.time)}return{counter:Mean(...te),success:!0,logs:[],time:Mean(...re)}}}var MathSoil2=new MathSoil2Cls;globalThis.MathSoil2=MathSoil2;function at(ee){if(ee=Math.trunc(ee)||0,ee<0&&(ee+=this.length),!(ee<0||ee>=this.length))return this[ee]}const TypedArray=Reflect.getPrototypeOf(Int8Array);for(const ee of[Array,String,TypedArray])Object.defineProperty(ee.prototype,"at",{value:at,writable:!0,enumerable:!1,configurable:!0})})();
